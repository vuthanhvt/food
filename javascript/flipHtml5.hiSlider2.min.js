/*! leopard - v0.2.4 - 2015-02-03 by Terence Z., Q.Y.B. */!function(a,b,c){function d(a,b,c){Object.defineProperty(a,b,c)}function e(a,b){return a&&b?a.startTime-b.startTime||a._arrival-b._arrival:-1}function f(a,b){return a&&b?b.startTime-a.startTime||b._arrival-a._arrival:-1}function g(a,b){var c={};if("string"==typeof a&&(a=a.split(" ")),null==b&&(b=!0),"function"==typeof b)for(var d=-1,e=a.length;++d<e;)c[a[d]]=b(a[d],d,a);else for(var d=-1,e=a.length;++d<e;)c[a[d]]=b;return c}function h(a,b,c,d,e){var f=b.split(" "),h=f.length-(c?1:0)-(d?1:0),i=d?g(d):null;cd[3][a]={_default:b,normalize:function(a,d,e){(null==d||""===d||"auto"===d||"none"===d)&&(d=b);var g;return g=c?Oc((d+"").replace(/\s*,\s*/g,","),","):(d+"").split(/\s*,\s*/),k(a,g.map(function(a){for(var b=a.split(" "),c=f.concat(),d=i?c.length-2:c.length-1,e=0,g=h,j=-1,k=Math.min(c.length,b.length);++j<k;){var l=b[j];i&&l in i?c[c.length-1]=l:isFinite(parseInt(l,10))?g>e&&(c[e++]=l):c[d]=l}return c}),e,3)},getInterpolater:function(a,b){var c=n(a,b);return function(a){for(var b=c.call(this,a,!0),d=[],e=-1,f=b.length;++e<f;)d[e]=b[e].join(" ");return d+""}}},e&&Xb(cd[3][a],e)}function i(a,b,d,e,f){var g,h,i,o,p=0,q=0,r=c,s=k,t=cd[f],w=null;t&&(w=t[b],w&&(w.normalize&&(s=w.normalize),w.get&&(e=w.get))),Array.isArray(d)||(g=d.from,h=d.to,p=d.operator||0,q=d.constant||0,o=d.template);var x=e(a,b),y=0;if(h===r&&g===r)return null;h===r?(h=x,y=2):g===r&&(g=x,y=1);var z=0;"string"==typeof g&&(i=g.substr(0,2),i in dd&&(g=g.substr(2),z=dd[i]));var A=0;"string"==typeof h&&(i=h.substr(0,2),i in dd&&(h=h.substr(2),A=dd[i]));var B=s(a,g,b,f),C=s(a,h,b,f),D=1===y?B:2===y?C:s(a,x,b,f),E=B[2],F=B[1];B=B[0];var G=C[2],H=C[1];C=C[0];var I=D[2],J=D[1];D=D[0],(E!==I||E!==G||3!==f&&(J!==F||F!==H))&&(E=G=I=1,F=H=J=null,z=A=0,B=g,C=h,D=x);var K=l;z&&(5===E&&B.length!==D.length&&j(a,b,D,B,f),B=K(a,b,z,D,B,E,J,F,f)),A&&(5===G&&D.length!==C.length&&j(a,b,D,C,f),C=K(a,b,A,D,C,G,J,H,f)),3===f&&F!==H&&(B=Zb(a,b,B,F,H),F=H),5===G&&B.length!==C.length&&j(a,b,B,C,f),i=m(p,B,C,G),2===G&&(d.round||d.round!==!1&&"px"===H?G=3:d.floor&&(G=30));var L=w&&w.getInterpolater&&w.getInterpolater(G,i)||n(G,i),M={n:b,f:i.f,t:i.t,b:i.b,u:H,i:L,s:d.sign,fn:d.final===c?d.freeze?c:x:d.final,r:null};return!q||1===G&&1===q||(M.i=u(M.i,q)),null!=o&&(M.i=v(M.i,o,G)),M}function j(a,b,c,d,e){var f=cd[e],g=f?f[b]:null,h=g&&g.normalize||k;if(g){for(var i=g._default,j=d.length-1,l=c.length;++j<l;)d.push(h(a,i,b,e)[0][0]);for(j=c.length-1,l=d.length;++j<l;)c.push(h(a,i,b,e)[0][0])}else{for(var i=c[c.length-1],j=d.length-1,l=c.length;++j<l;)d.push(h(a,zc(i,!0),b,e));for(i=d[d.length-1],j=c.length-1,l=d.length;++j<l;)c.push(h(a,zc(i,!0),b,e))}}function k(a,b,c,d){var e=typeof b,f=3===d;if("number"===e)return[b,f&&!xh[c]?"px":null,2];if("string"===e){var g=parseFloat(b);if(0===g||g){var h=b.substr((g+"").length);if(!~h.search(fd))return[g,h||(f&&!xh[c]?"px":null),2]}if(b=b.trim(),He.table[b]||ed.test(b)){var i=b.indexOf(")");if(0>i||i===b.length-1&&b.indexOf(")",i+1)<0)return[He.parse(b),null,4]}return!f||b&&"auto"!==b?[f&&"@"===b?"":b,null,1]:[0,xh[c]?null:"px",2]}if(b instanceof He)return[He.parse(b),null,4];if(Array.isArray(b)){for(var j=[],l=-1,m=b.length;++l<m;)j[l]=k(a,b[l],c+l,d);return[j,null,5]}return[b,null,1]}function l(a,b,c,d,e,f,g,h,i){if(3===i&&f>1&&g!==h&&(d=Zb(a,b,d,g,h)),2===f){if(1===c)return d+e;if(2===c)return d-e}if(4===f){if(1===c)return[d[0]+e[0],d[1]+e[1],d[2]+e[2],d[3]+e[3]];if(2===c)return[d[0]-e[0],d[1]-e[1],d[2]-e[2],d[3]-e[3]]}return e}function m(a,b,c,d){var e=null;if(2===d)0===a?e=c-b:1===a?(e=c,c=b+e):2===a&&(e=-c,c=b+e);else if(4===d)0===a?e=[c[0]-b[0],c[1]-b[1],c[2]-b[2],c[3]-b[3]]:1===a?(e=c,c=[e[0]+b[0],e[1]+b[1],e[2]+b[2],e[3]+b[3]]):2===a&&(e=c,c=[(e[0]*=-1)+b[0],(e[1]*=-1)+b[1],(e[2]*=-1)+b[2],(e[3]*=-1)+b[3]]);else if(5===d){for(var f=[],g=-1,h=c.length;++g<h;)f[g]=m(a,b[g][0],c[g][0],c[g][2]);return{f:b,t:c,b:f}}return{f:b,t:c,b:e}}function n(a,b){if(2===a)return o;if(3===a)return p;if(1===a)return r;if(4===a)return s;if(5===a){for(var c=b.b,d=b.t,e=-1,f=d.length;++e<f;){var g=c[e];g.u=d[e][1],g.i=n(d[e][2],g)}return b.t=b.f=null,t}return 30===a?q:void 0}function o(a){var b=Mc(this.f+this.b*a);return null==this.u?b:b+this.u}function p(a){var b=~~(this.f+this.b*a+.5);return null==this.u?b:b+this.u}function q(a){var b=~~(this.f+this.b*a);return null==this.u?b:b+this.u}function r(a){var b=a>0?this.t:this.f;return b}function s(a){var b=this.f,c=this.b;return"rgba("+Math.max(0,Math.min(255,~~(b[0]+a*c[0])))+","+Math.max(0,Math.min(255,~~(b[1]+a*c[1])))+","+Math.max(0,Math.min(255,~~(b[2]+a*c[2])))+","+Math.max(0,Math.min(1,b[3]+a*c[3]))+")"}function t(a){for(var b=[],c=this.b,d=-1,e=c.length;++d<e;)b[d]=c[d].i(a);return b}function u(a,b){return 1===b?function(b){return 0>=b?a.call(this,0):a.call(this,1)}:function(b){return 1>b?a.call(this,0):a.call(this,1)}}function v(a,b,c){var d=gd;d.lastIndex=0;for(var e,f=[],g=[],h=0;e=d.exec(b);)h!==e.index&&(f.push(b.substring(h,e.index)),g.push([f.push(null)-1,+e[1]])),h=d.lastIndex;return h<b.length&&f.push(b.substr(h)),5===c?function(b){for(var c=a.call(this,b),d=-1,e=g.length;++d<e;)f[g[d][0]]=c[g[d][1]];return f+""}:function(b){var c=a.call(this,b);return f[g[0][0]]=c,f.join("")}}function w(){return++yd}function x(a,b){var c=i(a,b.name,b,B,1);return c&&(c.r=y),c}function y(a,b,c){a[c]=b}function z(a,b,c){a.setAttribute(c,b)}function A(a,b,c){Ah(a,c,b)}function B(a,b){return a[b]}function C(a,b){return a.getAttribute(b)}function D(a,b){if(!Bd[b]&&!Dg.KEYWORDS[b]){var c;if((c=a.style[b])&&"initial"!==c&&"inherit"!==c)return c}return wh(a,b)}function E(a,b){a.r=1===b?Cd.dom1:2===b?function(a){return function(b,c){a.call(b._dom,c)}}(a.r):Cd.dom0}function F(a,b){return(Ed[a]||(Ed[a]=++Dd<<4))+b}function G(a){Gb(["Right","Left","Bottom","Top"],a)}function H(a,b,c,d,e){var f,g;"string"==typeof c?(f=c+"In"+(d?"From"+d:""),g=c+"Out"+(d?"To"+d:"")):(f=c(!1),g=c(!0)),Wc.registerAnimationFactory(a+"In"+(b?"From"+b:""),R(f,!1,e)),Wc.registerAnimationFactory(a+"Out"+(b?"To"+b:""),R(g,!0,e))}function I(a,c,d){Gb(["In","Out"],function(e){var f="Out"===e;Wc.registerAnimationFactory(a+e+(c||""),function(a,c,g){var h=a;a=h instanceof Le?h.dom:h;var i,j=a.querySelectorAll("img,canvas")[0];if(!j||!(i=J(a,f)))return Wc.getAnimation(h,"Fade"+e,c,g);var k,l=Yc.create(g);return l.addEventListener("init",function(){k=ad.create(h,c);var e={};h instanceof Le?e.visible={to:!f,constant:f?2:0}:e.display={to:f?"none":"",constant:f?2:0},k.apply(e),l.add(k),k=ad.create(i,c),k.apply({display:{to:"",freeze:!1}}),l.add(k);var m=a.childNodes;m.length&&sd(m).forEach(function(d){if(!ai(d).hasClass("leo-animation-container")){var e;"#text"===d.nodeName.toLowerCase()&&""!==d.wholeText.replace(/\s+/g,"")&&(e=b.createElement("div"),Bh(e,"display","inline-block"),a.insertBefore(e,d),e.appendChild(d),d=e);var f=ad.create(d,c);f.apply({opacity:{to:0,freeze:!1,constant:1}}),l.add(f)}});var n=a.nodeName.toLowerCase();"img"===n||"canvas"===n?(Bh(i,{transform:Bh(a,"transform"),left:a.offsetLeft,top:a.offsetTop}),a.parentNode.appendChild(i)):a.appendChild(i),k=d(j,i,c,f,g.params),l.add(k),l.addEventListener("destroy",function(){i.parentNode&&i.parentNode.removeChild(i)},null)},null),l})})}function J(a){var b=Lg("canvas"),c=b.getContext("2d");if(c){var d=Gd(a),e=Jd(a);return b.className="leo-animation-canvas",b.width=d,b.height=e,Bh(b,{width:d,height:e,zIndex:Bh(a,"zIndex")}),b}return null}function K(a,c,d){var e=Gd(a),f=Jd(a),g=a.getElementsByTagName("img")[0],h=b.createElement("canvas");if(h.getContext("2d")){h.className="leo-animation-canvas",Bh(h,{width:e,height:f}),h.width=e,h.height=f,a.appendChild(h),c.onDestroy=function(){a.removeChild(h)};var i=Math.round(e*(d.strength||.35)),j=h.cloneNode(!0).getContext("2d"),k=h.cloneNode(!0).getContext("2d"),l=j.createLinearGradient(0,0,i,0),m=He.parse(d.color||"#fffff5");[.5,.1,0].forEach(function(a,b){m[3]=.7/Math.pow(10,b);var c=He.stringify(m);l.addColorStop(a,c),a!==1-a&&l.addColorStop(1-a,c)}),j.save(),j.fillStyle=l,j.rotate(15*Math.PI/180),j.translate(Math.atan(15*Math.PI/180)*f,0),j.fillRect(0,-i,i,f+2*i),j.restore();var n=h.getContext("2d");if(c.onRender=function(a){n.clearRect(0,0,e,f),n.globalCompositeOperation="source-over",n.drawImage(j.canvas,-e+2*e*a,0),n.globalCompositeOperation="destination-in",n.drawImage(k.canvas,0,0)},g&&a.childNodes[0]===g&&g.naturalWidth>0&&g.naturalHeight>0)try{return void k.drawImage(g,0,0,g.naturalWidth||1,g.naturalHeight||1,0,0,e,f)}catch(o){throw o}k.rect(0,0,e,f),k.fill()}}function L(a){function b(b,d){var e=0;"number"==typeof d&&(e=d);var f=b["offset"+a];switch(e){case 0:f-=wh(b,"padding"+c[0],!0)+wh(b,"padding"+c[1],!0);case 1:f-=wh(b,"border"+c[0]+"Width",!0)+wh(b,"border"+c[1]+"Width",!0);case 2:return f;case 3:return f+wh(b,"margin"+c[0],!0)+wh(b,"margin"+c[1],!0)}return f}var c=(a.toLowerCase(),"Width"===a?["Left","Right"]:["Top","Bottom"]);return function(a,c){var d=[];M(a,d);for(var e,f,g,h=b(a,c),i=0;e=d[i];++i){a=e.el,g=a.style;for(f in e)"string"==typeof e[f]&&(g[f]=e[f])}return h}}function M(a,b){if(a.offsetWidth<=0){if(Nd.test(th(a,null).display)){var c={el:a},d=a.style;for(var e in Md)c[e]=d[e],d[e]=Md[e];b.push(c)}var f=a.parentNode;f&&1===f.nodeType&&M(f,b)}}function N(a,b){a=a||{};var c=Object.keys(a);return function(d,e,f){var g=d instanceof Le,h=b?"to":"from",i={opacity:b?{to:0,freeze:!1}:{from:0}};return g?(i.visible={to:!b},b&&(i.visible.constant=2)):(i.display={to:b?"none":""},b&&(i.display.constant=2)),O(ad.create(d,e,f),function(){for(var e=-1,f=c.length;++e<f;){var j=c[e],k=a[j],l=j;g&&(l=Je.get(d.componentType,j)||"dom."+j);var m=i[l]={};if("object"==typeof k){for(var n in k)m[n]=k[n];null!=m.value&&(m[h]=m.value,m.value=null)}else m[h]="function"==typeof k?k(d,g,j):k,m.freeze=!b}return i})}}function O(a,b){function c(){a.removeEventListener("init",c,null),a.apply(b()),b=null}return a.addEventListener("init",c,null),a}function P(a,b,c){Wc.registerAnimationFactory(a+"In"+(b?"From"+b:""),N(c,!1)),Wc.registerAnimationFactory(a+"Out"+(b?"To"+b:""),N(c,!0))}function Q(a){var c,d,e=a.toLowerCase();b.getElementById("#leo-"+e)||(c=b.createElement("style"),c.id="leo-"+e,d="blur"===e?".leo-"+e+'{-webkit-filter:blur(10px);-moz-filter:blur(10px);-o-filter:blur(10px);-ms-filter:blur(10px);filter:blur(10px);filter:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg"><filter id="blur"><feGaussianBlur stdDeviation="10"/></filter></svg>#blur\');filter:progid:DXImageTransform.Microsoft.Blur(PixelRadius=\'10\')progid:DXImageTransform.Microsoft.BasicImage(opacity=1);}':".leo-"+e+"{-webkit-filter:grayscale(100%);-moz-filter:grayscale(100%);-ms-filter:grayscale(100%);-o-filter:grayscale(100%);filter:grayscale(100%);filter:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg'><filter id='grayscale'><feColorMatrix type='matrix' values='0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0'/></filter></svg>#grayscale\");filter:progid:DXImageTransform.Microsoft.BasicImage(grayscale=1);}",c.styleSheet?c.styleSheet.cssText=d:c.appendChild(b.createTextNode(d)),b.getElementsByTagName("head")[0].appendChild(c)),H(a,null,function(a){return function(b,c){var d=b.div,f=ai(d).select(".leo-"+e)[0],g=d.childNodes[0];f||(f=g.cloneNode(!0),ai(f).addClass("leo-"+e),d.insertBefore(f,g));var h,i=Yc.create();h=ad.create(d,c);var j={};return j.display={to:a?"none":""},a&&(j.display.constant=2),h.apply(j),i.add(h),h=ad.create(g,c/2),h.apply({opacity:a?{to:0}:{from:0}}),i.add(h,a?0:c/2),a||(h=ad.create(g,c/2),h.apply({opacity:{to:0,constant:1,freeze:!1}}),i.add(h)),h=ad.create(f,c/2),h.apply({opacity:a?{to:0}:{from:0}}),i.add(h,a?c/2:0),i}},null,{sequence:"together",row:1,col:1})}function R(a,c,d){return function(e,f,g){"undefined"==typeof g&&(g={});var h=Xb("function"==typeof d?d(c):d,g.params);h.easing=g.easing;var i=Yc.create(g);return i.addEventListener("init",function(){var d,g=e instanceof Le,j={opacity:{to:0,freeze:!1,constant:1}};g?j.visible={to:!c,constant:c?2:0}:j.display={to:c?"none":"",constant:c?2:0},d=ad.create(e,f),d.apply(j),i.add(d,0),e=e instanceof Le?e.dom:e,c||Nb(e);for(var k=T(e,h,c),l=k.length,m=1===l?0:(h&&h.interval||.6)*f/(l-1),n=f-(l-1)*m,o="string"==typeof a,p=b.createDocumentFragment();l-->0;){var q=k[l];if(q)for(var r=q.length;r-->0;){var s=q[r];p.appendChild(s.div),d=o?Wc.getAnimation(s.div,a,n,h):S(s,a,n,h,c),i.add(d,m*l)}}var t=b.createElement("div");t.className="leo-animation-container leo-animation-unnecessary",Bh(t,{left:e.offsetLeft,top:e.offsetTop,width:Id(e),height:Ld(e),transform:Bh(e,"transform"),zIndex:Bh(e,"zIndex"),overflow:h.overflow||"visible"}),c||Ob(e),t.appendChild(p),e.parentNode&&e.parentNode.insertBefore(t,e),d=ad.create(t,f),d.apply({display:{to:"",constant:1,freeze:!1}}),i.add(d,0),Ob(t),i.addEventListener("destroy",function(){t.parentNode&&t.parentNode.removeChild(t)},null)},null),i}}function S(a,b,c,d,e){function f(){j.removeEventListener("init",f,null),j.apply(h)}var g=e?"to":"from",h={};h.display={to:e?"none":""},e&&(h.display.constant=2);var i=b;"function"==typeof b&&(i=b(a,c));var j;if("string"==typeof i)j=Wc.getAnimation(a.div,i,c,d);else if(i instanceof ad||i instanceof Wc||i instanceof Yc)j=i;else{for(var k in i){var l=i[k],m=h[k]={};if("object"==typeof l)for(var n in l)m[n]=l[n];else m[g]=l,m.freeze=!e}j=ad.create(a.div,c,d),j.addEventListener("init",f,null)}return j}function T(a,c,d){"undefined"==typeof c&&(c={});var e=Id(a),f=Ld(a),g=c.row||5,h=c.col||5;0>g&&(g=5),0>h&&(h=5);var i=Math.floor(e/h),j=h-e%h,k=Math.floor(f/g),l=g-f%g,m=b.createElement("div");m.className="leo-animation-block",Bh(m,{display:d?"block":"none",width:i,height:k});var n=a.cloneNode(!0);ai(n).addClass("leo-animation-clone").select("iframe,video,audio,canvas,.leo-animation-unnecessary").remove(),Bh(n,{width:Hd(a),height:Kd(a)}),m.appendChild(n);var o,p,q,r,s=0,t=i,u=k,v=Ud.getSequenceTable(c.sequence,g,h,c.originX&&"right"===c.originX.toLowerCase(),c.originY&&"bottom"===c.originY.toLowerCase(),c.log),w=new Array(v.pop());do{r=0,k=u,Bh(m,"height",u),s===j&&(i+=1,Bh(m,"width",i));do m.id="_"+s+"_"+r+"_",o=s*t+Math.max(s-j,0),p=r*u+Math.max(r-l,0),r===l&&(k+=1,Bh(m,"height",k)),Bh(m,{left:o,top:p}),Bh(m.childNodes[0],{left:-o,top:-p}),q=v[r*h+s],w[q]||(w[q]=[]),w[q].push({ClientRect:{width:i,height:k,left:o,top:p},div:m,index:{i:s,j:r}});while((m=m.cloneNode(!0))&&++r<g)}while(++s<h);return w}function U(a,b,c){if(c){var d=Je.get(a.componentType,b);return d?a.getProperty(d):wh(a.dom,b)}return wh(a,b,!0)}function V(a,b,d,e){"undefined"==typeof d&&(d={}),["In","Out"].forEach(function(f,g){Wc.registerAnimationFactory("TA"+a+f,function(a,h,i){"undefined"==typeof i&&(i={});var j=1===g,k=a instanceof Le,l=k?a.dom:a,m=Tb(l);if(null===m)return Wc.getAnimation(a,"Fade"+f,h,i);var n=m.el;n.className+=" leo-splitText-el leo-animation-unnecessary",Ob(n),l.parentNode.insertBefore(n,l);var o=sd(l.childNodes);o.forEach(function(a){1===a.nodeType&&Bh(a,"transformStyle","preserve-3d")});var p=m.chars,q=m.chars.length,r=Ud.getSequenceTable("random",1,q),s=(i.random!==c?i.random:d.random)?r.pop():!1,t=0,u=d.interval,v=Wd(h*(1-(null==i.interval?null==u?.5:u:i.interval))),w=(h-v)/(s?s:q-1),x=zc(b),y=Yc.create(i);if(j)var z=x.pop();else z=x.shift();var A=x.length;e||(e=[]),x.forEach(function(a,b){j&&(b=A-b-1,a=x[b]);var c=e[b],f=Wd(v*(c||1/A))||1,g=i.easing||d.easing||"linear";p.forEach(function(b,c){var d,e={};for(var h in a)d=a[h],e[h]="function"==typeof d?{to:d(b,c)}:{to:d};var i=ad.create(b,f,{delay:Xd(w*(s?r[c]:c)+t),easing:g});i.addEventListener("init",function(){i.apply(e),Bh(b,"visibility","visible")},null),i.addEventListener("end",function(){j&&Bh(b,"visibility","hidden")},null),y.add(i)}),t+=f});var B=d.transformOrigin,C="function"==typeof B,D="string"==typeof B,E=C||D;return p.forEach(function(a,b){E&&Bh(a,"transformOrigin",C?B(a,b):B),j||Bh(a,"visibility","hidden");for(var c in z){var d=z[c];"function"==typeof d?Bh(a,c,d(a,b)):Bh(a,c,d)}}),y.addEventListener("update",function(){1===y._ratio?(j||(k?a.visible=!0:Nb(l)),Ob(n)):(k?a.visible=!1:Ob(l),Nb(n))},null),y.addEventListener("destroy",function(){l.parentNode.removeChild(n),m=null,l=null},null),y})})}function W(a){return function(b){return 1-a(1-b)}}function X(a){return function(b){return.5*(.5>b?a(2*b):2-a(2-2*b))}}function Y(a,b,c){Wc.registerTransitionFactory(a,function(a,d,e,f){var g=Yc.create(f),h={easing:g.easing};return d instanceof Le?d.visible=!1:zh(d,"display","none"),g.add(Wc.getAnimation(d,b,e,h)),g.add(Wc.getAnimation(a,c,e,h)),g})}function Z(a,b,c){return function(d,e){b&&(d.options={duration:c||+d.params.duration||0});var f=d.params,g={};for(var h in a)f.hasOwnProperty(h)&&(g[h]=f[h]);return d.params=xb(g,e.type),Kc(d.params)?void 0:b?mb:lb}}function $(){var a=this.stage.context;this.zIndex=a.getVariable("maxZIndex")}function _(a){ie.showHide(this,!!a.params.visible,a.params.duration)}function ab(a){re||(re=b.createElement("a"),re.style.display="none",re.style.visibility="hidden",b.body.appendChild(re)),re.setAttribute("href","mailto:"+a.content),re.textContent="mailto:"+a.content,re.click()}function bb(a){var b=this.stage.context.getInnerVariable("__app__").options;b.apis&&b.apis.gotoPageFun&&b.apis.gotoPageFun(a.content)}function cb(a){te.getInstance().show(se.getInstance().config(a.content))}function db(a){this.URLString!==a.params.content&&(this.url=this.__url=a.params.content)}function eb(a){te.getInstance().show(ve.getInstance().config(a.params))}function fb(a){var b=this.stage.context.getInnerVariable("__app__").options;b.apis&&b.apis.focusOnFunc&&b.apis.focusOnFunc(a.params)}function gb(b){a.open(b.content,b.params.target,"")}function hb(a){te.getInstance().show(we.getInstance().config(a.params))}function ib(a){te.getInstance().show(xe.getInstance().config(a.content))}function jb(a){te.getInstance().show(ye.getInstance().config(a.content,a.params))}function kb(a){var b=this.stage.context.getInnerVariable("__app__").options;b.apis&&b.apis.resetFocusFunc&&b.apis.resetFocusFunc(a.params.duration)}function lb(a){var b=a.params,c=b;this.setProperty(c)}function mb(a){var b=a.params,c=b;ie.tween(this,c,a.options)}function nb(a,b){Ee.actionsCandicates.push([a,b])}function ob(a,b){var c=a.target?b.stage.context.components.queryByName(a.target):b;return c||ni.warning("event target missed","cannot find the event target '"+a.target+"' in current context '"+b.stage.name+"'"),c}function pb(a,b){for(var c=-1,d=a.length;++c<d;){var e=a[c],f=e[0],g=e[1],h=b[f],i=g.action,j=h.events=[],k=Ae,l=pe;Array.isArray(i)||(i="advanced-event"===(i.type+"").toLowerCase()?i.content||i.advancedEvents||[]:[i]);for(var m=null,n=0,o=-1,p=i.length;++o<p;){var q=i[o],r=(q.when||"click").toLowerCase(),s=q.action||q.type,t=q.target;if("none"!==s&&(!t||b[t])){"o"===r[0]&&"n"===r[1]&&(r=r.substr(2));var u={trigger:Be[r]||r,target:t||f,params:q.params};for(var v in q)k[v]||(u[v]=q[v]);u.action=l[s]&&l[s](u,t&&b[t]||h,q,h),u.action&&(m=u.hint||s,j.push(u),"timer"===u.trigger&&++n)}}j.length?j.length>n&&(h["node.addClass"]="leo-action-trigger hi-action",m&&1===j.length&&(h["dom.title"]=Nc(m,50))):h.events=null}}function qb(a,b){if(a&&(a.animation||a.name)){var c=zc(a);a.animation&&(c.name=a.animation,delete c.animation),null!=a.start&&(c.delay=(c.delay||0)+a.start,delete c.start),c.repeat&&-1!==c.repeat&&--c.repeat;var d=c.name.toLowerCase();if(Ce[d])Ce[d](c,b);else if(+c.userDefined&&"sprite"===b){var e=c.params;c.params={action:c.name,sound:e.sound,text:e.text},delete e.sound,delete e.text,c.params.motion=xb(Xb({scaleX:1,scaleY:1},e),b),c.name="SpriteMotion"}return c}return null}function rb(a,b,c){if(b&&b.length){var d,e=qb,f=[],g=0,h=!1;a.animations=null;for(var i=-1,j=b.length;++i<j;){var k=b[i],l=(k.animation||k.name||"").toLowerCase(),m=(k.showType||"").toLowerCase();if(l)if("alwaysdisplay"!==l){if("none"===l)if("in"===m)k.animation="sound"===c.toLowerCase()?"SoundShow":"Show";else{if("out"!==m)continue;k.animation="sound"===c.toLowerCase()?"SoundHide":"Hide"}var n=e(k,c);n&&(f.push(n),delete n.showType,"in"===m?a.enter=zc(n):"out"===m?a.leave=zc(n):d=n,"none"!==l&&(h=!0),g=Math.max(n.delay,g))}else"out"===m&&(g=Math.max(k.start,g))}d&&d.delay+d.duration>=g&&!a.leave&&(d.repeat=-1),a.enter||a.manual||(a.defaultProps.visible=!0),f.length&&(a.animations=f.sort(function(a,b){return a.delay-b.delay}),h&&(a["transform.accelerate"]=!0))}else a.manual||(a.defaultProps.visible=!0)}function sb(a){var b=a.template.type.toLowerCase(),c={type:b,reset:!0,name:a.template.name,manual:!a.template.visible,defaultProps:xb(a.style,b,zc(De)),events:null};Ee.components[c.name]=c,rb(c,a.animations,b);var d=Ke.getClass(b),e=d&&d.textType;return e&&(c.textContent=a.template.content),Ge[b]&&Ge[b](c,a),e&&c.textContent&&(c.textContent=yb(c.textContent,e)),a.action&&nb(c.name,a),a.elements&&a.elements.length>0&&(c.children=ub(a.elements)),c}function tb(a){if(a)for(var b=-1,c=a.length;++b<c;){var d=a[b],e=(d.showType||"").toLowerCase();if("out"===e){var f=(d.animation||"").toLowerCase();return f&&"alwaysdisplay"!==f?+d.duration:-1}}return-1}function ub(a){for(var b,c=[],d=sb,e=ze,f=-1;++f<a.length;){var g=a[f];if(b=e[g.template.type.toLowerCase()])b(g,a,c);else{var h=d(g);h&&c.push(h)}}return c}function vb(a){var b=Ee;Ee=wb(a);var c=Ee.components[a.info.name]={name:a.info.name,type:(a.info.type||"scene").toLowerCase(),reset:!0,manual:!1,transition:null,defaultProps:{width:a.info.width,height:a.info.height},events:null};return c.transition=qb(a.transition,c.type)||{name:"None"},Ee.scene=c,c.children=ub(a.elements),a.action&&nb(c.name,a),pb(Ee.actionsCandicates,Ee.components),Ee=b,c}function wb(a){return{scene:null,option:a,actionsCandicates:[],components:{}}}function xb(a,b,c){var d=Je,e=Fe;c=c||{};for(var f in a){var g=a[f];if("string"==typeof g&&("color"===f||f.indexOf("Color")>=0)&&g.indexOf(";")<0&&(g=He.parseToString(g)),e[f])e[f](g,b,c,d);else{var h=d.get(b,f);h&&"!"!==h&&(c[h]=g)}}return c}function yb(a,b){if(a){if(1===b)return Ec(a).replace(/\/\^r\$\//g,"<br>");var c=nh(a,!0);return zb(c)}return""}function zb(a){if(1!==a.nodeType&&11!==a.nodeType)return a.textContent||"";for(var b="",c=a.childNodes,d=Ab,e=-1,f=c.length;++e<f;){var g=c[e];b+=1===g.nodeType?d(g):g.textContent||""}return b}function Ab(a){var b,c=a.nodeName.toLocaleLowerCase(),d=a.parentNode,e="",f="span";switch(c){case"textformat":return zb(a);case"p":if(!a.textContent)return"<br/>";(b=a.getAttribute("align"))&&(e="text-align:"+b.toLowerCase()+";"),d&&"textformat"===d.nodeName.toLowerCase()&&((b=d.getAttribute("leftmargin"))&&(e+="padding-left:"+b+"px;"),(b=d.getAttribute("leading"))&&a.setAttribute("leading",b)),f="p";break;case"font":(b=a.getAttribute("face"))&&(e+="font-family:"+b+";"),(b=a.getAttribute("size"))&&("p"===d.nodeName.toLowerCase()&&(e+="line-height:"+(+b+2*(+d.getAttribute("leading")||0))+"px;"),e+="font-size:"+b+"px;"),(b=a.getAttribute("color"))&&(e+="color:"+b+";"),(b=a.getAttribute("letterspacing"))&&(e+="letter-spacing:"+b+"px;");break;case"i":e="font-style:italic;";break;default:f=c}return"<"+f+(e?' style="'+e+'"':"")+">"+zb(a)+"</"+f+">"}function Bb(a,b,c){return a=0>a?a+1:a>1?a-1:a,~~(255*(1>6*a?b+(c-b)*a*6:.5>a?c:2>3*a?b+(c-b)*(2/3-a)*6:b)+.5)}function Cb(a){return a.textContent="",a}function Db(a,b){var c=a[0]||1,d=a[1]||0,e=a[2]||0,f=a[3]||1,g=[c,d],h=[e,f];b._tx=a[4]||0,b._ty=a[5]||0;var i=b._scaleX=Math.sqrt(g[0]*g[0]+g[1]*g[1]);g[0]/=i,g[1]/=i;var j=g[0]*h[0]+g[1]*h[1];h[0]-=j*g[0],h[1]-=j*g[1],i=b._scaleY=Math.sqrt(h[0]*h[0]+h[1]*h[1]),h[0]/=i,h[1]/=i,b._skewX=j/i;var k=c*f-d*e;0>k&&(f>c?b._scaleX*=-1:b._scaleY*=-1),(c||d)&&(b._rotation=Math.atan2(d,c)*ee),b._skewX=Math.atan2(b._skewX,1)*ee}function Eb(a,b){if(0!==a[15]){if(1!==a[15]){for(var c=-1;++c<4;)for(var d=-1;++d<4;)a[4*c+d]/=a[15];a[15]=1}if(0!==a[3]||0!==a[7]||0!==a[11]){var e=[a[3],a[7],a[11],1];a[3]=a[7]=a[11]=0;var f=cc(a),g=dc(e,f);b._p=-1/g[2];var h=g[3];if(1!==h)for(c=-1;++c<4;)for(d=-1;++d<4;)a[4*c+d]/=h}else b._p=0;b._tx=a[12],b._ty=a[13],b._tz=a[14];var i=[],j=[],k=[];for(c=-1;++c<3;)i[c]=a[c],j[c]=a[4+c],k[c]=a[8+c];gc(i,b._scaleX=ec(i)),j=hc(j,i,1,-(b._skewX=fc(i,j))),gc(j,b._scaleY=ec(j)),b.skewX/=b.scaleY,k=hc(k,i,1,-fc(i,k)),k=hc(k,j,1,-fc(i,j)),gc(k,b._scaleZ=ec(k));var l=ic(j,k);if(fc(i,l)<0)for(b._scaleX*=-1,b._scaleY*=-1,b._scaleZ*=-1,c=-1;++c<3;)i[c]*=-1,j[c]*=-1,k[c]*=-1;b._rotationX=Math.atan2(j[2],k[2]),b._rotation=Math.atan2(i[1],i[0])*ee,b._rotationY=Math.atan2(-i[2],k[2]/Math.cos(b._rotationX))*ee,b._rotationX*=ee,b._skewX=Math.atan2(b._skewX,1)*ee}}function Fb(a){var b=a.cloneNode(!0);if(a[Eg]){var c=new Dg(this._dom);c.clone(a[Eg])}return b}function Gb(a,b){if(a)if(Array.isArray(a))a.forEach(b);else for(var c in a)a.hasOwnProperty(c)&&b(a[c],c,a)}function Hb(a){return a[Ug]||(a[Ug]=Tg++)}function Ib(a,b){var c=b._originalEvent;if(c.touches&&c.touches.length){var d=c.touches;b.pageX=d[0].pageX,b.pageY=d[0].pageY}return b}function Jb(a,b,c,d){Og(a,b,Wg[c]=function(b){b.preventDefault(),d.call(a,Ib(a,b))},!0)}function Kb(a,b,c){Wg[c]&&(Rg(a,b,Wg[c],!0),delete Wg[c])}function Lb(a){return"none"===wh(a,"display")||!Hg(a.ownerDocument,a)}function Mb(a){a.parentNode&&a.parentNode.removeChild(a)}function Nb(a){return Pb(a,!0)}function Ob(a){return Pb(a,!1)}function Pb(a,b){var c,d,e,f="data-old-display",g=a.style;g&&(e=a.getAttribute(f),c=g.display,b?(e||"none"!==c||(g.display=""),""===g.display&&Lb(a)&&(e=Sb(a.nodeName),a.setAttribute(f,e))):e||(d=Lb(a),(c&&"none"!==c||!d)&&a.setAttribute(f,d?c:wh(a,"display"))),b&&"none"!==g.display&&""!==g.display||(g.display=b?e||"":"none"))}function Qb(a,b){var c=b.createElement(a);b.body.appendChild(c);var d=wh(c,"display");return b.body.removeChild(c),d}function Rb(){mh||(mh=kd(function(){hd.removeChild(lh),lh=null,mh=null},6e4))}function Sb(a){var c=b,d=ph[a];return d||(d=Qb(a,c),"none"!==d&&d||(lh||(lh=c.createElement("iframe"),lh.setAttribute("frameborder","0"),lh.setAttribute("width","0"),lh.setAttribute("height","0"),lh.style.cssText="display:block !important"),hd.appendChild(lh),c=(lh.contentWindow||lh.contentDocument).document,c.write("<!doctype html><html><body>"),c.close(),d=Qb(a,c),Rb()),ph[a]=d),d}function Tb(a){if(a){var b="SPAN",c="<SPAN>";1===a.nodeType&&(b=a.tagName,c=Ub(a));var d=Vb(a);if(d){var e=nh(c+d+"</"+b+">",!0).firstChild;return{el:e,chars:sd(e.querySelectorAll(".leo-char"))}}}return null}function Ub(a){for(var b="<"+a.tagName,c=a.attributes,d=-1,e=c.length;++d<e;){var f=c[d];f&&(b+=" "+f.name+'="'+f.value.replace(/"/g,'\\"')+'"')}return b+">"}function Vb(a){var b=a.nodeType,c="";if(3===b)for(var d=a.textContent,e=sh,f=-1,g=d.length;++f<g;){var h=d[f];c+=e.test(h)?h:"<SPAN class='leo-char'>"+Fc(h)+"</SPAN>"}else if(1===b)for(var i=a.childNodes,f=-1,g=i.length;++f<g;){var j=i[f];if(1===j.nodeType){var k=j.tagName,l=k.toLowerCase();if(!qh[l]){if(rh[l]){c+="<"+k+"/>";continue}var m=Ub(j),n=Vb(j);c+=m+n+"</"+k+">"}}else c+=Vb(j)}return c}function Wb(a,b){var c,d=th(a,null);return d&&(c=d[b],(null==c||""===c)&&(c=a.style[b]||"")),c}function Xb(){var a=arguments[0],b=!1,c=0,d=arguments.length;for("boolean"==typeof a&&(b=a,a=arguments[1],c=1),1===d&&(a=this,c--),a=a||{};++c<d;){var e=arguments[c];if(null!=e&&e!==a)for(var f in e)(b||!a.hasOwnProperty(a,f))&&(a[f]=e[f])}return a}function Yb(a,b,c,d){var e,f,g={},h=a.style;for(f in b)g[f]=h[f],h[f]=b[f];e=c.apply(a,d||[]);for(f in b)h[f]=g[f];return e}function Zb(a,b,c,d,e){var f,g,h=20,i=a.style,j=1,k=wf(b),l=!1;return k in i?g=wh(a,b,!1):(g=i.left,b=k="left"),l=Lb(a),l&&Pb(a,!0),zh(a,b,c+d),f=wh(a,b,!0),0===f?0:(Yb(a,Md,function(){do c/=j,zh(a,b,c+e);while(j!==(j=wh(a,b,!0)/f)&&1!==j&&--h)}),i[k]=g,l&&Pb(a,!1),c)}function $b(a,b){for(var c=b.nodeType?b:nh(b),d=c;d.firstChild&&1===d.firstChild.nodeType;)d=d.firstChild;return a.parentNode&&a.parentNode.insertBefore(c,a),d.appendChild(a),a}function _b(a,b,c,d){var e=0,f=0;if(a)if(b){var g=b/a;e=c*d/Math.sqrt(d*d+g*g*c*c)||0,0>a&&(e*=-1),f=g*e}else e=0>a?-c:c;else f=0>b?-d:d;return[e,f]}function ac(a){for(var b=[],c=-1;++c<16;)b[c]=a[c];for(c=-1;++c<3;)for(var d=c;++d<4;){var e=4*d+c,f=b[e]/=b[4*c+c];for(e=c;++e<4;)b[4*d+e]-=f*b[4*c+e]}return b}function bc(a,b){for(var c=[b[0]],d=[],e=0;++e<4;){for(var f=0,g=-1;++g<e;)f+=a[4*e+g]*c[g];c[e]=b[e]-f}for(d[3]=c[3]/a[15],e=15;--e>=0;){for(f=0,g=4;--g>e;)f+=a[4*e+g]*d[g];d[e]=(c[e]-f)/a[4*e+e]}return d}function cc(a){for(var b=[],c=-1;++c<4;)b[c]=0;var d=[],e=d.push;for(c=-1;++c<4;)b[c]=1,e.apply(d,bc(ac(a),b)),b[c]=0;return d}function dc(a,b){return[a[0]*b[0]+a[1]*b[4]+a[2]*b[8]+a[3]*b[12],a[0]*b[1]+a[1]*b[5]+a[2]*b[9]+a[3]*b[13],a[0]*b[2]+a[1]*b[6]+a[2]*b[10]+a[3]*b[14],a[0]*b[3]+a[1]*b[7]+a[2]*b[11]+a[3]*b[15]]}function ec(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2])}function fc(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function gc(a,b){a[0]/=b,a[1]/=b,a[2]/=b}function hc(a,b,c,d){return[c*a[0]+d*b[0],c*a[1]+d*b[1],c*a[2]+d*b[2]]}function ic(a,b){return[a[1]*b[2]-b[1]*a[2],a[2]*b[0]-b[2]*a[0],a[0]*b[1]-b[0]*a[1]]}function jc(a,b){var c,d=Kg(a),e=!!d.space;return c=null==b?e?function(){this.removeAttributeNS(d.space,d.local)}:function(){this.removeAttribute(a)}:"function"==typeof b?e?function(a){var c=b.call(this,a);null==c?this.removeAttributeNS(d.space,d.local):this.setAttributeNS(d.space,d.local,c)}:function(c){var d=b.call(this,c);null==d?this.removeAttribute(a):this.setAttribute(a,d)}:e?function(){this.setAttributeNS(d.space,d.local,b)}:function(){this.setAttribute(a,b)}}function kc(a,b){var c=(""+a).split(/\s+/).map(lc),d=c.length;return"function"==typeof b?function(a){var e=b.call(this,a);for(a=-1;++a<d;)c[a](this,+e)}:function(){for(var a=-1;++a<d;)c[a](this,+b)}}function lc(a){var b=" "+a+" ";return function(c,d){var e=c.classList;if(e)!d||2===d&&e.contains(a)?e.remove(a):e.add(a);else{var f=" "+c.className+" ";!d||2===d&&f.indexOf(b)>=0?c.className=f.replace(b," ").trim():f.indexOf(b)<0&&(c.className=(f+a).trim())}}}function mc(a){return"function"==typeof a?a:function(){return Lg(a,this.namespaceURI)}}function nc(a,b){return"function"==typeof b?function(c){this[a]=b.call(this,c)}:function(){this[a]=b}}function oc(a,b){var c,d=!!xh[a],e=yh[a];return e&&e.set?c=e.set:(a=wf(a),c=function(b,c){null==c?b.style[a]="":Ah(b,a,c)}),null==b?function(){c(this,null)}:"function"==typeof b?function(a){var e=b.call(this,a)+"";isFinite(+e)&&!d&&(e+="px"),c(this,e)}:(isFinite(+b)&&!d&&(b+="px"),function(){c(this,b)})}function pc(a){vd.log.apply(vd,a)}function qc(a){vd.warn.apply(vd,a)}function rc(a){vd.error.apply(vd,a)}function sc(a){return function(b){return b[0]="["+(new Date).toLocaleString()+"]"+b[0],a(b)}}function tc(a,b){return function(c){return c[0]="["+b+"]"+c[0],a(c)}}function uc(a){return function(b,c,d){return d.unshift(b?b+": "+(c||""):c),a(d)}}function vc(a){return function(b,c){for(var d=[],e=0;e<arguments.length-2;e++)d[e]=arguments[e+2];return a(b,c,d)}}function wc(a,b,c){return function(d){return c()?a(d):b(d)}}function xc(){return ni.timeStampEnabled}function yc(a,b,c){return b>a&&(a=b),a>c&&(a=c),a}function zc(a,b){var c=Array.isArray(a)?[]:{};for(var d in a)a.hasOwnProperty(d)&&(c[d]=b?zc(a[d],!0):a[d]);return c}function Ac(a,b){return"linear-gradient("+(/deg$/.test(a)?a:"to "+a)+","+b.join(",")+")"}function Bc(a,b){return a=a.split(" ").map(function(a){return"left"===a?"right":"right"===a?"left":"top"===a?"bottom":"bottom"===a?"top":a}).join(" "),Hf+"linear-gradient("+a+","+b.join(",")+")"}function Cc(a,b){return Ff?Ac(a,b):Gf?Bc(a,b):"transparent"}function Dc(a,b,c,d,e,f){var g=a+"px "+b+"px ";return null!=c&&(g+=c+"px "),e&&(g+=e+"px "),d&&(g+=d),f?"inset "+g:g}function Ec(a){return di||(di=Lg("div")),di.textContent=a,di.innerHTML}function Fc(a){return pi[a]?"&"+pi[a]+";":a}function Gc(a,b,c){var d=c;return b.replace(ri,function(a,b,c,e,f){if(b=b||e,d){var g;b in d&&(g=d[b]),d=f&&"object"==typeof g?g():g}}),(null==d||d==c?a:d)+""}function Hc(a,b){return a.replace(qi,function(a,c){return Gc(a,c,b)})}function Ic(a,b){b||(b=Jc);for(var c=0,d=a.length;++c<d;){for(var e=a[c],f=a[c-1],g=c;--g>=0&&b(e,f)<0;)a[g+1]=a[g],f=a[g-1];
a[g+1]=e}}function Jc(a,b){return a-b}function Kc(a){for(var b in a)return!1;return!0}function Lc(a,b,c){arguments.length<3&&(c=1,arguments.length<2&&(b=a,a=0));for(var d=[],e=1;c*e%1;)e*=10;var f,g=-1;if(a*=e,b*=e,c*=e,0>c)for(;(f=a+c*++g)>b;)d.push(f/e);else for(;(f=a+c*++g)<b;)d.push(f/e);return d}function Mc(a){return a>-1e-7&&1e-7>a?0:a}function Nc(a,b){if(a.length>b){var c=(b>>1)-2,d=(b>>1)-1;return a.substr(0,c)+"..."+a.substr(a.length-d,d)}return a}function Oc(a,b,c){for(var d="",e=[],f=0,g=-1,h=a.length;++g<h;){var i=a[g],j=!1;"("===i?(f++,d+=i):")"===i?(f--,d+=i,0===f&&c&&(j=!0)):i===b&&0===f?j=!0:d+=i,j&&(d.trim(),d&&e.push(d),d="")}return i!==b&&d&&e.push(d.trim()),0!==f&&(e=[a]),e}function Pc(a){var b=Qc(a);return b&&(b.scenes[0].children.length||b.scenes[0].events)?new ti(b):new Sc}function Qc(a){var b="__leo_parsedData__",c=a.slide[b];return a&&a.slide?(c||(c=vb(a.slide),a.slide[b]=c),{initialWidth:a.initialWidth||0,initialHeight:a.initialHeight||0,stageWidth:a.slide.info.width,stageHeight:a.slide.info.height,scenes:[c],preloadType:1,container:a.container,plugins:[{name:"progressBar"}],apis:{focusOnFunc:a.focusOnFunc,resetFocusFunc:a.resetFocusFunc}}):null}var Rc=a.leopard={version:"0.2.4",author:"Terence Z., Q.Y.B.",buildDate:"Tue Feb 03 2015 14:44:39"},Sc=function(){function a(){}var b=a.prototype;return b.play=b.pause=b.reset=b.replay=b.destroy=b.resize=function(){return this},a}();if(function(){function a(a){return arguments.length?void(b._test=a):b._test}try{var b={};return d(b,"test",{get:a,set:a}),b.test=2,b.test<<2!==8}catch(c){return!0}}())return void(a.hiSliderFactory=function(){return new Sc});var Tc=function(){function a(){this._hashCode=a.hashCount++}return d(a.prototype,"hashCode",{get:function(){return this._hashCode},enumerable:!0,configurable:!0}),a.hashCount=1,a}(),Uc=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},Vc=function(a){function b(b){a.call(this),this._eventsMap=null,this._eventTarget=b?b:this}return Uc(b,a),b.prototype.addEventListener=function(a,b,c,d){"undefined"==typeof d&&(d=0);var e=this._eventsMap;e||(e=this._eventsMap={});var f=e[a];f||(f=e[a]=[]),this._insertEventBin(f,b,c,d)},b.prototype._insertEventBin=function(a,b,c,d){for(var e=-1,f=-1,g=a.length;++f<g;){var h=a[f];if(h.fn===b&&h.ctx===c)return!1;-1===e&&h.pr<d&&(e=f)}var h={fn:b,ctx:c,pr:d};return-1!==e?a.splice(e,0,h):a.push(h),!0},b.prototype.removeEventListener=function(a,b,c){var d=this._eventsMap;if(d){var e=d[a];e&&(this._removeEventBin(e,b,c),0===e.length&&delete d[a])}},b.prototype._removeEventBin=function(a,b,c){for(var d=-1,e=a.length;++d<e;){var f=a[d];if(f.fn===b&&f.ctx===c)return a.splice(d,1),!0}return!1},b.prototype.removeAllEventListeners=function(a){this._eventsMap&&(a?delete this._eventsMap[a]:this._eventsMap=null)},b.prototype.destroy=function(){this.removeAllEventListeners(),this._eventTarget=null},b.prototype.hasEventListener=function(a){return!(!this._eventsMap||!this._eventsMap[a])},b.prototype.dispatchEvent=function(a){return a._setCurrentTarget(a._target=this._eventTarget),this._notifyListener(a)},b.prototype._notifyListener=function(a){var b=this._eventsMap;if(!b)return!0;var c=b[a._type];if(!c)return!0;c=c.concat();for(var d=-1,e=c.length;++d<e;){var f=c[d];if(f.ctx?f.fn.call(f.ctx,a):f.fn(a),a._isImmediatePropagationStopped)break}return!a._defaultPrevented},b.prototype.dispatchEventWith=function(a,b,c){"undefined"==typeof b&&(b=!1),(b||this.hasEventListener(a))&&Ch.dispatchEvent(this,a,b,c)},b.prototype.dispatchSimpleEvent=function(a,b){if(this.hasEventListener(a)){var c=Ch.getEventInstance(Ch,a,!1,!1,b);c._setCurrentTarget(c._target=this),this._notifyListener(c),Ch.recycle(c)}},b}(Tc),Wc=function(a){function b(b){a.call(this),this.__leo_guid__=w(),this.startTime=0,this._duration=1e3,this._currentTime=0,this._totalDurationDirty=!1,this._totalDuration=1e3,this._currentTotalTime=0,this._delay=0,this._timeScale=1,this._repeat=0,this._repeatDelay=0,this._isEnd=!1,this._yoyo=!1,this._reverse=!1,this._timeline=null,this._target=null,this._paused=!1,this._initialized=!1,this._ratio=0,this._cycle=0,this._rawTotalTime=0,this._arrival=0,this._prevTime=0,this._forced=!1,this._target=b,this.setEasing("easeInOutQuad")}return Uc(b,a),d(b.prototype,"duration",{get:function(){return this._duration},set:function(a){if(this._duration!==a){var b=this._duration;this._duration=a,this._setTotalDurationDirty(),this.notifyPropertyChange("duration",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"currentTime",{get:function(){return this._currentTime},set:function(a){this._currentTime===a&&this.duration||(this.currentTotalTime=a+this._cycle*(this.duration+this._repeatDelay))},enumerable:!0,configurable:!0}),d(b.prototype,"totalDuration",{get:function(){if(this._totalDurationDirty){this._totalDurationDirty=!1;var a=this._totalDuration,b=this._totalDuration=this.duration;1/0!==b&&(this._totalDuration=b+this._repeat*(b+this._repeatDelay)),this._rawTotalTime>=a&&(this._totalDuration>a&&(this._isEnd=!1),this._rawTotalTime=Math.min(this._rawTotalTime,this._totalDuration,a))}return this._totalDuration},enumerable:!0,configurable:!0}),b.prototype._setTotalDurationDirty=function(){this._totalDurationDirty||(this._totalDurationDirty=!0,this._timeline&&this._timeline._setChildDirty(this,this.startTime,!1))},d(b.prototype,"currentTotalTime",{get:function(){return this._currentTotalTime},set:function(a){if(this._currentTotalTime!==a||!this.duration){this._isEnd=!1;var b=this.startTime;this.update(this._reverse?this.totalDuration-a:a,!0),this._timeline&&(this.startTime=this._timeline._currentTime-(this._rawTotalTime?this._rawTotalTime/this._timeScale:0),this._timeline._setChildDirty(this,this.startTime,this.startTime!==b))}},enumerable:!0,configurable:!0}),d(b.prototype,"delay",{get:function(){return this._delay},set:function(a){if(this._delay!==a){var b=this._delay;if(this._delay=a,this._timeline){var c=this._timeline._currentTime,d=this.startTime;this.startTime+=a-b,c>d&&this.startTime>c&&this.update(0),this._timeline._setChildDirty(this,this.startTime,!0)}this.notifyPropertyChange("delay",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"timeScale",{get:function(){return this._timeScale},set:function(a){if(this._timeScale!==a){var b=this._timeScale;this._timeScale=a,this._timeline&&this._timeline._setChildDirty(this,this.startTime,!1),this.notifyPropertyChange("timeScale",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"repeat",{get:function(){return this._repeat},set:function(a){if(-1===a&&(a=this._foreverRepeat),this._repeat!==a){var b=this._repeat;this._repeat=a,this._setTotalDurationDirty(),this.notifyPropertyChange("repeat",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"_foreverRepeat",{get:function(){var a=this.duration+this._repeatDelay;return a?(6048e5-this._duration)/a:1e6},enumerable:!0,configurable:!0}),d(b.prototype,"repeatDelay",{get:function(){return this._repeatDelay},set:function(a){if(this._repeatDelay!==a){var b=this._repeatDelay;this._repeatDelay=a,this._setTotalDurationDirty(),this.notifyPropertyChange("repeatDelay",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"easing",{get:function(){return this._easing},set:function(a){if(this._easing!==a){var b=this._easing;this._easing=a,this.notifyPropertyChange("easing",b)}},enumerable:!0,configurable:!0}),b.prototype.setEasing=function(a){var b=typeof a;"string"===b?this.easing=ge.get(a):"function"===b&&(this.easing=a)},d(b.prototype,"isEnd",{get:function(){return this._totalDurationDirty&&this.totalDuration,this._isEnd},enumerable:!0,configurable:!0}),d(b.prototype,"yoyo",{get:function(){return this._yoyo},set:function(a){this._yoyo!==a&&(this._yoyo=a,this.notifyPropertyChange("yoyo",!a))},enumerable:!0,configurable:!0}),d(b.prototype,"reverse",{get:function(){return this._reverse},set:function(a){if(this._reverse!==a){if(this._reverse=a,this.isEnd&&(this._isEnd=!1),this._timeline){var b=this._rawTotalTime,c=this._timeline.currentTime,d=this.totalDuration,e=d-b;c<this.startTime?(this.startTime-=this.startTime-c+d,this._rawTotalTime=d):(this._rawTotalTime=d-b,this.startTime=c-b,e!==b&&this._timeline._setChildDirty(this,this.startTime+=(b-e)/this._timeScale,!0))}this.notifyPropertyChange("reverse",!a)}},enumerable:!0,configurable:!0}),d(b.prototype,"timeline",{get:function(){return this._timeline},enumerable:!0,configurable:!0}),d(b.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),d(b.prototype,"paused",{get:function(){return this._paused},enumerable:!0,configurable:!0}),d(b.prototype,"available",{get:function(){if(!this._timeline)return!1;for(var a,b=this._timeline,c=!this._paused;b&&c;)c=!b._paused,a=b,b=b._timeline;return c&&a===_c.getInstance()},enumerable:!0,configurable:!0}),b.prototype._play=function(a,b){return this.reverse=a,null!=b&&(this.currentTotalTime=b),this.resume(),this},b.prototype.play=function(a){return this._play(!1,a)},b.prototype.playReverse=function(a){return this._play(!0,a)},b.prototype.pause=function(){return this._paused||(this._paused=!0,this.dispatchSimpleEvent("pause")),this},b.prototype.resume=function(){if(this._paused){if(this._paused=!1,this._timeline){var a=this._rawTotalTime?this._rawTotalTime/this._timeScale:0,b=this.startTime;this.startTime=this._timeline._currentTime-a,this._timeline._setChildDirty(this,this.startTime,!!(a||this.startTime-b))}this.dispatchSimpleEvent("resume")}return this},b.prototype.stop=function(a,b){return this.pause(),a&&!this.isEnd&&(this.currentTotalTime=this.totalDuration),b&&this.destroy(),this},b.prototype.restart=function(){return this.currentTotalTime=this._reverse?this.totalDuration:0,this.resume()},b.prototype.destroy=function(){this.dispatchSimpleEvent("destroy"),this._timeline&&this._timeline.remove(this),this._paused=!0,this._target=null,a.prototype.destroy.call(this)},b.prototype.init=function(){this._initialized=!0,this.dispatchSimpleEvent("init")},d(b.prototype,"cycle",{get:function(){return this._cycle},enumerable:!0,configurable:!0}),d(b.prototype,"ratio",{get:function(){return this._ratio},enumerable:!0,configurable:!0}),d(b.prototype,"rawRatio",{get:function(){var a=this.duration;return a?this._currentTime/a:this.isEnd?1:0},enumerable:!0,configurable:!0}),b.prototype.update=function(a,b){var c=this._currentTime,d=this._currentTotalTime,e=this._cycle,f=this.totalDuration,g=this._duration,h=a;1e-5>a?a=0:a>=f-1e-5&&(a=f),this._rawTotalTime=a,this._reverse&&(a=f-a);var i=!1,j=a,k=a;if(0!==this._repeat){var l=g+this._repeatDelay;this._cycle=l?~~(k/l):0,0!==this._cycle&&this._cycle===k/l&&--this._cycle,j=k-this._cycle*l,i=this._yoyo&&0!==(1&this._cycle),i&&(j=g-j),k===f&&(this._cycle=this._repeat),j>g?j=g:0>j&&(j=0)}return this._ratio=g?j/g:i?0:1,this._easing&&(this._ratio=this._easing(this._ratio)),(0===g&&(0>h||0===f)||!this._initialized)&&(b=!0),c!==j||b||e!==this._cycle?(this._prevTime=c,this._initialized||this.init(),this._currentTime=j,this._currentTotalTime=k,this._forced=!!b,this.render(this._currentTime,c)?void this.destroy():(this._forced=!1,(d!==this._currentTotalTime||b)&&this.dispatchSimpleEvent("update"),e!==this._cycle&&0!==this._repeat&&this.dispatchSimpleEvent("repeat",e),this._isEnd=!1,void(this._rawTotalTime>=this.totalDuration&&(this._isEnd=!0,this._rawTotalTime>=this.totalDuration&&(this._rawTotalTime=this._totalDuration),this.dispatchSimpleEvent("end"),this.totalDuration)))):void(d!==k&&(this._currentTime=j,this._currentTotalTime=k,this.dispatchSimpleEvent("update")))},b.prototype.render=function(){return!1},b.config=function(a,c,d){if(null!=c&&(a.duration=+c||0),d){var e=b.KEYWORDS;d.delay&&(a._delay=d.delay);for(var f in d)f in e&&(a[f]=d[f]);d.hasOwnProperty("autoDestroy")&&a.addEventListener("end",a.destroy,a,-1/0),d.hasOwnProperty("easing")&&a.setEasing(d.easing)}return a},b.prototype.notifyPropertyChange=function(a,b){if(this.hasEventListener(a+="Change")){var c=Jh.getInstance(a,b);c._setCurrentTarget(c._target=this),this._notifyListener(c),Jh.recycle(c)}},b.registerAnimationFactory=function(a,c){b._animationFactories[a]=c},b.getAnimation=function(a,c,d,e){return b._animationFactories[c](a,d,e)},b.animate=function(a,c,d,e,f){var g=b._animationFactories[c](a,d,e);return g.addEventListener("end",g.destroy,g,-1/0),f||(f=_c.getInstance()),f.add(g),g},b.registerTransitionFactory=function(a,c){b._transitionFactories[a]=c},b.getTransition=function(a,c,d,e,f){return b._transitionFactories[d](a,c,e,f)},b.transition=function(a,c,d,e,f,g){var h=b._transitionFactories[d](a,c,e,f);return h.addEventListener("end",h.destroy,h,-1/0),g||(g=_c.getInstance()),g.add(h),h},b.KEYWORDS=g(["delay","timeScale","reverse","repeat","repeatDelay","yoyo"]),b._animationFactories={},b._transitionFactories={},b}(Vc),Xc=function(a){function b(b,c){a.call(this,b),this.data=null,c=this.config=c||{},this.onInit=c.onInit,this.onRender=c.onRender,this.onDestroy=c.onDestroy,this.data=c.data}return Uc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.onInit&&this.onInit()},b.prototype.render=function(a,b){return this.onRender(this._ratio,a,b),!1},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.onDestroy&&this.onDestroy(),this.onInit=this.onDestroy=this.onRender=this.config=this.data=null},b.create=function(a,c,d,e){return Wc.config(new b(a,d),c,e)},b}(Wc),Yc=(function(a){function b(b,c,d){a.call(this,null),this.targetOut=b,this.targetIn=c,d=this.config=d||{},this.onInit=d.onInit,this.onRender=d.onRender,this.onDestroy=d.onDestroy}return Uc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.onInit&&this.onInit()},b.prototype.render=function(){return this.onRender(this._ratio),!1},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.onDestroy&&this.onDestroy(),this.targetOut=this.targetIn=this.onInit=this.onDestroy=this.onRender=this.config=null},b.create=function(a,c,d,e,f){return b.config(new b(a,c,e),d,f)},b}(Wc),function(a){function b(){a.call(this,null),this._animations=[],this.tweenOverwritten=-1,this._durationDirty=!1,this._duration=0,this._hasSetDuration=!1,this._dirtyStart=0,this._childrenDirty=!1,this._reorder=!1,this._forwardOrder=!0,this._firing=!1,this._labels=null,this.easing=null}return Uc(b,a),d(b.prototype,"animations",{get:function(){return this._reorder&&(this._reorder=!1,Ic(this._animations,this._forwardOrder?e:f)),this._animations},enumerable:!0,configurable:!0}),d(b.prototype,"duration",{get:function(){if(this._durationDirty){if(this._durationDirty=!1,this._hasSetDuration)return this._duration;var a=this._animations,b=0;if(a)for(var c=-1,d=a.length;++c<d;){var e=a[c];if(e){var f=e.totalDuration,g=e.startTime+(f?f/e._timeScale:0);g>b&&(b=g)}}this._setDuration(b,!0)}return this._duration},set:function(a){this._setDuration(a,0===a)},enumerable:!0,configurable:!0}),b.prototype._setDuration=function(a,b){if((b&&!this._hasSetDuration||!b)&&(this._hasSetDuration=this._hasSetDuration||!b,this._duration!==a)){var c=this._duration;this._duration=a,this._setTotalDurationDirty(),this.dispatchSimpleEvent("durationChange",c)}},b.prototype._setChildDirty=function(a,b,c){this._childrenDirty?this._dirtyStart>b&&(this._dirtyStart=b):this._dirtyStart=b,c&&(this._reorder=c),this._childrenDirty=!0,this._setDurationDirty()},b.prototype._setDurationDirty=function(){this._durationDirty||(this._durationDirty=!0,this._setTotalDurationDirty())},b.prototype.stopAnimationsAt=function(a,c){var d="number"!=typeof a?this._parseTime(a):a,e=this.at(d);c=!!c;for(var f=-1,g=e.length;++f<g;){var h=e[f];if(c&&h instanceof b){h.stopAnimationsAt(d);var i=h._animations;i&&!i.length&&h.destroy()}else h.stop(!0,!0)}},b.prototype.add=function(a,c){if(a!==this){var d=this._currentTime;if(null!=c&&(d=isFinite(+c)?+c:this._parseTime(c)),a._delay&&(d+=a._delay),a.currentTotalTime&&(d-=a.currentTotalTime),a._timeline){if(a._timeline===this)return void(a.startTime!==d&&this._setChildDirty(a,a.startTime=d,!0));a._timeline.remove(a)}return a._timeline=this,a._arrival=b.ARRIVAL_COUNTER++,a.startTime=d,this._animations.push(a),this._reorder=!0,this._setDurationDirty(),this}},b.prototype.append=function(a){return this.add(a,this.duration)},b.prototype.remove=function(a){if(a!==this){a._timeline!==this&&ni.fatal("leo_Timeline.remove()","animation is not the child of the current timeline");var b=this._animations.indexOf(a);b>=0&&this._removeAtIndex(b),a._timeline=null}},b.prototype._removeAtIndex=function(a){var b=this._animations[a];this._firing?this._animations[a]=null:this._animations.splice(a,1),b._timeline=null,b.totalDuration>=b._timeScale*(this.duration-b.startTime)&&this._setDurationDirty()},b.prototype.at=function(a,b){var c="number"!=typeof a?this._parseTime(a):a,d=[];return this._iterate(this._forwardOrder,function(a){return a.startTime<=c?(a.startTime+a.totalDuration>=c&&(!b||a.target===b)&&d.push(a),0):1}),d},b.prototype._iterate=function(a,b){var c=this.animations;if(a)for(var d=-1,e=c.length;++d<e;){var f=c[d];if(f){var g=b.call(this,f,d);if(1===g)return;2===g&&(--d,--e)}}else for(var d=c.length;--d>=0;){var f=c[d];if(f&&1===b.call(this,f,d))return}},b.prototype.render=function(a,b){var c=a,d=b,e=c>=d;this._forwardOrder!==e&&(this._forwardOrder=e,this._reorder=!0);var f=this._childrenDirty,g=this._dirtyStart;if(f&&(this._childrenDirty=!1,this._dirtyStart=0,e?d>g&&(d=g):a>g&&this.render(g,d)),d>c){var h=c;c=d,d=h}var i=this.animations;this._firing=!0;for(var j=-1,k=i.length;++j<k;){var l=i[j];if(!this._forced&&this._paused)break;if(l){var m=l.startTime,n=c>=m;if(e&&!n)break;if(!l.paused&&n){var o=l._timeScale;l.totalDuration>=(d-m)*o&&l.update((a-m)*o)}}else{if(!i.length)break;i.splice(j--,1),--k}}return this._firing=!1,!1},d(b.prototype,"labels",{get:function(){return this._labels?this._labels:this._labels={}},enumerable:!0,configurable:!0}),b.prototype.addLabel=function(a,b){this.labels[a]="number"!=typeof b?this._parseTime(b):b},b.prototype.removeLabel=function(a){this.hasLabel(a)&&this.labels[a]},b.prototype.hasLabel=function(a){return null!=this._labels&&this._labels.hasOwnProperty(a)},b.prototype.getLabelValue=function(a){return this._labels&&this._labels[a]},b.prototype.destroy=function(){this._animations&&(a.prototype.destroy.call(this),this._iterate(this._forwardOrder,function(a,b){return this._removeAtIndex(b),a.destroy(),2}),this._animations=null)},b.prototype._parseTime=function(a){var b="__labels__",c=this._currentTime,d=this.labels;$c.lastIndex=0,Zc.test(a)&&(d.end=this.duration);var e=Function(b,"return "+a.replace(/^([+\-*\\])=/g,function(a,b){return c+b}).replace($c,function(a,d){var e=b+'["'+d+'"]';return"("+e+"!=null?"+e+":("+e+"="+c+"))"})+";");return e(d)},b.create=function(a){return Wc.config(new b,null,a)},b.ARRIVAL_COUNTER=0,b}(Wc)),Zc=/(?:^|\b)end(?:\b|$)/,$c=/(?:^|\b)([a-zA-Z_$][\w$_]*)\b/g,_c=function(a){function b(){a.call(this),this._ticker=Cg.getInstance(),this._inTicker=!1,this._justAdded=!1,this._hungFrame=0}return Uc(b,a),b.prototype.resume=function(){return!this._inTicker&&this._animations.length&&this._addToTicker(),a.prototype.resume.call(this)},b.prototype.pause=function(){return this._inTicker&&this._removeFromTicker(),a.prototype.pause.call(this)},d(b.prototype,"available",{get:function(){return!this._paused},enumerable:!0,configurable:!0}),b.prototype._addToTicker=function(){this._ticker.add(this),this._inTicker=!0,this._justAdded=this._justAdded||this._hungFrame!==this._ticker.frames},b.prototype._removeFromTicker=function(){this._ticker.remove(this),this._inTicker=!1,this._hungFrame=this._ticker.frames},b.prototype.add=function(b){return a.prototype.add.call(this,b),this._inTicker||this._paused||!this._animations.length||this._addToTicker(),this},b.prototype._removeAtIndex=function(a){var b=this._animations[a];this._firing?this._animations[a]=null:(this._animations.splice(a,1),!this._animations.length&&this._inTicker&&this._removeFromTicker()),b._timeline=null},b.prototype._detach=function(a){this._animations[a];this._animations.splice(a,1),!this._animations.length&&this._inTicker&&this._removeFromTicker()},b.prototype._setChildDirty=function(a,b,c){a.isEnd||(this._animations.indexOf(a)<0&&(this._animations.push(a),this._inTicker||this._paused||this._addToTicker()),c&&(this._reorder=c))},b.prototype.update=function(a){if(!this._paused){this._justAdded&&(this._justAdded=!1,this.startTime=this._ticker.currentTime);var b=this.animations,c=this.startTime;this.startTime=a,a=this._currentTime=this._currentTotalTime+=a-c,this._firing=!0;for(var d=-1,e=b.length;++d<e;){var f=b[d];f?(c=f.startTime,!f.paused&&a>=c&&f.update((a-c)*f._timeScale),(f.paused||f.isEnd)&&(this._detach(d--),--e)):(b.splice(d--,1),--e)}b.length||this._inTicker&&this._removeFromTicker(),this._firing=!1}},b.getInstance=function(){return this.instance||(this.instance=new b,this.instance.init()),this.instance},b.instance=null,b}(Yc),ad=function(a){function b(b){a.call(this,b),this._plugin=null,this._descriptors=[],this._keyframes=[],this._signTable={},this._restored=!1,this.restoreOnDestroy=!1,this._freeze=!0,this.overwritten=1,this.overwrittenEnabled=!0;for(var c=Ad,d=-1,e=c.length;++d<e;)if(c[d].conform(b)){this._plugin=c[d];break}this.addEventListener("end",this._restorePropValue,this,1/0)}return Uc(b,a),b.prototype.to=function(a,b){if(null==b){for(var c in a)this.to(c,a[c]);return this}return bd[typeof b]?this.apply(a,{to:b}):(b.to=b.value,this.apply(a,b))},b.prototype.from=function(a,b){if(null==b){for(var c in a)this.from(c,a[c]);return this}return bd[typeof b]?this.apply(a,{from:b}):(b.from=b.value,this.apply(a,b))},b.prototype.by=function(a,b){if(null==b){for(var c in a)this.by(c,a[c]);return this}return bd[typeof b]?this.apply(a,{operator:2,to:b}):(b.operator=2,b.to=b.value,this.apply(a,b))},b.prototype.fromTo=function(a,b){return this.apply(a,b)},b.prototype.fromBy=function(a,b){return this.apply(a,b)},b.prototype.apply=function(a,c){if(null==c){for(var d in a)this.apply(d,a[d]);return this}if(bd[typeof c])return this.apply(a,{to:c});c.name=a,null==c.freeze&&(c.freeze=this._freeze),this._plugin.sign(a,c);var e=c.immediate;if(c.hasOwnProperty("from")&&e!==!1&&(e=!0),this._initialized||e){b._checkCollision(this,[c]);var f=this._plugin.parse(this._target,c);f&&(this._keyframes.push(this._signTable[f.s]=f),e&&f.r(this._target,f.i(this._ratio),f.n))}else this._descriptors.push(c)},b.prototype._remove=function(a,b){var c=this._signTable[a];c&&(this._keyframes.splice(this._keyframes.indexOf(c),1),delete this._signTable[a],b&&c.r(this._target,c.i(1===b?1:0),c.n))},d(b.prototype,"freeze",{get:function(){return this._freeze},set:function(a){if(this._freeze=a,!this._initialized)for(var b=this._descriptors,c=-1,d=b.length;++c<d;)b[c].freeze=a},enumerable:!0,configurable:!0}),b.prototype._restorePropValue=function(){for(var a=this._target,b=this._keyframes,d=-1,e=b.length;++d<e;){var f=b[d];f.fn!==c&&f.r(a,f.fn,f.n)}this._restored=!0},b.prototype.registerKeyframe=function(a){this._signTable[a.s]&&this._remove(a.s),this._keyframes.push(this._signTable[a.s]=a)},b.prototype.init=function(){var c=this._descriptors,d=this._keyframes,e=this._signTable,f=this._plugin,g=this._target;c.length&&b._checkCollision(this,c);for(var h=-1,i=c.length;++h<i;){var j=c[h],k=f.parse(g,j);k&&d.push(e[k.s]=k)}this._descriptors=null,b._register(this),a.prototype.init.call(this)},b.prototype.destroy=function(){this._keyframes&&(this.restoreOnDestroy&&!this._restored&&this._restorePropValue(),this._initialized&&b._unregister(this),this._keyframes.length=0,this._descriptors=null,this._keyframes=null,this._signTable=null,a.prototype.destroy.call(this))},d(b.prototype,"globalStartTime",{get:function(){var a=this.startTime,b=this._timeline;if(b&&!b._timeline)return a+b.startTime;for(;b;)a+=b.startTime,b=b._timeline;return a},enumerable:!0,configurable:!0}),b.prototype.render=function(){this._restored=!1;var a=this._keyframes,b=this._target;if(!b||!a||!a.length)return!0;this._plugin.beginRender(b);for(var c=this._ratio,d=-1,e=a.length;++d<e;){var f=a[d];a[d].r(b,f.i(c),f.n)}return this._plugin.endRender(b),!1},b.create=function(a,c,d){var e=b.config(new b(a),c,d);if(d){if(null!=d.overwritten){var f=d.overwritten;f=f===!0?2:+f,(0===f||f)&&(e.overwritten=f)}null!=d.freeze&&(e.freeze=!!d.freeze)}return e},b.to=function(a,c,d,e){var f=b.create(a,c,e);return b._tween(f,d,"to")},b.from=function(a,c,d,e){var f=b.create(a,c,e);return b._tween(f,d,"from")},b.by=function(a,c,d,e){var f=b.create(a,c,e);return b._tween(f,d,"by")},b.fromTo=function(a,c,d,e){var f=b.create(a,c,e);return b._tween(f,d,"fromTo")},b.motion=function(a,c,d,e){var f=b.create(a,c,e);return b._tween(f,d,"apply")},b.staggerTo=function(a,c,d,e,f){return b._stagger(a,c,d,e,f,"to")},b.staggerFrom=function(a,c,d,e,f){return b._stagger(a,c,d,e,f,"from")},b.staggerBy=function(a,c,d,e,f){return b._stagger(a,c,d,e,f,"by")},b.staggerFromTo=function(a,c,d,e,f){return b._stagger(a,c,d,e,f,"fromTo")},b.staggerMotion=function(a,c,d,e,f){return b._stagger(a,c,d,e,f,"motion")},b._stagger=function(a,c,d,e,f,g){if(a.length<2)return b[g](a[0],c,d,e);var h=Yc.create();h.duration=(a.length-1)*f+c,h.addEventListener("end",h.destroy,h,-1/0),_c.getInstance().add(h);for(var i=0,j=-1,k=a.length;++j<k;){var l=b.create(a[j],c,e);h.add(l,i),l[g](d),i+=f}return h},b._tween=function(a,b,c){return a.addEventListener("end",a.destroy,a,-1/0),_c.getInstance().add(a),a[c](b),a},b._register=function(a){var c=a.target;if(c){var d=c[xd];d||(d=c[xd]=w());var e=b._tweens[d]||(b._tweens[d]=[]);e.push(a)}},b._unregister=function(a){var c=a.target;if(c){var d,e;if(!(d=c[xd])||!(e=b._tweens[d]))return;var f=e.indexOf(a);f>=0&&e.splice(f,1),e.length||delete b._tweens[d]}},b._getTweens=function(a){var c;return a&&(c=a[xd])?b._tweens[c]:void 0},b.stopTweensOf=function(a,c){var d=b._getTweens(a);if(d){d=d.concat();for(var e=-1,f=d.length;++e<f;)d[e].stop(c,!0)}},b._checkCollision=function(a,c){var d=b._getTweens(a.target);if(d&&!(d.length<=1&&d[0]===a)&&a.overwritten&&(2===a.overwritten||a.available)){var e=a.globalStartTime,f=e+a.totalDuration/a._timeScale,g=a.overwritten,h=(12&g)>>2,i=a._timeline===_c.getInstance();g&=3;for(var j=d.length;--j>=0;){var k=d[j],l=g,m=h;if(k!==a&&k.overwrittenEnabled){var n,o=e,p=!1;if(k._timeline===a._timeline){if(o=a.startTime,n=k.startTime,!(l=k._timeline.tweenOverwritten))continue;-1===l?l=g:(m=(12&l)>>2,l&=3),p=!i}else n=k.globalStartTime;if(2===l||k._initialized&&k.available&&(p&&n>=o||!p&&o>=n)&&n+k.totalDuration/k._timeScale<=f)for(var q=-1,r=c.length;++q<r;){var s,t=c[q];if((s=k._signTable[t.sign])&&t.sign===s.s&&(k._remove(s.s,m),!k._signTable))break}}}}},b._tweens={},b}(Wc),bd=g(["string","number","boolean"]),cd={1:{},2:{},3:{display:{normalize:function(a,b,c){if(!b){var d=a.style,e=b=d.display;"none"===e&&(d.display=b=""),""===d.display&&Lb(a)&&(b=Sb(a.nodeName)),d.display=e}return k(a,b,c,1)}},transformOrigin:{normalize:function(a,b,c){(null==b||""===b||"auto"===b||"none"===b)&&(b="50% 50%");for(var d=(""+b).split(" "),e=["50%","50%"],f=-1,g=Math.min(2,b.length);++f<g;){var h=d[f];if("%"!==h.substr(h.length-1)){var i=0===f?Gd(a):Jd(a);e[f]=i?100*parseFloat(h)/i+"%":e[f]}else e[f]=h}return k(a,e,c,1)},getInterpolater:function(a,b){var c=n(a,b);return function(a){var b=c.call(this,a,!0);return b.join(" ")}}},clip:{normalize:function(a,b,c){var d=null,e=null;null==b||""===b||"auto"===b||"none"===b?b="rect(0px,"+(d=Id(a))+"px,"+(e=Ld(a))+"px,0px)":b.indexOf("%")>=0&&(d=Id(a),e=Ld(a));for(var f=(""+b).match(/[-\d\.]+[%a-z]+/g),g=new Array(4),h=-1;++h<4;){var i=f[h];g[h]="%"===i[i.length-1]?h%2?d?parseFloat(i)*d/100:0:e?parseFloat(i)*e/100:0:parseFloat(i)+"px"}return k(a,g,c,3)},getInterpolater:function(a,b){var c=n(a,b);return function(a){var b=c.call(this,a,!0);return"rect("+b.join(" ")+")"}}}},4:{}};Gb({boxShadow:{containsColor:!0,constList:["@","inset"],_default:"0 0 0 0 black @"},textShadow:{containsColor:!0,_default:"0 0 0 black"},backgroundPosition:{_default:"0 0"}},function(a,b){return h(b,a._default,a.containsColor,a.constList)}),cd[4].shadow=cd[4].dropShadow=cd[3].textShadow,function(){function a(a){return function(b){for(var c=[],d=-1,e=a.length;++d<e;)c[d]=D(b,a[d]);return c}}function b(a,b,c,d){return Array.isArray(b)||(b=Oc(b+""," ")),1===b.length?b.push(b[0],b[0],b[0]):2===b.length?b.push(b[0],b[1]):3===b.length&&b.push(b[1]),k(a,b,c,d)}function c(a,b){var c=n(a,b);return function(a){var b=c.call(this,a,!0);return b.join(" ")}}var d=["Top","Right","Bottom","Left"];"color width style".replace(/\w+/g,function(e){var f=e[0].toUpperCase()+e.substr(1);cd[3]["border"+f]={get:a(d.map(function(a){return"border"+a+f})),normalize:b,getInterpolater:c}}),"margin padding".replace(/\w+/g,function(e){cd[3][e]={get:a(d.map(function(a){return e+a})),normalize:b,getInterpolater:c}}),cd[3].borderRadius={get:a(["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(a){return"border"+a+"Radius"})),normalize:b,getInterpolater:c}}();var dd={"+=":1,"-=":2},ed=/^(?:rgba?\(|hsla?\(|#[\da-f])/i,fd=/ |,/,gd=/\$(\d+)/g,hd=b.documentElement,id="webkit o O ms moz Moz".split(" "),jd="-webkit- -o- -ms- -moz-".split(" "),kd=a.setTimeout,ld=a.clearTimeout,md=a.setInterval,nd=a.clearInterval,od="function"==typeof a.setImmediate?a.setImmediate:function(a){return kd(a,0)},pd="function"==typeof a.clearImmediate&&od===a.setImmediate?a.clearImmediate:ld,qd="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=",rd=Array.prototype.slice,sd=(Object.prototype.toString,Object.prototype.hasOwnProperty,function(a){return rd.call(a)}),td=function(){},ud=function(a){return a},vd=a.console||{log:function(){},warn:function(){},error:function(){throw new Error}},wd="__leo_expando__",xd="__leo_guid__",yd=0,zd=null,Ad=[{conform:function(a){return a instanceof Le},beginRender:function(a){a._transform.deferred=!0,a instanceof lf&&(a.deferredRender=!0)},endRender:function(a){a._transform.deferred=!1,"_filter"in a&&a._filter&&(a.filter.deferred=!1),a instanceof lf&&(a.deferredRender=!1)},sign:function(a,b){var c=a.indexOf("."),d=c>=0?a.substr(0,c):"";return c>=0&&"dom"===d?void(b.sign=Ad[1].sign(a.substr(c+1),b)):(Dg.KEYWORDS[a]&&(a="transform."+a),b.type=1,void(b.sign=F(a,b.type)))},parse:function(a,b){var c=b.name,d=c.indexOf("."),e=d>=0?c.substr(0,d):"";if(d>=0){if("dom"===e){b.name=c.substr(d+1);var f=zd;zd=E;var g=Ad[1].parse(a._dom,b);return zd=f,g}a=a[e],c=c.substr(d+1)}else Dg.KEYWORDS[c]&&(a=a._transform,d=0,b.round=!1);var g=i(a,c,b,B,4);return g&&(g.r=d>=0?Cd[e]?Cd[e]:function(b,c,d){a[d]=c}:y),g}},{conform:function(a){return 1===a.nodeType||9===a.nodeType},beginRender:function(a){a[Eg]&&(a[Eg].deferred=!0)},endRender:function(a){a[Eg]&&(a[Eg].deferred=!1)},sign:function(a,b){b.sign=F(a,b.type=b.type||3)},parse:function(a,b){var c,d=b.name;if(1===b.type)c=x(a,b);else if(2===b.type){var e=Kg(b.name);c=i(a,e.local,b,e.space?function(a){return a.getAttributeNS(e.space,e.local)}:C,2),c&&(c.r=e.space?function(a,b){a.setAttributeNS(e.space,e.local,b)}:z)}else{var d=b.name;"zIndex"===d?b.round=!0:Dg.KEYWORDS[d]&&(b.round=!1),c=i(a,d,b,D,3),c&&(c.n=Dg.KEYWORDS[d]?d:wf(d),c.r=A)}return c&&zd&&zd(c,b.type),c}},{conform:function(){return!0},beginRender:td,endRender:td,sign:function(a,b){F(a,b.type=1)},parse:x}],Bd=g("transform"),Cd={transform:function(a,b,c){a._transform[c]=b},filter:function(a,b,c){a._filter[c]=b},font:function(a,b,c){a._font[c]=b},dom1:function(a,b,c){a._dom[c]=b},dom0:function(a,b,c){Ah(a._dom,c,b)}},Dd=0,Ed={};G(function(a){H("Blind",a,"Extend",a,function(b){return"Top"===a||"Bottom"===a?{row:-1,col:1,originY:b?"Top"===a?"Bottom":"Top":a}:{row:1,col:-1,originX:b?"Left"===a?"Right":"Left":a}})}),G(function(a){H("BlindFade",a,"Fade",null,function(){return"Top"===a||"Bottom"===a?{row:-1,col:1,originY:a}:{row:1,col:-1,originX:a}})}),H("BlockFade",null,"Fade"),H("BlockZoom",null,"Zoom"),Q("Blur"),I("Circle",null,function(a,b,c,d,e){"undefined"==typeof e&&(e={});
var f,g=b.getContext("2d"),h=b.cloneNode(!1),i=h.getContext("2d"),j=Gd(a),k=Jd(a),l=j/2,m=k/2,n=Math.ceil(Math.sqrt(j*j+k*k)),o=e.num||10,p=Math.floor(n/o),q=0,r=.5,s=(1-r)/(o-1),t=n%o,u=2*Math.PI,v=Xc.create(a,c,e);return v.onRender=function(b){b=d?1-b:b;var c=0;for(g.clearRect(0,0,j,k);o>c;)f=c*s,n=f+r,q=b>=f?b>n?1:(b-f)/r:0,i.clearRect(0,0,j,k),i.save(),i.globalAlpha=q,i.beginPath(),i.arc(l,m,(p*(c+1)+Math.max(0,c-t+1))/2,0,u,!1),i.closePath(),i.clip(),i.drawImage(a,0,0,j,k),g.drawImage(i.canvas,0,0),i.restore(),c++},v}),Wc.registerAnimationFactory("Flicker",function(a,b,c){"undefined"==typeof c&&(c={}),c.yoyo=!0,c.repeat=2*(c.repeat||0)+1;var d=ad.create(a,b/2,c);return d.overwritten=9,d.apply({opacity:{to:c.alpha||0,freeze:!1}}),d}),Wc.registerAnimationFactory("Glowing",function(a,b,c){"undefined"==typeof c&&(c={}),a=a instanceof Le?a.dom:a,c.easing="linear";var d=Xc.create(a,b,{onInit:function(){K(a,this,c)}},c);return d}),Wc.registerAnimationFactory("Jump",function(a,b,c){"undefined"==typeof c&&(c={});var d=Yc.create(c);d.tweenOverwritten=0;var e=c.range||10,f=ad.create(a,.4*b,{easing:"linear"});return f.overwritten=9,f.apply({ty:{to:"-="+e}}),d.add(f),f=ad.create(a,.2*b,{easing:"linear"}),f.overwritten=9,f.apply({ty:{to:"+="+e}}),d.append(f),f=ad.create(a,.2*b,{yoyo:!0,repeat:1,easeing:"linear"}),f.overwritten=9,f.apply({ty:{to:"-="+.4*e}}),d.append(f),d}),Wc.registerAnimationFactory("Motion",function(a,b,c){"undefined"==typeof c&&(c={});var d=ad.create(a,b,c),e={},f=c.params;for(var g in c.params)f.hasOwnProperty(g)&&(e[g]=f[g]);return e.spriteScaleX&&(e.spriteScaleX={constant:1,to:e.spriteScaleX}),e.spriteScaleY&&(e.spriteScaleY={constant:1,to:e.spriteScaleY}),d.apply(e),d}),Wc.registerAnimationFactory("Rotate",function(a,b,c){var d=ad.create(a,b,c);return d.overwritten=9,d.apply({rotation:{to:"+=360",freeze:!1}}),d}),Wc.registerAnimationFactory("Shake",function(a,b,c){"undefined"==typeof c&&(c={});var d=Yc.create(c);d.tweenOverwritten=0;for(var e=c.range||10,f={yoyo:!0,repeat:1,easing:"linear"},g=0;4>g;g++){var h=ad.create(a,b/8,f);h.overwritten=9,h.apply({rotation:{to:(g%2===0?"+":"-")+"="+(2>g?.4*e:e)}}),d.append(h)}return d}),Wc.registerAnimationFactory("Shine",function(a,b,c){"undefined"==typeof c&&(c={}),a=a instanceof Le?a.dom:a;var d=(c.offsetX||0)+"px "+(c.offsetY||0)+"px "+(c.blur||20)+"px "+(c.strength||10)+"px "+He.parseToString(c.color||"#000");c.yoyo=!0,c.repeat=2*(c.repeat||0)+1;var e=Bh(a,"boxShadow");e="none"===e?"0 0 0 0 rgba(255,255,255,0)":e,Bh(a,"boxShadow",e);var f=ad.create(a,b/2,c);f.overwritten=9;var g={boxShadow:{to:d,freeze:!1}};return f.apply(g),f}),Wc.registerAnimationFactory("ShineInside",function(a,c,d){"undefined"==typeof d&&(d={}),a=a instanceof Le?a.dom:a;var e=ai(a).select("#shineInsideDiv"+a.id)[0];e?ad.stopTweensOf(e):(e=b.createElement("div"),e.id="shineInsideDiv"+a.id),Bh(e,{position:"absolute",width:"100%",height:"100%",left:0,top:0,boxShadow:"inset 0 0 0 "+He.parseToString(d.color||"#fff")}),a.appendChild(e),d.yoyo=!0,d.repeat=2*(d.repeat||0)+1,d.easing="linear";var f=ad.create(e,c/2,d);return f.apply({boxShadow:{to:"inset "+(d.offsetX||0)+"px "+(d.offsetY||0)+"px "+(d.blur||20)+"px "+(d.strength||10)+"px "+(d.color||"#fff")}}),f.addEventListener("destroy",function(){e&&e.parentNode&&(e.parentNode.removeChild(e),e=null)},null),f}),Wc.registerAnimationFactory("ShowStage",function(a,b,c){"undefined"==typeof c&&(c={});var d=Yc.create(c),e=ad.create(a,b),f=a.actualWidth/2,g=a.actualHeight/2,h=a.getMaxRadius(f,g,a.actualWidth,a.actualHeight);e.apply({spotX:f-h,spotY:g-h,spotWidth:2*h,spotHeight:2*h}),d.add(e,0);var i=Wc.getAnimation(a,"FadeOut",b);return d.add(i,0),d.duration=b,d}),Wc.registerAnimationFactory("SpotLight(Move to)",function(a,b,c){"undefined"==typeof c&&(c={});var d=ad.create(a,b,c);return d.setEasing("easeOutQuad"),d.apply(c.params),d.addEventListener("init",function e(){d.removeEventListener("init",e,null),a.visible||d.apply({visible:!0,opacity:{from:0,to:a.opacity}})},null),d});var Fd=this;Wc.registerAnimationFactory("SpriteMotion",function(a,c,d){"undefined"==typeof d&&(d={});var e=d.params,f=Yc.create(d);f.duration=c;var g=0;if(e.motion&&(f.add(Wc.getAnimation(a,"Motion",c,{easing:d.easing,params:e.motion,overwritten:d.overwritten}),0),++g),e.action&&a.sprite.containsAction(e.action)){var h=a.sprite.getNumFramesOfAction(e.action);if(h){var i=a.actionConfigs&&a.actionConfigs[e.action],j=i&&i.frameRate||8,k=i&&i.repeat||0,l=ad.create(a,1e3*h/j,{easing:he(h+1,h/(h+1)),repeat:k,overwritten:d.overwritten});f.add(l,0),l.restoreOnDestroy=!0,l.apply({currentActionName:{immediate:!1,from:e.action,to:e.action},currentActionIndex:{immediate:!1,from:0,floor:!0,to:h,freeze:!!e.freeze}}),a.node.select(".showed-text").remove();var m=e.text;if(m&&m.content){{var n=a.node.el("div").addClass("leo-comp--sprite-text"),o=a.width,p=a.height,q=400,r=174,s=(m.position,[45,60]),t=n.el("div").addClass("inside"),u=m.bgImage;t.el("div").addClass("masking "+u.substring(1+u.lastIndexOf("_"),u.lastIndexOf(".")))}if(m.bgImage.indexOf("circle")>=0?(q=300,r=200,s=[60,50],t.addClass("circle")):m.bgImage.indexOf("cloud")>=0?(q=273,r=283,s=[38,40,150,40],t.addClass("cloud")):t.addClass("rect"),"large"===m.size.toLowerCase()){var v=1.5;q*=v,r*=v,s=s.map(function(a){return a*v})}t.style("borderWidth",s.join("px ")+"px");var w,x,y="50% 100%";m.bgImage.indexOf("left")>=0?(w=-q+.18*o,x=-r+.2*p,y="100% 100%"):m.bgImage.indexOf("right")>=0?(w=o-.18*o,x=-r+.2*p,y="0 100%"):(w=(o-q)/2,x=-r-20);var z,A;a.watch("width",z=function(){var b=a.width;w=m.bgImage.indexOf("left")>=0?-q+.18*b:m.bgImage.indexOf("right")>=0?b-.18*b:(b-q)/2,n.style("left",w)},Fd),a.watch("height",A=function(){var b=a.height;x=m.bgImage.indexOf("left")>=0?-r+.2*b:m.bgImage.indexOf("right")>=0?-r+.2*b:-r-20,n.style("top",x)},Fd),n.style({left:w,top:x,backgroundImage:"url("+m.bgImage+")",width:q,height:r,transformOrigin:y}),f.addEventListener("init",function(){n.style("transform","scale(1)").addClass("showed-text")},null),f.addEventListener("destroy",function(){a.unwatch("width",A,null),a.unwatch("height",z,null),Ob(n[0])},null);var B=1500,C=bi("div").addClass("content").html(yb(m.content,0)),D=f.duration;if(B>=D)t.append(C);else{var E=Tb(C[0]),F=E.chars;t.append(E.el);var G=Math.min(Math.max(D-B,0)/F.length,150);F.forEach(function(a,b){var c=ad.create(a,0,{delay:G*b+500});Ob(a),c.addEventListener("init",function(){Nb(a)},null),f.add(c)})}}var H=e.sound;if(H){var I=b.createElement("audio");I.src=H.src,I.load(),f.addEventListener("init",function(){I.play()},null),f.addEventListener("destroy",function(){I.pause(),I=null},null)}++g}}return g?f:null});var Gd,Hd,Id,Jd,Kd,Ld,Md={position:"absolute",visibility:"hidden",display:"block"},Nd=/^(?:none|table(?!-c[ea]).+)/;"Width,Height".replace(/\w+/g,function(a){var b=L(a),c=a.toLowerCase(),d="scroll"+a,e="offset"+a,f="client"+a,g=function(a,g){if(arguments.length<2){if(a.setTimeout)return a.innerWidth;if(9===a.nodeType){var h=a.documentElement;return Math.max(a.body[d],h[d],a.body[e],h[e],h[f])}return b(a)}zh(a,c,g)};"Width"===a?(Gd=g,Hd=function(a){return b(a,1)},Id=function(a,c){return b(a,c?3:2)}):(Jd=g,Kd=function(a){return b(a,1)},Ld=function(a,c){return b(a,c?3:2)}),g=null}),Gb(["ver","hor"],function(a){var b="hor"===a?"tx":"ty",c="hor"===a?Gd:Jd,d={yoyo:!0,repeat:1,easing:"linear"};Wc.registerAnimationFactory("Swing("+a+")",function(e,f,g){var h=Yc.create(g);h.tweenOverwritten=0;for(var i=g.range||c(e)||e["hor"===a?"_actualWidth":"_actualHeight"],j=0;2>j;j++){var k=ad.create(e,f/4,d);k.overwritten=9;var l={};l[b]={to:(1>j?"+":"-")+"="+i,freeze:!1},k.apply(l),h.append(k)}return h})}),Wc.registerAnimationFactory("TextScroll",function(a,b,c){"undefined"==typeof c&&(c={});var d,e,f=a instanceof Le,g=f?a.dom:a;Bh(g,"overflow","hidden"),f?(e=a.height,d=Jd(g.getElementsByTagName("div")[0])):(e=Kd(g),Nb(g),d=g.scrollHeight||Jd(g),Ob(g)),c.easing="linear",c.repeat=c.repeat||0;var h=g.querySelector(".leo-comp--txt__content");Bh(h,"ty",e);var i=ad.create(h,b/2,c);i.apply({ty:{to:-d,freeze:!1}});var j=Yc.create();return j.add(i),j.addEventListener("destroy",function(){return Bh(h,"ty","0")},Fd),j}),Wc.registerAnimationFactory("TextShine",function(a,b,c){"undefined"==typeof c&&(c={}),a=a instanceof Le?a.dom:a;for(var d=(c.offsetX||0)+"px "+(c.offsetY||0)+"px "+(c.blur||20)+"px "+He.parseToString(c.color||"#fff"),e=d,f=c.strength||10,g=0;f>g;g++)e=e+","+d;c.yoyo=!0,c.repeat=2*(c.repeat||0)+1,c.easing="linear";var h=Bh(a,$d);h=("none"===h?"0 0 0 rgba(255,255,255,0)":e)+",";var i="0 0 0 "+He.transparentize(He.parseToString(c.color||"#fff"),0);for(g=0;f>g;g++)h+=i;Bh(a,$d,i);var j=ad.create(a,b/2,c);return j.overwritten=9,j.apply({textShadow:{to:e,freeze:!1}}),j}),Wc.registerAnimationFactory("TextStarWars",function(a,b,c){"undefined"==typeof c&&(c={});var d,e,f=a instanceof Le,g=f?a.dom:a;Bh(g,{perspective:100,overflow:"hidden"}),f?(e=a.height,d=Jd(g.getElementsByTagName("div")[0])):(e=Kd(g),Nb(g),d=g.scrollHeight||Jd(g),Ob(g)),c.easing="linear",c.repeat=c.repeat||0;var h=30,i=g.querySelector(".leo-comp--txt__content");Bh(i,{ty:e,rotationX:h,transformOrigin:"50% 0%"});var j=ad.create(i,b,c);j.apply({ty:{to:2*-e,freeze:!1},tz:{to:3*-e/2,freeze:!1}});var k=Yc.create();return k.add(j),k.addEventListener("destroy",function(){return Bh(i,{ty:0,tz:0,rotationX:0,transformOrigin:"50%"})},Fd),k}),Wc.registerAnimationFactory("Zoom",function(a,b,c){"undefined"==typeof c&&(c={}),c.yoyo=!0,c.repeat=2*(c.repeat||0)+1;var d=ad.create(a,b/2,c);return d.overwritten=9,d.apply({scaleX:{to:"+="+parseFloat(c.scale||.2),freeze:!1},scaleY:{to:"+="+parseFloat(c.scale||.2),freeze:!1}}),d}),Wc.registerAnimationFactory("ZoomFocus",function(a,c,d){"undefined"==typeof d&&(d={}),a=a instanceof Le?a.dom:a;var e=b.createElement("div");Bh(e,{position:"absolute",width:"100%",height:"100%",left:0,top:0,borderColor:He.parseToString(d.color||"rgba(255,255,255,0.5)"),borderStyle:d.type||"solid",boxSizing:"border-box"}),a.appendChild(e);var f=d.width||20;d.yoyo=!0,d.easing="linear",d.repeat=2*(d.repeat||0)+1;var g=ad.create(e,c/2,d);return g.overwritten=9,g.apply({borderWidth:{to:f,freeze:!1}}),g.addEventListener("destroy",function(){a.removeChild(e)},Fd),g}),Wc.registerAnimationFactory("ZoomRotate",function(a,b,c){"undefined"==typeof c&&(c={}),c.yoyo=!0,c.repeat=2*((c.repeat||1)-1)+1;var d=ad.create(a,b/2,c);return d.overwritten=9,d.apply({rotation:{to:"+="+(c.rotate||360),freeze:!1},scaleX:{to:c.scale||0,freeze:!1},scaleY:{to:c.scale||0,freeze:!1}}),d}),Q("Gray");var Od=[function(a,b,c){return U(a,c,b)+U(a,"width",b)},function(a,b,c){return U(a,c,b)-U(a,"width",b)},function(a,b,c){return U(a,c,b)+U(a,"height",b)},function(a,b,c){return U(a,c,b)-U(a,"height",b)}];G(function(a,b){var c={rotation:("Right"===a||"Bottom"===a?"+":"-")+"=90"};c[2>b?"tx":"ty"]=Od[b],P("Roll",a,c)}),I("Scan",null,function(a,b,c,d,e){"undefined"==typeof e&&(e={});var f,g,h=b.getContext("2d"),i=b.cloneNode(!1),j=i.getContext("2d"),k=Gd(a),l=Jd(a),m=k/2,n=l/2,o=Math.ceil(Math.sqrt(k*k+l*l)),p=e.num||10,q=0,r=.5,s=(1-r)/(p-1),t=2*Math.PI/p,u=Xc.create(a,c);return u.onRender=function(b){b=d?1-b:b;var c=0;for(h.clearRect(0,0,k,l);p>c;)f=c*s,g=f+r,q=b>=f?b>g?1:(b-f)/r:0,j.clearRect(0,0,k,l),j.save(),j.beginPath(),j.moveTo(m,n),j.arc(m,n,o/2,c*t,(c+q)*t,!1),j.lineTo(m,n),j.closePath(),j.clip(),j.drawImage(a,0,0,k,l),h.drawImage(j.canvas,0,0),j.restore(),c++},u}),Gb(["Ver","Hor"],function(a){I("Shine",a,function(b,c,d,e,f){"undefined"==typeof f&&(f={});var g=c.getContext("2d"),h=c.cloneNode(!1),i=h.getContext("2d");i.lineWidth=1;for(var j,k=f.shape||a,l=f.num||20,m=0,n=100,o=Math.floor,p=Math.random,q=[],r=Gd(b),s=Jd(b),t="Ver"===k?s:r,u=0;l>u;u++)j=o(p()*l)+1,j>m&&(m=j),n>j&&(n=j),q.push({x:o(p()*r),y:o(p()*s),r:o(p()*t),s:j});var v;v=1==m?0:1/m;var w=Xc.create(b,d),x=1/3,y=2/3,z="255, 255, 255",A=.3,B=.65,C=ge.get("easeInOutQuad");return w.onRender=function(a){var a=e?1-a:a;g.clearRect(0,0,r,s),i.clearRect(0,0,r,s),i.globalCompositeOperation="source-over",i.globalAlpha=1,a>x&&(i.fillStyle="rgba("+z+","+C((a-x)/y)+")",i.fillRect(0,0,r,s));var c,d,f,h,j,m=0;for(u=0;l>u;u++)c=q[u],d=(c.s-n)*v,a>=d&&(m=(a-d)/(1-d),f=o(c.r*m),h=c.x-f,j=f<<1,i.fillStyle="rgba("+z+","+m/2+")",i.strokeStyle="rgba("+z+","+m+")","Ver"===k?(i.fillRect(0,h,r,j),i.beginPath(),i.moveTo(0,h+.5),i.lineTo(r,h+.5),i.moveTo(0,h+j+.5),i.lineTo(r,h+j+.5),i.stroke(),i.closePath()):(i.fillRect(h,0,j,s),i.beginPath(),i.moveTo(h+.5,0),i.lineTo(h+.5,s),i.moveTo(h+j+.5,0),i.lineTo(h+j+.5,s),i.stroke(),i.closePath()));m=0,A>0&&(g.globalCompositeOperation="lighter",a>=B&&(m=C((a-B)/(1-B))),g.globalAlpha=A*(1-m),g.drawImage(i.canvas,0,0)),i.globalCompositeOperation="source-atop",i.drawImage(b,0,0,r,s),g.globalCompositeOperation="lighter",g.globalAlpha=1,g.drawImage(i.canvas,0,0)},w})}),H("Shuffle",null,function(){return function(a){{var b=a.ClientRect;a.div}return{opacity:0,tx:(Math.random()>.5?1:-1)*Math.random()*b.width*5,ty:(Math.random()>.5?1:-1)*Math.random()*b.height*5}}},null,{sequence:"together"}),G(function(a){H("Slice",a,"Move",a,function(){return"Top"===a||"Bottom"===a?{row:1,col:-1,overflow:"hidden"}:{row:-1,col:1,overflow:"hidden"}})}),Gb(["In","Out"],function(a){var b="Out"===a?"MoveOutTo":"MoveInFrom";Gb(["Hor","Ver"],function(c){if("Hor"===c)var d="j",e=-1,f="Left",g="Right";else var d="i",e=1,f="Top",g="Bottom";Wc.registerAnimationFactory("Slice"+a+c+"Cross",R(function(a){return b+(a.index[d]%2===0?f:g)},"Out"===a,function(){return{row:1*e,col:-1*e,overflow:"hidden"}}))})}),G(function(a){H("Smooth",a,"Extend",a,function(){return"Top"===a||"Bottom"===a?{row:1,col:-1}:{row:-1,col:1}})}),Gb(["In","Out"],function(a){var b="Out"===a?"ExtendOutTo":"ExtendInFrom";Gb(["Hor","Ver"],function(c){if("Hor"===c)var d="j",e=-1,f="Left",g="Right";else var d="i",e=1,f="Top",g="Bottom";Wc.registerAnimationFactory("Smooth"+a+c+"Cross",R(function(a){return b+(a.index[d]%2===0?f:g)},"Out"===a,function(){return{row:1*e,col:-1*e}}))})}),Wc.registerAnimationFactory("SoundFadeIn",function(a,b,c){function d(){e.removeEventListener("init",d,a),this._media&&this._media.resume()}var e=ad.create(a,b,c);return e.to("volume",1),e.addEventListener("init",d,a),e}),Wc.registerAnimationFactory("SoundFadeOut",function(a,b,c){function d(){e.removeEventListener("end",d,a),this._media&&this._media.pause()}var e=ad.create(a,b,c);return e.to("volume",0),e.addEventListener("end",d,a),e}),Wc.registerAnimationFactory("SoundHide",function(a,b,c){return Wc.getAnimation(a,"SoundFadeOut",.001,c)}),Wc.registerAnimationFactory("SoundShow",function(a,b,c){return Wc.getAnimation(a,"SoundFadeIn",.001,c)}),G(function(a){H("Stack",a,"Move",a,function(b){return"Top"===a||"Bottom"===a?{row:-1,col:1,originY:b?"Top"===a?"Bottom":"Top":a}:{row:1,col:-1,originX:b?"Left"===a?"Right":"Left":a}})}),Gb(["In","Out"],function(a){var b="Out"===a?"MoveOutTo":"MoveInFrom";Gb(["Hor","Ver"],function(c){if("Hor"===c)var d="i",e=1,f="Left",g="Right";else var d="j",e=-1,f="Top",g="Bottom";Wc.registerAnimationFactory("Stack"+a+c+"Cross",R(function(a){return b+(a.index[d]%2===0?f:g)},"Out"===a,function(){return{row:1*e,col:-1*e}}))})}),V("Blur",[{color:function(a){return _d(a,0)},textShadow:function(a){return"0 0 10px "+_d(a,0)}},{textShadow:function(a){return"0 0 10px "+Bh(a,Zd)},color:function(a){return _d(a,0)}},{color:function(a){return _d(a,1)},textShadow:function(a){var b=Bh(a,$d);return"none"===b?"0 0 0 "+_d(a,0):b}}],c,[2/3,1/3]),V("Explode",[{scaleY:function(){return 5*Vd()},scaleX:function(){return 5*Vd()},rotation:function(){return 360*(Vd()>.5?1:-1)*Vd()},rotationX:function(){return 180*(Vd()>.5?1:-1)*Vd()},rotationY:function(){return 180*(Vd()>.5?1:-1)*Vd()},opacity:0,tz:function(){return 1e3*Vd()+360}},{scaleX:1,scaleY:1,rotation:0,rotationX:0,rotationY:0,opacity:1,tz:0}],{random:!0}),V("Fade",[{opacity:0},{opacity:1}]),V("Fall",[{rotation:function(){return Yd()*(360*Vd()+180)},opacity:function(){return Vd()},ty:function(){return-200*Vd()-100},scaleX:function(){return Vd()},scaleY:function(){return Vd()}},{rotation:0,opacity:1,ty:0,scaleX:1,scaleY:1}],{random:!0}),V("Float",[{scaleX:2,scaleY:2,rotationX:180,opacity:0},{scaleX:1,scaleY:1,rotationX:0,opacity:1}],{transformOrigin:"50% 50% 20px"}),V("Fly",[{rotation:function(){return Yd()*(180*Vd()+180)},opacity:function(){return Vd()},scaleX:function(){return Vd()},scaleY:function(){return Vd()}},{rotation:0,opacity:1,scaleX:1,scaleY:1}],{transformOrigin:function(){return(Vd()>.5?-1:1)*Wd(1e3*Vd())+"% 50%"},random:!0}),["Top","Right","Bottom","Left"].forEach(function(a,b){var c=0,d=0,e=0===b||3===b?-120:120;1===b||3===b?c=e:d=e,V(a,[{tx:c,ty:d},{tx:0,ty:0}])}),V("RotateBottom",[{scaleY:0,scaleX:0,rotationX:-180,opacity:0,ty:-80},{scaleX:1,scaleY:1,rotationX:0,opacity:1,ty:0}],{transformOrigin:"0% 50% -50px",easing:"easeOutBack"}),V("RotateTop",[{scaleY:0,scaleX:0,rotationX:180,opacity:0,ty:80},{scaleX:1,scaleY:1,rotationX:0,opacity:1,ty:0}],{easing:"easeOutBack",transformOrigin:"0 50% -50px"}),V("RScale",[{scaleX:5,scaleY:5},{scaleY:.1,scaleX:.1},{scaleX:3,scaleY:3},{scaleX:1,scaleY:1}],c,[1/6,.5,1/3]),V("Scale",[{scaleX:5,scaleY:5},{scaleX:1,scaleY:1}],{interval:.6},[1/6,.5,1/3]),V("Zoom",[{scaleX:0,scaleY:0},{scaleX:1,scaleY:1}],c,[1/6,.5,1/3]),V("Uneven",[{opacity:0,tz:function(){return 500*Vd()*Yd()-100}},{opacity:1,tz:0}],{random:!0,easing:"easeOutCire"}),Wc.registerAnimationFactory("SliceIn",function(a,b,c){return Wc.getAnimation(a,"SliceInFromLeft",b,c)}),Wc.registerAnimationFactory("SliceOut",function(a,b,c){return Wc.getAnimation(a,"SliceOutToLeft",b,c)}),Wc.registerAnimationFactory("SmoothIn",function(a,b,c){return Wc.getAnimation(a,"SmoothInFromLeft",b,c)}),Wc.registerAnimationFactory("SmoothOut",function(a,b,c){return Wc.getAnimation(a,"SmoothOutToLeft",b,c)}),Wc.registerAnimationFactory("BlindInVer",function(a,b,c){return Wc.getAnimation(a,"BlindInFromLeft",b,c)}),Wc.registerAnimationFactory("BlindInHor",function(a,b,c){return Wc.getAnimation(a,"BlindInFromTop",b,c)}),Wc.registerAnimationFactory("BlindOutVer",function(a,b,c){return Wc.getAnimation(a,"BlindOutToLeft",b,c)}),Wc.registerAnimationFactory("BlindOutHor",function(a,b,c){return Wc.getAnimation(a,"BlindOutToTop",b,c)}),G(function(a){P("Extend",a,{clip:{value:"rect("+("Bottom"===a?"100%":"0px,")+("Left"===a?"0px":"100%,")+("Top"===a?"0px":"100%,")+("Right"===a?"100%":"0px")+")",freeze:!1}})}),P("Extend","Middle",{clip:{value:"rect(50%,50%,50%,50%)",freeze:!1}}),P("Extend","Hor",{clip:{value:"rect(0px,50%,100%,50%)",freeze:!1}}),P("Extend","Ver",{clip:{value:"rect(50%,100%,50%,0px)",freeze:!1}}),P("Fade");var Pd=[function(a,b,c){return U(a,c,b)+U(a,"width",b)},function(a,b,c){return U(a,c,b)-U(a,"width",b)},function(a,b,c){return U(a,c,b)+U(a,"height",b)},function(a,b,c){return U(a,c,b)-U(a,"height",b)}],Qd=function(a,b,c){return 2*U(a,c,b)};G(function(a,b){var c={};c[2>b?"scaleX":"scaleY"]=Qd,c[2>b?"originX":"originY"]={to:b%2,constant:1,freeze:!1},c[2>b?"tx":"ty"]=Pd[b],P("Flex",a,c),c=null}),Wc.registerAnimationFactory("Hide",function(a,b,c){var d=ad.create(a,.001,c);return a instanceof Le?d.to("visible",!1):d.to("display","none"),d}),G(function(a,b){var c={};c[2>b?"tx":"ty"]=Pd[b],P("Move",a,c)});var Rd=function(a,b){var c=Math.min(U(a,"width",b),U(a,"height",b));return(Math.random()>.5?1:-1)*Math.random()*c},Sd=function(){return(Math.random()>.5?"-=":"+=")+360*Math.random()};["RandomRotate","RandomZoom"].forEach(function(a,b){P(a,null,{scaleX:b?0:Qd,scaleY:b?0:Qd,rotation:Sd,tx:Rd,ty:Rd})}),P("Scale",null,{scaleX:Qd,scaleY:Qd}),Wc.registerAnimationFactory("Show",function(a,b,c){var d=ad.create(a,.001,c);return a instanceof Le?d.to("visible",!0):d.to("display",""),d}),["Right","Left"].forEach(function(a,b){P("Skew",a,{originY:{to:.8,constant:1,freeze:!1},scaleY:0,tx:Pd[b],skewX:75*(b?1:-1)})});var Td=[function(a,b,c){return U(a,c,b)+90},function(a,b,c){return U(a,c,b)-90}];G(function(a,b){var c={};c[2>b?"originX":"originY"]={to:1-b%2,constant:1,freeze:!1},c[2>b?"rotationY":"rotationX"]=Td[b>0&&3>b?0:1],P("Swing",a,c)});var Ud=function(){function a(){}return a.square=function(a,b,c,d,e){for(var f,g=Math.min(a,b,d-a-1,c-b-1),h=0,i=(2*c+2*d-4)*g;g>h;)i-=8*h++;return b===g?f=i+a-g:a===d-g-1?f=i+d-2*g-1+b-g:b===c-g-1?f=i+d-2*g-1+c-2*g-1+d-a-1-g:a===g&&(f=i+d-2*g-1+c-2*g-1+d-2*g-1+c-b-1-g),e?d*c-f-1:f},a.getSequenceTable=function(b,c,d,e,f){b=b||"diagonal","randomSequence"===b&&(b=a.sequenceArray[Math.floor(Math.random()*a.sequenceArray.length)]);for(var g,h,i=a.sequenceMap[b.toLowerCase()],j=0,k=[],l=0;c>j;){for(g=0;d>g;)h=i(e?d-g-1:g,f?c-j-1:j,c,d),h>l&&(l=h),k.push(h),g++;j++}return k.push(l),k},a.sequenceMap={together:function(){return 0},row:function(a,b,c){return b*(c-1)+a},col:function(a,b,c){return a*c+b},diagonal:function(a,b){return a+b},random:function(a,b,c,d){var e=4*Math.random();return e>3?a+b:e>2?d-a-1+b:e>1?c-b-1+a:c-b-1+d-a-1},rowcross:function(a,b,c,d){return b%2===0?b*d+a:b*d+(d-a-1)},colcross:function(a,b,c){return a%2===0?a*c+b:a*c+(c-b-1)},squarein:function(){return a.square.apply(null,arguments)},squareout:function(){for(var b=[],c=0;c<arguments.length-0;c++)b[c]=arguments[c+0];return b.push(!0),a.square.apply(null,b)},edgetomiddlediagonal:function(a,b,c,d){return a+b>(d+c)/2+(d+c)%2-1?d+c-a-b-2:a+b},middletoedgediagonal:function(a,b,c,d){return Math.floor(Math.abs((d-1+c+(d+c)%2-1)/2-a-b))},rowseparate:function(a,b,c,d){var e=Math.min(c,2);return b%2===0?a%2===0?a*e:(d-a-1)*e+1:a%2===1?a*e:(d-a)*e-1},colseparate:function(a,b,c,d){var e=Math.min(d,2);return a%2===0?b%2===0?b*e:(c-b-1)*e+1:b%2===1?b*e:(c-b)*e-1},diagonalseparate:function(a,b,c,d){var e=(c+d)%2;return a%2===0?b%2===0?a+b:c-b+d-a-3+1+e:b%2===1?a+b:c-b+d-a-3+1+e}},a.sequenceArray=Object.keys(a.sequenceMap),a}(),Vd=function(a){return"undefined"==typeof a&&(a=1),Math.random()*a},Wd=Math.floor,Xd=(Math.floor,Math.round),Yd=(Math.sqrt,Math.sin,Math.cos,Math.tan,Math.atan,function(){return Math.random()>.5?-1:1}),Zd=(Math.PI,Math.abs,Math.min,"color"),$d="textShadow",_d=function(a,b){return"undefined"==typeof b&&(b=0),He.transparentize(Bh(a,"color"),b)};P("Zoom",null,{scaleX:0,scaleY:0});var ae=Math.PI,be=ae/2,ce=2*ae,de=ae/180,ee=180/ae,fe=1e-7,ge={factory:{},eases:{linear:ud,swing:function(a){return.5-.5*Math.cos(a*ae)},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return-a*(a-2)},easeInOutQuad:function(a){return(a*=2)<1?a*a/2:-(--a*(a-2)-1)/2},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return(a-=1)*a*a+1},easeInOutCubic:function(a){return(a*=2)<1?a*a*a/2:((a-=2)*a*a+2)/2},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return 1-(a-=1)*a*a*a},easeInOutQuart:function(a){return(a*=2)<1?a*a*a*a/2:1-(a-=2)*a*a*a/2},easeInQuint:function(a){return a*a*a*a*a},easeOutQuint:function(a){return(a-=1)*a*a*a*a+1},easeInOutQuint:function(a){return(a*=2)<1?a*a*a*a*a/2:((a-=2)*a*a*a*a+2)/2},easeInSine:function(a){return~~(1e5*(1-Math.cos(a*be))+.5)/1e5},easeOutSine:function(a){return Math.sin(a*be)},easeInOutSine:function(a){return-(Math.cos(ae*a)-1)/2},easeInExpo:function(a){return a?Math.pow(2,10*(a-1)):0},easeOutExpo:function(a){return 1===a?1:-Math.pow(2,-10*a)+1},easeInOutExpo:function(a){return a?1===a?1:(a*=2)<1?Math.pow(2,10*(a-1))/2:1-Math.pow(2,-10*--a)/2:0},easeInCirc:function(a){return 1-Math.sqrt(1-a*a)},easeOutCirc:function(a){return Math.sqrt(1-(a-=1)*a)},easeInOutCirc:function(a){return(a*=2)<1?-(Math.sqrt(1-a*a)-1)/2:(Math.sqrt(1-(a-=2)*a)+1)/2}},get:function(a){if("@"===a.charAt(0)&&(a=a.substr(1),/^(.*)\((.*)\)$/.test(a))){a=RegExp.$1;var b=RegExp.$2.split(/\s*,\s*/).map(parseFloat);return ge.factory[a].apply(null,b)}return ge.eases[a]}};ge.factory.back=function(a){return a||(a=1.70158),function(b){return 1===b?1:b*b*((a+1)*b-a)}},ge.eases.easeInBack=ge.factory.back(),ge.eases.easeOutBack=W(ge.eases.easeInBack),ge.eases.easeInOutBack=X(ge.eases.easeInBack),ge.eases.easeInBounce=function(a){return a=1-a,1-(1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375)},ge.eases.easeOutBounce=W(ge.eases.easeInBounce),ge.eases.easeInOutBounce=X(ge.eases.easeInBounce),ge.factory.elastic=function(a,b){var c;return arguments.length<2&&(b=.45),arguments.length?c=b/ce*Math.asin(1/a):(a=1,c=b/4),function(d){return d=1-d,d?1===d?0:-a*Math.pow(2,-10*d)*Math.sin((d-c)*ce/b):1}},ge.eases.easeInElastic=ge.factory.elastic(),ge.eases.easeOutElastic=W(ge.eases.easeInElastic),ge.eases.easeInOutElastic=X(ge.eases.easeInElastic);var he=ge.factory.steps=function(a,b){null==b&&(b=1);var c=a+"x"+b,d=he.cache;if(d[c])return d[c];var e=1/a,f=function(a){return 1===a?b:~~(a/e)*e};return d.length>=10&&(delete d[d[d.length-1]],d.pop()),d[c]=f,d.unshift(c),f};he.cache=[],Gb(Wc._animationFactories,function(a,b){if(/(.*?)In(.*)$/.test(b)){var c=RegExp.$1,d=RegExp.$2,e=c+"Out",f=/From(.*)$/.exec(d);if(f){var g=f[1],h="Left"===g?"Right":"Right"===g?"Left":"Top"===g?"Bottom":"Top";e+="To"+h,c+=g+h}else e+=d,c+=d;Wc._animationFactories[e]&&Y(c,b,e)}}),Wc.registerTransitionFactory("None",function(a,b,c){b instanceof Le?b.visible=!1:zh(b,"display","none");var d=Yc.create();return d.add(Wc.getAnimation(b,"Show",c)),d.add(Wc.getAnimation(a,"Hide",c)),d});var ie={initialize:function(a,b){ie._iterate(a,function(a){var c=ke.get(a,"animationOption");if(c&&c.animations)for(var d=c.animations,e=-1,f=d.length;++e<f;){var g=d[e];Wc.animate(a,g.name,g.duration,g,b)}})},stop:function(a){ie._iterate(a,function(a){var b=ke.get(a,"timeline");b&&(b.destroy(),ke.set(a,"timeline",null)),b=ke.get(a,"showHideAnimation"),b&&(b.stop(!0,!0),ke.set(a,"showHideAnimation",null))})},show:function(a){ie.showHide(a,!0)},run:function(a,b){var c=ke.get(a,"timeline");c||(c=Yc.create(),_c.getInstance().add(c),c.addEventListener("end",function(){c.destroy(),ke.set(a,"timeline",null)},null,1/0),ke.set(a,"timeline",c)),a.transform.accelerate=!0,c.add(Wc.animate(a,b.name,b.duration,b))},tween:function(a,b,c){var d=ke.get(a,"timeline");d||(d=Yc.create(),_c.getInstance().add(d),d.addEventListener("end",function(){d.destroy(),ke.set(a,"timeline",null)},null,1/0),ke.set(a,"timeline",d)),a.transform.accelerate=!0,d.add(ad.motion(a,c.duration,b,c))},hide:function(a){ie.showHide(a,!1)},toggle:function(a){var b=!0;ke.get(a,"showing")?b=!1:ke.get(a,"hiding")?b=!0:a instanceof Ne?b=a.media.paused:a.visible&&(b=!1),ie.showHide(a,b)},showHide:function(a,b,c,d){var e=b?"showing":"hiding",f=ke.get(a,e),g=ke.get(a,"showHideAnimation");if(f)g&&d&&d!==g.timeline&&d.add(g);else{g&&(g.stop(!0,!0),ke.set(a,"showHideAnimation",null));var h=a instanceof Ne,i=h?!a.media.paused:a.visible;if(b&&!i||!b&&i){var j=ke.get(a,"animationOption"),k=j?j[b?"enter":"leave"]:null;if(k||b||(k={name:h?"SoundFadeOut":"FadeOut"}),k){h||"Show"===k.name||"Hide"===k.name||(a.transform.accelerate=!0);var g=Wc.animate(a,k.name,null==c?k.duration:c,k,d);g.addEventListener("end",function(){ke.set(a,"showHideAnimation",null),ke.set(a,e,!1)},null,1/0),ke.set(a,"showHideAnimation",g),ke.set(a,e,!0)}else h?b?(a.volume=1,a.media.resume()):a.media.pause():a.visible=b}}},leave:function(a){var b=Yc.create();a=a.concat();for(var c=-1,d=a.length;++c<d;){var e=a.shift();(e.visible||ke.get(e,"showing"))&&ie.showHide(e,!1,null,b)}return b.addEventListener("end",b.destroy,b),_c.getInstance().add(b),b},_iterate:function(a,b){for(var c=[a];c.length;){var d=c.shift();if(b(d),d instanceof Re)for(var e=d.children,f=-1,g=e.length;++f<g;)c.push(e[f])}}},je=function(a){function b(b){a.call(this),this.__leo_guid__=w(),this._timeline=null,this._current=-1,this.paused=!1,this._initialized=!1,this._preloaded=!1,this._options=b||{},this._sceneData=this._options.scenes,this._initPreloadList(),this._container=ai(b.container||"body"),Rc.apps[this[xd]]=this}return Uc(b,a),d(b.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),b.prototype._initPreloadList=function(){var a;switch(this._options.preloadType){case 1:a=Lc(this._sceneData.length);break;case 0:a=[];break;default:var b=this._options.preload||[];a=[];for(var c=-1,d=b.length;++c<d;)Array.isArray(b[c])?a=a.concat(Lc(b[c][0],b[c][1]+1)):a.push(b[c])}this._preloadList=a},d(b.prototype,"container",{get:function(){return this._container},enumerable:!0,configurable:!0}),d(b.prototype,"app",{get:function(){return this._app},enumerable:!0,configurable:!0}),d(b.prototype,"stage",{get:function(){return this._stage},enumerable:!0,configurable:!0}),b.prototype._initPlugins=function(){for(var a=this.options.plugins||[],b=this.plugins=[],c=-1,d=a.length;++c<d;){var e=Xh.create(a[c].name,a[c],this);e&&b.push(e)}},b.prototype._createTimeline=function(){var a=this;return this._timeline&&this._timeline.destroy(),this._timeline=Yc.create(),this._timeline.addEventListener("end",function(){a._timeline.destroy(),a._timeline=null},null),this.paused&&this._timeline.pause(),_c.getInstance().add(this._timeline),this._timeline},d(b.prototype,"current",{get:function(){return this._current},set:function(a){if(!(-1>a||a>=this._sceneData.length)){var b=this._current;a!==b&&(this._current=a,this._preloaded?this._load(a):a>=0&&this._preloadList&&this._preloadList.indexOf(a)<0&&this._preloadList.push(a),Jh.dispatchPropertyChangeEvent(this,"current",b))}},enumerable:!0,configurable:!0}),b.prototype.prev=function(a){"undefined"==typeof a&&(a=1);var b=this.numScenes;return this.current=((this._current-a)%b+b)%b,this},b.prototype.next=function(a){"undefined"==typeof a&&(a=1);var b=this.numScenes;return this.current=((this._current+a)%b+b)%b,this},d(b.prototype,"numScenes",{get:function(){return this._sceneData.length},enumerable:!0,configurable:!0}),b.prototype.start=function(){return this._initialized||(this._current<0&&(this._current=0),this.init()),this},b.prototype.resume=function(){return this.paused&&(this.paused=!1,this._timeline&&this._timeline.resume(),this.dispatchSimpleEvent("resume")),this},b.prototype.pause=function(){return this.paused||(this.paused=!0,this._timeline&&this._timeline.pause(),this.dispatchSimpleEvent("pause")),this},b.prototype.destroy=function(){if(this.dispatchSimpleEvent("destroy"),this._initialized){for(var b=this.plugins,c=-1,d=b.length;++c<d;)b[c].destroy();b.length=0,this.plugins=b=null,this._current=-1,this._clearScenes();var e=this._stage.node;this._stage.destroy(),e.remove(),e=null,this._timerManager.destroy(),this._timerManager=null,this._timeline&&(this._timeline.destroy(),this._timeline=null),this.destroyLayout(),this._app.removeClass("leo-app"),this._app=null,this._stage=null,this._scenes=null}a.prototype.destroy.call(this),this._container=null,this._options=null,this._preloadList=null,this._sceneData=null,delete Rc.apps[this[xd]]},b.prototype.resize=function(a,b){var c=this._stage.transform.deferred;this._stage.transform.deferred=!0,this._stage.width=a,this._stage.height=b,this._stage.transform.deferred=c},b.prototype.init=function(){if(!this._initialized){this._initialized=!0;var a=this._options;this.initLayout(),this._app.addClass("leo-app"),this.initStage(),this._stage.rootContext.setInnerVariable("__app__",this),this.resize(a.stageWidth,a.stageHeight),this._timerManager=new me,this._listenLoadEvents(),this._initPlugins(),this._preload(),this._afterInit()}},b.prototype._afterInit=function(){},b.prototype.initLayout=function(){this._app=this._container.el("div")},b.prototype.destroyLayout=function(){this._app.remove()},b.prototype.initStage=function(){var a=this._stage=new of;a.transform.originX=a.transform.originY=0,this._app.append(a.dom),a.enter(a),a.rootContext.controller=this,a.overflowMode="hidden"},b.prototype.getScene=function(a){var b=this._sceneData[a],c=this._scenes[a];return c||(c=this._scenes[a]=Ke.create(b.type,b.name),ke.set(c,"data",b),ne.construct(c,b),this.stage.addScene(c)),c},b.prototype._preload=function(){var a=this,b=-1,c=this._sceneData.length,d=this._preloadList,e=[],f=this._sceneData;this._scenes=new Array(c);var g=Lh.getInstance(),h=function(b){b.preloadList=d,b.preloadedList=e,a.dispatchSimpleEvent("preloadProgress",b)
},i=function(){if(b>=0&&e.push(d[b]),++b>=d.length)return void a.dispatchSimpleEvent("preloadEnd");var c=d[b];if(0>c||c>=f.length)i();else{var j=a.getScene(c);g.load(a._readLoadableList(j),i,h,j[xd])}};this.dispatchSimpleEvent("preloadStart",d),i()},b.prototype._load=function(a){var b=this;if(a>=0){var c=this.getScene(a);this.dispatchSimpleEvent("loadStart",a),Lh.getInstance().load(this._readLoadableList(c),function(c){c.sceneIndex=a,b.dispatchSimpleEvent("loadEnd",c)},function(c){c.sceneIndex=a,b.dispatchSimpleEvent("loadProgress",c)},c[xd])}else this.dispatchSimpleEvent("loadEnd",{sceneIndex:-1})},b.prototype._readLoadableList=function(a){for(var b=[],c=a.children.concat();c.length;){var d=c.pop();if(d.loadable&&d.readyState<2&&b.push({target:d,data:ke.get(d,"data")}),d instanceof Re)for(var e=d.children,f=-1,g=e.length;++f<g;)c.push(e[f])}return b},b.prototype._clearScenes=function(){for(var a=this._scenes,b=Lh.getInstance(),c=-1,d=a.length;++c<d;){var e=a[c];if(e){var f=e[xd];b.contains(f)&&b.remove(f),this._clearData(e)}}},b.prototype._clearData=function(a){for(var b=[a],c=ke;b.length;){var d=b.pop();if(c.hasData(d)&&(c.clear(d),d instanceof Re))for(var e=d.children,f=-1,g=e.length;++f<g;)b.push(e[f])}},b.prototype._listenLoadEvents=function(){this.addEventListener("preloadEnd",this._onpreload,this,1/0),this.addEventListener("loadEnd",this._onload,this,1/0)},b.prototype._onpreload=function(){this.removeEventListener("preloadEnd",this._onpreload,this),this._preloaded=!0,this._preloadList=null,this._load(this._current)},b.prototype._onload=function(a){var b=this,c=a.data.sceneIndex;if(c===this._current){var d=this._stage.currentScene;if(d){var e=function(){b._stage.removeEventListener("transitionStart",e,null),b._timeline&&(b._timeline.stopAnimationsAt(b._timeline.currentTime),b._timeline.destroy(),b._timeline=null)};this._stage.addEventListener("transitionStart",e,null)}if(0>c)this._stage.currentScene=null;else{var f=this._sceneData[c],g=this._scenes[c];f.reset&&oe.initialize(g),this._stage.currentScene=g}var h=function(a){b._stage.removeEventListener("transitionEnd",h,null);var e=a.data;d&&ie.stop(d),c>=0&&c===b._current&&g===e&&f.reset&&(ie.initialize(g,b._createTimeline()),b._timerManager.timeline=b._timeline,le.initialize(g,b._timerManager))};this._stage.addEventListener("transitionEnd",h,null)}},b}(Vc);Rc.apps={};var ke={_cache:{},data:function(a){return ke._cache[a[xd]]||(ke._cache[a[xd]]={})},set:function(a,b,c){var d=ke.data(a);return d[b]=c,c},get:function(a,b){var d=ke._cache[a[xd]];return d?d[b]:c},contains:function(a,b){var c=ke._cache[a[xd]];return null!=c&&c.hasOwnProperty(b)},hasData:function(a){return null!=ke._cache[a[xd]]},remove:function(a,b){var c,d=ke;if(this.contains(a,b)){var e=d._cache[a[xd]];c=e[b],delete e[b],Kc(e)&&delete d._cache[a[xd]]}return c},clear:function(a){var b,c=ke,d=a[xd];return c._cache.hasOwnProperty(d)&&(b=c._cache[d],delete c._cache[d]),b}},le={initialize:function(a,b){for(var c=[a],d=b.timeline.duration;c.length;){var e=c.shift(),f=ke.get(e,"timers");if(f)for(var g=-1,h=f.length;++g<h;)b.add({time:f[g].time,callback:function(a,b){return function(c){var d=ob(a,b);d&&a.action.call(d,a,c,b)}}(f[g],e)}),d<f[g].time&&(d=f[g].time);if(e instanceof Re)for(var i=e.children,g=-1,h=i.length;++g<h;)c.push(i[g])}d>b.timeline.duration&&(b.timeline.duration=d),c=null}},me=function(a){function b(){a.call(this),this._timeline=null,this._timers=[]}return Uc(b,a),d(b.prototype,"timeline",{get:function(){return this._timeline},set:function(a){this._timeline!==a&&(this.removeTimelineListener(),this._timeline=a,this.addTimelineListener())},enumerable:!0,configurable:!0}),b.prototype.update=function(a){for(var b=this._timeline,c=this._timers,d=b.currentTime,e=-1,f=c.length;++e<f;){var g=c[e];if(!(d>=g.time))break;g.callback(a)}e>0&&c.splice(0,e),c.length||this.removeTimelineListener()},b.prototype.add=function(a){for(var b=a.time,c=this._timers,d=c.length;--d>=0&&c[d].time>b;);c.splice(d+1,0,a)},b.prototype.addTimelineListener=function(){this._timeline&&this._timeline.addEventListener("update",this.update,this)},b.prototype.removeTimelineListener=function(){this._timeline&&this._timeline.removeEventListener("update",this.update,this)},b.prototype.clear=function(){this._timers.length=0,this.removeTimelineListener()},b.prototype.destroy=function(){this.clear(),this._timers=null},b}(Tc),ne={construct:function(a,b){a.transitionConfig=b.transition,b.defaultProps.visible=!1,null==b.reset&&(b.reset=!0),ne._setProperties(a,b),ne._setAnimations(a,b),ne._setEvents(a,b),ne._construct(b.children,a)},_construct:function(a,b){for(var c=-1,d=a.length;++c<d;){var e=a[c],f=Ke.create(e.type,e.name);f?(ke.set(f,"data",e),ne._setProperties(f,e),ne._setAnimations(f,e),ne._setEvents(f,e),b.append(f),"group"===e.type&&e.children&&ne._construct(e.children,f)):ni.warning("type missed","The type '"+e.type+"' for '"+e.name+"' is missed")}},_setProperties:function(a,b){var c=ne.KEYWORDS;for(var d in b)c[d]||a.setProperty(d,b[d])},_setAnimations:function(a,b){var c=(b.manual,{});b.enter&&(c.enter=b.enter,c.enter.delay=0),b.leave&&(c.leave=b.leave,c.leave.delay=0),b.manual||(c.animations=b.animations),ke.set(a,"animationOption",c)},_setEvents:function(a,b){var c=b.events;if(c){for(var d=[],e=-1,f=c.length;++e<f;){var g=c[e];"timer"===g.trigger?d.push(g):a.addEventListener(g.trigger,function(b){return function(c){c.preventDefault();var d=ob(b,a);d&&b.action.call(d,b,c,a)}}(g,a),null)}d.length&&ke.set(a,"timers",d)}},KEYWORDS:g("type name $extra defaultProps reset manual events animations transition children enter leave".split(" "))},oe={initialize:function(a){for(var b=[a];b.length;){var c=b.shift(),d=ke.get(c,"data");if(d&&(c.visible=!1,d.defaultProps&&c.setProperty(d.defaultProps),c instanceof Re))for(var e=c.children,f=-1,g=e.length;++f<g;)b.push(e[f])}}},pe={};pe.callJS=function(a){a.hint="Run JavaScript Code";try{var b=Function(a.content);return function(){b.call(null)}}catch(c){return null}},pe.changeAlpha=Z({opacity:!0},!0),pe.changeAngle=Z({rotate:!0},!0),pe.changeCaption=pe.changeHtmlCaption=pe.changeButtonCaption=function(a,b){var c=Ke.getClass(b.type).textType;return c?(a.params={textContent:yb(a.params.content,c)},lb):null},pe.changeHotSpotColor=Z({hotSpotColor:!0},!0),pe.changeImage=function(a,b){return"image"===b.type?(a.params={src:a.params.content,transitionConfig:a.params.transition||{name:"Fade",duration:600,easing:"easeInOutCubic"}},lb):null},pe.changeImageFilter=function(a,b){if("image"===b.type){var c=a.params;a.options={duration:+c.duration||0};var d=qe,e="filter.";a.params={};for(var f in c)d[f]&&(a.params[e+f]=c[f]/100);return null!=c.blur&&(a.params[e+"blur"]=c.blur),mb}return null};var qe=g("brightness contrast grayscale invert saturate sepia");pe.changeLayer=function(a){return 1/0===a.params?$:(a.params={zIndex:~~+a.params.zIndex},lb)},["Vimeo","Youtube","Sound","Html5-Video"].forEach(function(a){var b=a.toLowerCase();pe["change"+a]=function(a,c){return c.type===b?(a.params={src:a.params.content},lb):null}}),["play","pause"].forEach(function(a){var b="play"===a?"resume":a,c=function(){this.media[b]()};pe[a]=function(a,b){return/(?:video|vimeo|youtube|sound)$/.test(b.type)?c:null}}),pe.changePosition=Z(g("left top"),!0),pe.changeShadow=Z({shadow:!0},!0,350),pe.changeSize=Z(g("width height"),!0),["Text","Shape","Button"].forEach(function(a){pe["change"+a+"Format"]=function(a,b){var c=Ke.getClass(b.type).textType;return c&&(a.params=xb(a.params,b.type))?lb:null}}),pe["changeHtml5-Video"]=function(a,b){return"html5-video"===b.type?(a.params={src:a.params.content},lb):null},["Vimeo","Youtube"].forEach(function(a){var b=a.toLowerCase();pe["change"+a]=function(a,c){return c.type===b?(a.params={src:a.params.content},lb):null}}),pe.changeVisible=function(){return _},pe["email-to"]=function(a){return a.hint="Email To "+a.content,ab};var re=null;pe.goToPage=function(a){return a.params&&a.params.target!==c?(a.content=parseInt(a.params.target,10),bb):null};var se=function(){function a(){var a=this;this.width=300,this.height=200,this.close_style={right:-16,top:-43},this.resizeOption={mode:1,delh:60},this.__leo_guid__=w(),this.effectArray=["FadeIn","ScaleIn","ZoomIn"],this.index=-2,this.length=0,this.keyupHandler=function(b){b.altKey||b.ctrlKey||b.shiftKey||(b.preventDefault(),39==b.keyCode&&a.next(),37==b.keyCode&&a.prev())},this.container=this.createNode()}return a.getInstance=function(){return a._singleton||(a._singleton=new a),a._singleton},a.prototype.createNode=function(){var a=this,b=bi("div").attr("id","leo-lightbox--gallery"),c=this.dataWrapper=b.el("div").attr("id","gallery-wrap");c.bind("swipeleft",function(a){a.preventDefault(),this.next()}),c.bind("swiperight",function(a){a.preventDefault(),this.prev()}),c.bind("mousedown",function(a){a.preventDefault()}),this.imgWrapper=c.el("div").attr("id","img-wrap"),this.loading=b.el("i").addClass("leo-loading")[0];var d=b.el("div").attr("id","control-bar");d.el("div").attr("id","to-first").addClass("controls").bind({click:function(){0===a.index?a.shake():a.skipTo(0)}}),d.el("div").attr("id","to-last").addClass("controls").bind({click:function(){a.index===a.length-1?a.shake():a.skipTo(a.length-1)}}),d.el("div").attr("id","to-next").addClass("controls").bind({click:function(){a.next()}}),d.el("div").attr("id","to-prev").addClass("controls").bind({click:function(){a.prev()}});var e=function(){f.unbindAll("keypress");var b=f.val();""===b?f.val(a.index+1+" / "+a.length):(b=parseInt(b,10)-1,a.skipTo(b))},f=this.input=d.el("input").attr("type","text").bind({click:function(){f.bind("keypress",function(a){13===a.keyCode&&(e(),f[0].click())}),this.setSelectionRange(0,9999)},blur:e});return b},a.prototype.config=function(a){return"string"==typeof a&&(a=a.split(";")),this.index=-2,this.imgWrapper.html(""),this.dataArray=a,this.length=a.length,this.skipTo(0),Rg(b,"keyup",this.keyupHandler),Og(b,"keyup",this.keyupHandler),this},a.prototype.shake=function(){var a,b=0;a=ad.create(this.image,75/(4-b),{yoyo:!0,repeat:1}),a.overwritten=0,a.apply({left:{to:3,freeze:!1}}),_c.getInstance().append(a),a=ad.create(this.image,75/(4-b),{yoyo:!0,repeat:1}),a.overwritten=0,a.apply({left:{to:-3,freeze:!1}}),_c.getInstance().append(a)},a.prototype.hide=function(){Rg(b,"keyup",this.keyupHandler),this.width=300,this.height=200},a.prototype.skipTo=function(a){var b,c=this,d=new Image,e=this.dataArray,f=this.length,g=this.index,h=this.input,i=this.imgWrapper,j=te.getInstance();if(this.image&&(this.image.onload=this.image.onerror=null),g!==a){if(a>=f||0>a||isNaN(a))return h.val(g+1+" / "+f),void this.shake();this.lt=setTimeout(function(){Nb(c.loading)},350),this.index=a,h.val(a+1+" / "+f),b=e[a],d.onload=d.onerror=function(){var a=c.width=d.width||25,b=c.height=d.height||25,e={width:"100%",height:"100%"};clearTimeout(c.loadTimeout),d.onload=d.onerror=null,200>a&&(c.width=200,e.width=a),200>b&&(c.height=200,e.height=b),i.html(""),i.style(e),i.append(d),j.resize(!0,function(){c._animate&&c._animate.destroy(),c._animate=Wc.animate(i[0],c.effectArray[Math.floor(Math.random()*c.effectArray.length)],500),clearTimeout(c.lt),Ob(c.loading)})},d.src=b,Ob(i[0])}else h.val(a+1+" / "+f),this.shake();this.image=d},a.prototype.prev=function(){this.index-1<0?this.shake():this.skipTo(this.index-1)},a.prototype.next=function(){this.index+1>=this.length?this.shake():this.skipTo(this.index+1)},a._singleton=null,a}();pe["slide-box"]=function(a){return a.hint="Pop Up Slide Box",cb},pe.loadSlide=function(a){return a.params&&a.params.content!==c?db:null};var te=function(){function d(){var a=this;this.hided=!0,this.resizeHandler=function(){a.resize(!0)},this.inEffect="MoveInFromTop",this.outEffect="MoveOutToTop",this.ESCEventListener=function(b){27===b.keyCode&&(b.preventDefault(),a.hide())},this.node=this._createNode()}return d.getInstance=function(){return d._singleton||(d._singleton=new d),d._singleton},d.prototype._createNode=function(){var a=this,b=ai("body").at(0),c="leo-lightbox-",d=b.el("div").attr("id",c+"container").bind("mousedown",function(b){b.target===a.node[0]&&a.hide()});return this.plugin_container=d.el("div").attr("id",c+"scene").bind("click",function(a){a.stopPropagation()}),Ob(this.plugin_container[0]),this.close_button=this.plugin_container.el("div").attr("id","leo-lightbox-close").addClass("leo-animation-unnecessary").bind("tap",function(){a.hide()}),d},d.prototype.resize=function(a,b){var c=this.plugin;if(c){var d=Math.ceil,e=c.resizeOption,f=e.delw||0,g=e.delh||0,h=c.width||480,i=c.height||240,j=e.minw>=0?e.minw:200,k=e.minh>=0?e.minh:200,l=Math.max(j,Gd(this.node[0])-f-40),m=Math.max(k,Jd(this.node[0])-g-40),n=h,o=i;1===e.mode&&(n>l||o>m?(n/o>l/m?(n=d(l),o=d(n*i/h)):(o=d(m),n=d(o*h/i)),o>n?j>n&&(n=d(j),o=d(n*i/h)):k>o&&(o=d(k),n=d(o*h/i))):(n=d(h),o=d(i)));var p=this.plugin_container[0];if(a){var q=ad.create(p,300);q.apply({width:{to:n},height:{to:o}}),_c.getInstance().add(q),b&&q.addEventListener("end",function(){b()},this)}else Bh(p,{width:n,height:o});return this}},d.prototype.show=function(d,e){if(this.hided){this.hided=!1,Nb(this.node[0]);var f=d||this.plugin;if(f){this.plugin=f,this.plugin_container.append(f.container),Nb(f.container[0]),this.close_button.style(f.close_style||{right:-10,top:-10}),this.resize(!1),this.plugin_container.style({transform:"none",opacity:1});var g=this.animation;g&&(g.removeAllEventListeners("end"),g.stop(!0,!0)),g=this.animation=Wc.animate(this.plugin_container[0],f.inEffect||this.inEffect,f.duration||450,{easing:"easeOutQuad"}),e!=c&&g.addEventListener("end",function(){e()},this);var h,i;return 1===f.resizeOption.mode?(Og(a,"resize",this.resizeHandler),h=i=""):(h=f.width,i=f.height),this.node.style({minWidth:h,minHeight:i}),Og(b,"keydown",this.ESCEventListener),this}}},d.prototype.hide=function(){var c=this,d=this.plugin;if(!d||this.hided)return void Ob(this.node[0]);this.hided=!0,this.plugin_container.style({transform:"none",opacity:1});var e=this.animation;return e&&(e.removeAllEventListeners("end"),e.stop(!0,!0)),e=this.animation=Wc.animate(this.plugin_container[0],d.outEffect||this.outEffect,d.duration||450,{easing:"easeOutQuad",freeze:!1}),e.addEventListener("end",function(){Ob(c.node[0]),Ob(d.container[0]),d.hide&&d.hide()},this),Rg(a,"resize",this.resizeHandler),Rg(b,"keydown",this.ESCEventListener),this},d._singleton=null,d}(),ue=function(a){function e(b,c,d){a.call(this),this._scrollTop=0,this.container=b,this.content=this.container.querySelector(".leo-scroll-content"),this.options=Object.create(c)||{},this.onscroll=d,this.content&&this.init()}return Uc(e,a),e.prototype.init=function(){var a=this.options,c=this.height=Jd(this.container),d=this.content_height=Jd(this.content);if(!(c>=d)){var e,f;return a.scrollable!==!1&&a.Y!==!1&&(this.createScrollBarVer(c,d),e=this.bar_container_height=Jd(this.scrollbar_y.parentNode),f=this.bar_height=Jd(this.scrollbar_y),this.mousewheel(c,d)),("touchstart"in b||a.draggable!==!1)&&a.y!==!1&&this.dragVer(c,d,e,f),this}},e.prototype.destroy=function(){a.prototype.destroy.call(this),this.content&&Bh(this.content,"ty",this.ty),this.scrollbar_y&&this.scrollbar_y.parentNode.parentNode.removeChild(this.scrollbar_y.parentNode),this.onwheel&&Rg(this.container,"mousewheel",this.onwheel),this.mousedown&&Rg(this.container,"mousedown",this.mousedown),this.bar_mousedown&&Rg(this.scrollbar_y,"mousedown",this.bar_mousedown),this.bar_mousedown=null,this.container=null,this.content=null,this.scrollbar_y=null,this.options=null,this._scrollTop=null,this.onwheel=null,this.mousedown=null,this.unbind_move_y(),this.unbind_up_y()},d(e.prototype,"scrollTop",{get:function(){return this._scrollTop},set:function(a){this.scrollTo(a),this._scrollTop=a},enumerable:!0,configurable:!0}),e.prototype.scrollTo=function(a){a=Math.floor(a),a!==this._scrollTop&&(Bh(this.content,"ty",-a),this.bar_container_height!==c&&Bh(this.scrollbar_y,"ty",a/(this.content_height-this.height)*(this.bar_container_height-this.bar_height)),this._scrollTop=a,this.dispatchSimpleEvent("scroll"),this.onscroll&&this.onscroll())},e.prototype.dragVer=function(a,c){{var d=this,e=this.content;this.scrollbar_y.parentNode,this.scrollbar_y}this.ty||(this.ty=Bh(e,"ty")),this.mousedown=function(f){f.preventDefault();var g=Bh(e,"ty"),h=f.pageY;d.unbind_move_y(),d.doc_move_y=function(a){a.preventDefault(),d.scrollTo(-(g+a.pageY-h))},Og(b,"mousemove",d.doc_move_y),d.unbind_up_y(),d.doc_up_y=function(b){b.preventDefault(),d.unbind_move_y();var f,g=f=Bh(e,"ty");g>0&&(f=0),a-c>g&&(f=a-c);var h=ad.to({x:0},300,{x:1},{easing:"easeOutBack"});h.addEventListener("update",function(){d.scrollTo(-(g+(f-g)*h.ratio))},null)},Vg(b,"mouseup",d.doc_up_y)},Og(this.container,"mousedown",this.mousedown)},e.prototype.unbind_move_y=function(){var a=this.doc_move_y;a&&Rg(b,"mousemove",a),this.doc_move_y=null},e.prototype.unbind_up_y=function(){var a=this.doc_up_y;a&&Rg(b,"mouseup",a),this.doc_up_y=null},e.prototype.createScrollBarVer=function(a,c){var d=this,e=this.container,f=(Bh(e,"left",!0),this.content,this.options),g=b.createElement("div");g.className="leo-scroll-bar-container-y "+(f.y&&f.y.container||"");var h=this.scrollbar_y=b.createElement("div");h.className="leo-scroll-bar-y "+(f.y&&f.y.bar||""),g.appendChild(h),e.appendChild(g);var i=Jd(g),j=i*a/c;Jd(h,j),this.bar_mousedown=function(e){e.stopPropagation(),e.preventDefault();var f=e.pageY,g=Bh(h,"ty");d.unbind_move_y(),d.doc_move_y=function(b){b.preventDefault();var e=g+b.pageY-f;0>e&&(e=0),e>i-j&&(e=i-j),d.scrollTo(e/(i-j)*(c-a))},Og(b,"mousemove",d.doc_move_y),d.unbind_up_y(),d.doc_up_y=function(a){a.preventDefault(),d.unbind_move_y()},Og(b,"mouseup",d.doc_up_y)},Og(h,"mousedown",this.bar_mousedown),this.scrollTo(-Bh(this.content,"ty"))},e.prototype.mousewheel=function(a,b){var c=this,d=this.container;this.onwheel=function(d){d.preventDefault();var e=c._scrollTop+50*(d.wheelDeltaY<0?1:-1);0>e&&(e=0),e>b-a&&(e=b-a),c.scrollTo(e)},Og(d,"mousewheel",this.onwheel)},e}(Vc),ve=function(){function d(){this.width=700,this.height=350,this.resizeOption={mode:0},this.imageWidth=25,this.imageHeight=25,this.hided=!0,this.originWidth=332,this.originHeight=340,this.container=this.createNode()}return d.getInstance=function(){return d._singleton||(d._singleton=new d),d._singleton},d.prototype.createNode=function(){var a=this,b="msg-",c=bi("div").attr("id","leo-lightbox--msg"),d=this.lc=c.el("div").attr("id",b+"left").addClass(b+"part"),e=this.rc=c.el("div").attr("id",b+"right").addClass(b+"part"),f=this.tw=e.el("div").attr("id",b+"content"),g=(this.title=f.el("div").attr("id",b+"title"),this.bc=f.el("div").attr("id",b+"body-container")),h=(this.body=g.el("div").attr("id",b+"body").addClass("leo-scroll-content"),this.gallery=d.el("div").attr("id",b+"gallery")),i=(this.gl=h.el("i").addClass("leo-loading"),this.gi=h.el("img"),this.tc=d.el("div").attr("id",b+"thumbnail")),j=(this.thumbnail=i.el("div").addClass(b+"thumbnail-wrap"),this.origin=e.el("div").attr("id",b+"origin")),k=(this.oi=j.el("img"),this.ol=j.el("i").addClass("leo-loading"),this.mark=h.el("div").attr("id",b+"mark")),l=(this.mi=k.el("img"),this.mc=k.el("div"),this.gc=h.el("div").attr("id",b+"gallery-cover"),this.prevButton=bi("div").addClass("msg-prev msg-button"));l.style("marginLeft","-2px"),l.bind("tap",function(){a.prev()}).el("div"),d.insert(l,i);var m=this.nextButton=d.el("div").addClass("msg-next msg-button");return m.style("marginLeft","2px"),m.bind("tap",function(){a.next()}).el("div"),c},d.prototype.lighten=function(a,b){var c=He.parse(a);return"rgba("+(c[0]+b)+","+(c[1]+b)+","+(c[2]+b)+","+c[3]+")"},d.prototype.config=function(d){function e(a){return function(b){b.preventDefault(),a()}}var f,g,h,i,j=this,k=12,l=44,m=0,n=this.origin,o=(this.mark,this.gc),p=270,q=te.getInstance(),r=d.animations,s="out"===r[0].showType.toLowerCase;this.index=c,this.inEffect=r[s?1:0].animation,this.outEffect=r[s?0:1].animation;var t=this.container,u=d.style;t.style({backgroundColor:u.backgroundColor,opacity:u.opacity,backgroundImage:Cc(u.gradient.angle+"deg",[u.gradient.from,u.gradient.to])});var v=this.body,w=d.body;v.style({fontFamily:w.fontFamily,color:w.color}),v.html(w.content);var x=this.title,y=d.title;x.style({color:y.color,fontFamily:y.fontFamily}),x.text(y.content);var u={opacity:0,display:"block"};q.node.style(u),q.plugin_container.style(u),t.style(u),0===t.parent().length&&b.body.appendChild(t[0]);var z=d.more,A=this.tw,B="msg-",C=this.lighten;if("true"===z.type){var D=A.select("#"+B+"learn-more");D[0]&&A[0].removeChild(D[0]);var E=z.backgroundColor,F=z.color,G=A.el("div").attr("id",B+"learn-more").style({fontFamily:z.fontFamily,borderColor:C(E,-20),borderTopColor:C(E,-40)}).text(z.content),H={color:F,backgroundColor:E,backgroundImage:Cc("10deg",[C(E,50),C(E,-20)])};G.style(H),G.bind({mousedown:e(function(){G.style({backgroundColor:C(E,25)})}),tap:e(function(){var b=z.link;""!==b.trim()&&(b.indexOf("://")<0&&(b="http://"+d.more.link),a.open(b))}),mouseup:e(function(){G.style(H)}),mouseout:e(function(){G.style(H)}),mouseover:e(function(){G.style({backgroundColor:C(E,25),color:C(F,-50),backgroundImage:Cc("10deg",[C(E,80),E])})})})}var I=this.tc,J=this.gl,K=this.gi,L=this.gallery,M=this.srcs=d.image.content.split(";"),N=M.length;K[0].style.width="",K[0].style.height="",Ob(this.prevButton[0]),Ob(this.nextButton[0]),A[0].style.textAlign="",Nb(this.lc[0]);var O=this.rc[0].style;if(O.left="",O.width="",O.height="",O.marginLeft="",v[0].style.width="","true"===z.type&&(G[0].style.marginLeft=""),1===N)if(""===M[0])A.style("text-align","center"),Ob(this.lc[0]),this.rc.style({left:0,width:636,height:350,marginLeft:32}),Gd(v[0],632),"true"===z.type&&G.style("marginLeft",(Gd(A[0])-Gd(G[0]))/2);else{Ob(I[0]),Jd(L[0],318),Jd(K[0],318),Ob(this.prevButton[0]),Ob(this.nextButton[0]),Nb(J[0]);var P=new Image;P.onload=P.onerror=function(){P.onload=P.onerror=null,Ob(J[0]);var a=Gd(K[0]),b=Jd(K[0]),c=Gd(L[0]),d=Jd(L[0]);K.style({left:Z((c-a)/2),top:Math.floor((d-b)/2),display:"block"}),o.style({width:a,height:b,left:Z((c-a)/2),top:Math.floor((d-b)/2)})},P.src=K[0].src=M[0]}else{Nb(I[0]),Jd(L[0],250),Jd(K[0],250);var Q=this.thumbnail;Q.text("");var R=function(a){return function(b){b.preventDefault(),j.skipTo(a)}},S=function(a){return function(){var b=this;b.onload=b.onerror=null;var c,d;b.width>b.height?(d=40,c=Z(b.width/b.height*d)):(c=40,d=Z(b.height/b.width*c));var e=Z((40-c)/2),f=Z((40-d)/2);Bh(b,{width:c,height:d,marginLeft:e,marginTop:f}),a.append(b)}},T=bi("div"),U=this.liArray=[],V=bi("img");for(f=0;g=M[f];f++)g&&(T=T.clone(),T.bind("tap",R(f)),V=V.clone(),V.bind("load",S(T)),V.bind("error",S(T)),V.attr("src",M[f]),Q.append(T),U.push(T));for(this.nowIndex=[],Gd(Q[0],N*(l+k)),N*(l+k)-k-2>p?(I.style("cursor","all-scroll"),I[0].style.marginLeft="",Q[0].style.marginLeft="",Nb(this.prevButton[0]),Nb(this.nextButton[0]),h=Math.floor((p+k)/(l+k)),I.bind("mousedown",function(a){a.preventDefault(),Q.style("transition","none");{var c,d=a.pageX;parseFloat(Q.style("marginLeft"))}m=0,j.doc_mousemove&&Rg(b,"mousemove",j.doc_mousemove),j.doc_mousemove=function(a){a.preventDefault();var b=event.x,e=parseFloat(Q.style("marginLeft"));for(i=m=e+b-d,m>2&&(b>d&&(m=e+.5),i=2),p-N*(l+k)+13>m&&(d>b&&(m=e-1.2),i=p-N*(l+k)+13),d=b,Q.style("marginLeft",Z(m)),c=Z(Math.abs(i)/(l+k)),c>N-h&&(c=N-h),0>c&&(c=0),j.nowIndex=[],f=0;h>f;f++)j.nowIndex.push(c+f)},Og(b,"mousemove",j.doc_mousemove),Og(b,"mouseup",function(a){a.preventDefault(),m=Z(m),Q.style("transition","all .3s"),j.doc_mousemove&&Rg(b,"mousemove",j.doc_mousemove),m>2&&Q.style("marginLeft","2px"),p-N*(l+k)+13>m&&Q.style("marginLeft",p-N*(l+k)+13)})})):5===N?(h=N,I.style("marginLeft",20)):(h=N,I.style("marginLeft",20),Q.style("marginLeft",Math.floor((p-(l+k)*N+k+2)/2))),f=0;h>f;f++)this.nowIndex.push(f);this.skipTo(0)}var W=this.lc,X=this.rc;"right"===d.image.position.toLowerCase()?(W.style("margin","16px 32px 0px 8px"),X.style("margin","0px 8px 0px 32px"),W.parent().insert(X,W),n.style("left","2px"),""!==M[0]&&G&&G.style("margin-left","168px")):(W[0].style.margin="",X[0].style.margin="",W.parent().insert(W,X),n[0].style.left="",G&&(G[0].style.marginLeft=""));var Y=this.bc,Z=Math.ceil;Jd(Y[0],214-Jd(this.title[0])),v[0].style.top="",this.scroll&&this.scroll.destroy(),this.scroll=new ue(Y[0],{y:{container:"msg-scroll-bar"}}),u={display:"none",opacity:""},t.style(u),q.node.style(u),q.plugin_container.style(u);var $="touchstart"in b,_=function(a){a.preventDefault(),j.hided&&(j.hided=!1,j.hd(a)),$&&(j.doc_mouseup&&Rg(b,"touchend",j.doc_mouseup),j.doc_mouseup=function(){j.doc_mousemove&&Rg(b,"mousemove",j.doc_mousemove),j.hided||(j.hided=!0,Nb(j.origin[0]),Nb(j.mark[0]),j.gc.style("opacity",.5))},Og(b,"touchend",j.doc_mouseup)),j.doc_mousemove&&Rg(b,"mousemove",j.doc_mousemove),j.doc_mousemove=function(a){(a.target===j.gc[0]||a.target===j.mc[0])&&j.hd(a)},Og(b,"mousemove",j.doc_mousemove)};return this.gc.unbindAll("mouseover").unbindAll("touchstart"),this.gc.bind("mouseover",_),$&&this.gc.bind("touchstart",_),this},d.prototype.hd=function(a){var c=this,d=this.gi,e=this.mark,f=this.origin,g=this.mi,h=this.oi,i=this.gc,j=e[0].style,k=g[0].style,l=h[0].style,m=this.ol;Nb(m[0]),g[0].src=d[0].src,h[0].src=d[0].src;var n=new Image;n.onload=n.onerror=function(){n.onload=n.onerror=null,Ob(m[0]);var o,p,q,r,s,t,u,v,w,x,y=bh(c.gallery[0]).top,z=bh(c.gallery[0]).left,A=parseFloat(c.gi.style("left")),B=parseFloat(c.gi.style("top")),C=Math.floor,D=c.originWidth,E=c.originHeight,F=n.width||25,G=n.height||25,H=Gd(d[0]),I=Jd(d[0]),J=F/H,K=G/I;Gd(h[0],F),Jd(h[0],G),Gd(g[0],H),Jd(g[0],I),Gd(d[0],H),Jd(d[0],I),o=C(D/F*H),p=C(E/G*I),D>F?(o=H,h.style("marginLeft",(D-F)/2)):h.style("marginLeft",""),E>G?(p=I,h.style("marginTop",(E-G)/2)):h.style("marginTop",""),u=A+H-o-2,v=B+I-p-2,s=z+o/2,t=y+p/2,q=C(a.pageX-s),r=C(a.pageY-t),A>q&&(q=A),q>u&&(q=u),B>r&&(r=B),r>v&&(r=v),j.width=o+"px",j.height=p+"px",j.left=q+"px",j.top=r+"px",k.left=C(A-q)+"px",k.top=C(B-r)+"px",l.left=C((A-q)*J)+"px",l.top=C((B-r)*K)+"px",c.doc_mousemove&&Rg(b,"mousemove",c.doc_mousemove),c.doc_mousemove=function(a){a.preventDefault();var d=a.target;q=C(a.pageX-s),r=C(a.pageY-t),A>q&&(q=A),q>u&&(q=u),B>r&&(r=B),r>v&&(r=v),q!==w&&(j.left=q+"px",k.left=C(A-q)+"px",l.left=C((A-q)*J)+"px",w=q),r!==x&&(j.top=r+"px",k.top=C(B-r)+"px",l.top=C((B-r)*K)+"px",x=r),d!==c.mc[0]&&d!==c.gc[0]&&(c.doc_mousemove&&Rg(b,"mousemove",c.doc_mousemove),Ob(f[0]),Ob(e[0]),i.style("opacity",0))},Og(b,"mousemove",c.doc_mousemove)},n.src=d[0].src,Nb(f[0]),Nb(e[0]),i.style("opacity",.5)},d.prototype.hide=function(){this.gi[0].src="",this.doc_mousemove&&Rg(b,"mousemove",this.doc_mousemove)},d.prototype.skipTo=function(a){{var b,d,e,f=this,g=this.srcs,h=Math.ceil,i=this.liArray,j=this.gi,k=this.thumbnail,l=this.srcs.length,m=this.gallery,n=270,o=this.gc,p=44,q=12;this.mark}if(a!==c&&!isNaN(a)&&(0>a&&(a=0),a>l-1&&(a=l-1),a!==this.index)){if(e=this.gi=j.clone(),e.style({width:"auto",height:"auto"}),e[0].src=g[a],m.prepend(e),i[this.index||0].style("outline-color","rgb(145,145,145)"),i[a].style("outline-color","#317ee7"),this.nowIndex.indexOf(a)<0&&(a>this.index?(d=a===l-1?n-(a+1)*(p+q)+13:n-(a+1)*(p+q)-13,this.nowIndex.splice(0,1),this.nowIndex.push(a)):(d=0===a?2:-a*(p+q)+26,this.nowIndex.pop(),this.nowIndex.splice(0,0,a)),k.style("margin-left",d)),j[0].src){var r=Wc.animate(j[0],"FadeOut",500);r.addEventListener("end",function(){j.remove()},this)}else j.remove();clearTimeout(this.glt),this.glt=setTimeout(function(){Nb(f.gl[0])},200),b=this.image=new Image,b.onload=b.onerror=function(){b.onload=b.onerror=null,clearTimeout(f.glt);var a=Gd(e[0]),c=Jd(e[0]);Ob(f.gl[0]),Nb(j[0]),e.style({width:a,height:c,left:h((Gd(m[0])-a)/2),top:Math.floor((Jd(m[0])-c)/2)}),o.style({width:a,height:c,left:h((Gd(m[0])-a)/2),top:Math.floor((Jd(m[0])-c)/2)}),e.style({opacity:1})},b.src=j[0].src=g[a],this.index=a}},d.prototype.next=function(){this.skipTo(this.index+1)},d.prototype.prev=function(){this.skipTo(this.index-1)},d}();pe["message-box"]=function(a){var b=a.params,c=b.title,d=b.body;a.hint="Show Detail.",c.content=c.content.replace(/\/\^r\$\//g,"<br/>"),d.content=d.content.replace(/\/\^r\$\//g,"<br/>");var e=b.style;e.backgroundColor=He.parseToString(e.backgroundColor);var f=e.gradient;e.gradient={angle:f.angle,from:He.parseToString(f.from),to:He.parseToString(f.to)};var c=b.title;c.color=He.parseToString(c.color);var d=b.body;d.color=He.parseToString(d.color);var g=b.more;return g.color=He.parseToString(g.color),g.backgroundColor=He.parseToString(g.backgroundColor),eb},pe.moveCamera=function(a){var b=Ee.scene;return a.params=Xb({},a.params,{pageWidth:b.defaultProps.width,pageHeight:b.defaultProps.height}),fb},pe.openUrl=function(a){return a.params=a.params||{},a.params.target=a.params.target||"_blank",/^https?:\/\/.*$/i.test(a.content)||(a.content="http://"+a.content),a.hint="Go To "+a.content,gb};var we=function(){function d(){this.width=700,this.height=350,this.resizeOption={mode:0},this.imageWidth=25,this.imageHeight=25,this.hided=!0,this.originWidth=332,this.originHeight=340,this.container=this.createNode()}return d.getInstance=function(){return d._singleton||(d._singleton=new d),d._singleton},d.prototype.createNode=function(){{var b=this,c="paypal-",d=bi("div").attr("id","leo-lightbox--paypal"),e=this.lc=d.el("div").addClass(c+"part "+c+"left"),f=this.rc=d.el("div").addClass(c+"part "+c+"right"),g=this.gallery=e.el("div").addClass(c+"gallery"),h=(this.gl=g.el("i").addClass("leo-loading"),this.gi=g.el("img"),this.tc=e.el("div").addClass(c+"thumbnail")),i=(this.thumbnail=h.el("div"),this.origin=f.el("div").addClass(c+"origin")),j=(this.oi=i.el("img"),this.ol=i.el("i").addClass("leo-loading"),this.gc=g.el("div").addClass(c+"gallery-cover"),this.mark=g.el("div").addClass(c+"mark")),k=(this.mi=j.el("img"),this.mc=j.el("div"),this.tw=f.el("div").addClass(c+"content")),l=(this.productName=k.el("span").addClass(c+"title"),k.el("p").addClass(c+"price-wrap").text("Pirce: "));this.productPrice=l.el("span")}k.el("p").addClass(c+"in-stock").text("In stock.");{var m=this.bc=k.el("div").addClass(c+"body-container");this.body=m.el("div").addClass(c+"body").addClass("leo-scroll-content"),k.el("label").text("Quantity:").attr("for",c+"quantity"),this.input=k.el("input").attr({type:"text",value:1,id:c+"quantity"}),this.span=k.el("span").attr("class",c+"msg").text("Not enough in stock.")}k.el("br");var n=(this.shippingCost=k.el("span").addClass(c+"shipping-cost"),this.button=k.el("div").addClass(c+"buy"),k.el("div").addClass(c+"share")),o=["Facebook","Twitter","Google","More","Contact seller"],p=["https://www.facebook.com/sharer/sharer.php?u=","https://www.twitter.com/share?url=","https://plus.google.com/share?url=","http://www.addthis.com/bookmark.php?v=15&winname=addthis&s=more&url="];["fb","tw","gg","other","email"].forEach(function(d,e){var f=n.el("div").addClass(c+d).attr({title:o[e],"data-index":e}).bind("click",function(){"4"!==this.getAttribute("data-index")&&a.open(p[this.getAttribute("data-index")]+a.location.href)});4===e&&(b.mail=f)});var q=this.prevButton=bi("div").addClass("paypal-prev paypal-button");q.style("marginLeft","-2px"),q.bind("tap",function(){b.prev()}).el("div"),e.insert(q,h);var r=this.nextButton=e.el("div").addClass("paypal-next paypal-button");return r.style("marginLeft","2px"),r.bind("tap",function(){b.next()}).el("div"),d},d.prototype.lighten=function(a,b){var c=He.parse(a);return"rgba("+(c[0]+b)+","+(c[1]+b)+","+(c[2]+b)+","+c[0]+")"},d.prototype.config=function(d){var e=this;this.mail.unbindAll("click").bind("click",function(){a.open("mailto:"+d.clientEmail+"?subject="+d.productName+");","emailWindow")});var f;""===d.currency?f="USD":"£"===d.currency?f="EUR":"€"===d.currency&&(f="GBP"),this.productName.text(d.productName),this.productPrice.text(d.currency+d.price),this.shippingCost.html("Shipping cost "+("included"===d.shippingCost.toLowerCase()?"included.":"not included.")+"<br>Delivery time: "+d.deliveryTime+(parseFloat(d.deliveryTime)<=1?" day":" days")+".<br>");
var g=this.input,h=this.span;g.unbindAll("keyup"),g.bind("keyup",function(){var a=+this.value;a||0===a?a>parseInt(d.quantity,10)?(g.style("border-color","red"),h.text("Not enough in stock."),Nb(h[0])):(Ob(h[0]),g.style("border-color","rgb(177,177,177)")):(g.style("border-color","red"),h.text("Not a number."),Nb(h[0]))}),this.button.unbindAll("click").bind("click",function(){var b=+g.val();(b||0===b)&&b<=parseInt(d.quantity,10)&&a.open("http://www.paypal.com/cgi-bin/webscr?cmd=_xclick&business="+d.clientEmail+"&item_name="+d.productName+"&amount="+d.price+"&currency_code="+f+"&quantity="+b+"&notify_url="+a.location.href)});var i,j,k,l,m=12,n=44,o=0,p=(this.origin,this.mark,this.gc),q=270;this.index=c;var r=this.container;this.body.html(d.productDescription);var s=te.getInstance(),t={opacity:0,display:"block"};s.node.style(t),s.plugin_container.style(t),r.style(t),0===r.parent().length&&b.body.appendChild(r[0]);{var u=(d.more,this.tw);this.lighten}u.style({marginTop:(350-Jd(u[0]))/2+5});var v,w=this.tc,x=this.thumbnail,y=this.gl,z=this.gi,A=this.gallery,B=this.srcs=d.imageURL.split(";"),C=B.length,D=Math.ceil;if(Ob(this.prevButton[0]),Ob(this.nextButton[0]),z[0].style.width="",z[0].style.height="",1===C||0===C)v=new Image,Ob(w[0]),Jd(A[0],318),z.style("maxHeight",318),A.prepend(z),Nb(y[0]),v.onload=v.onerror=function(){v.onload=v.onerror=null;var a=Gd(z[0]),b=Jd(z[0]);Ob(y[0]),z.style({left:D((Gd(A[0])-a)/2),top:Math.floor((Jd(A[0])-b)/2),display:"block"}),p.style({width:a,height:b,left:D((Gd(A[0])-a)/2),top:Math.floor((Jd(A[0])-b)/2)})},v.src=z[0].src=B[0];else{Jd(A[0],""),z.style("maxHeight",250),Nb(A[0]),Nb(w[0]);var E,F,G=function(a){return function(b){b.preventDefault(),e.skipTo(a)}},H=[],I=this.liArray=[];for(x.text(""),i=0;j=B[i];i++)j&&""!==j&&(E=b.createElement("div"),E.className="paypal-thumbnail-li",F=b.createElement("img"),F.className="paypal-thumbnail-img",F.style.opacity="0",F.src=j,E.appendChild(F),x.append(E),H.push(F),I.push(E),Og(E,"click",G(i)));for(this.nowIndex=[],Gd(x[0],C*(n+m)),C*(n+m)-m-2>q?(w.style("cursor","all-scroll"),w[0].style.marginLeft="",x[0].style.marginLeft="",Nb(this.prevButton[0]),Nb(this.nextButton[0]),k=Math.floor((q+m)/(n+m)),w.bind("mousedown",function(a){a.preventDefault(),x.style("transition","none");{var c,d=a.pageX;parseFloat(x.style("marginLeft"))}o=0,e.doc_mousemove&&Rg(b,"mousemove",e.doc_mousemove),e.doc_mousemove=function(a){a.preventDefault();var b=event.x,f=parseFloat(x.style("marginLeft"));for(l=o=f+b-d,o>2&&(b>d&&(o=f+.5),l=2),q-C*(n+m)+13>o&&(d>b&&(o=f-1.2),l=q-C*(n+m)+13),d=b,x.style("marginLeft",D(o)),c=D(Math.abs(l)/(n+m)),c>C-k&&(c=C-k),0>c&&(c=0),e.nowIndex=[],i=0;k>i;i++)e.nowIndex.push(c+i)},Og(b,"mousemove",e.doc_mousemove),Og(b,"mouseup",function(a){a.preventDefault(),o=D(o),x.style("transition","all .3s"),e.doc_mousemove&&Rg(b,"mousemove",e.doc_mousemove),o>2&&x.style("marginLeft","2px"),q-C*(n+m)+13>o&&x.style("marginLeft",q-C*(n+m)+13)})})):5===C?(k=C,w.style("marginLeft",20)):(k=C,w.style("marginLeft",20),x.style("marginLeft",Math.floor((q-(n+m)*C+m+2)/2))),i=0;k>i;i++)this.nowIndex.push(i);this.skipTo(0),H.forEach(function(a){var b=new Image;b.onload=b.onerror=function(){Bh(a,"opacity",1),b.width>b.height?Bh(a,{maxWidth:"auto",maxHeight:"40px"}):Bh(a,{maxWidth:"40px",maxHeight:"auto"}),Bh(a,{left:D((40-Gd(a))/2),top:D((40-Jd(a))/2)})},b.src=a.src})}this.bc;this.scroll&&this.scroll.destroy(),this.scroll=new ue(this.bc[0],{y:{container:"paypal-scroll-bar"}}),t={display:"none",opacity:""},r.style(t),s.node.style(t),s.plugin_container.style(t);var J="touchstart"in b,K=function(a){a.preventDefault(),e.hided&&(e.hided=!1,e.hd(a)),J&&(e.doc_mouseup&&Rg(b,"touchend",e.doc_mouseup),e.doc_mouseup=function(){e.doc_mousemove&&Rg(b,"mousemove",e.doc_mousemove),e.hided||(e.hided=!0,Nb(e.origin[0]),Nb(e.mark[0]),e.gc.style("opacity",.5))},Og(b,"touchend",e.doc_mouseup)),e.doc_mousemove&&Rg(b,"mousemove",e.doc_mousemove),e.doc_mousemove=function(a){(a.target===e.gc[0]||a.target===e.mc[0])&&e.hd(a)},Og(b,"mousemove",e.doc_mousemove)};return this.gc.unbindAll("mouseover").unbindAll("touchstart"),this.gc.bind("mouseover",K),J&&this.gc.bind("touchstart",K),this},d.prototype.hd=function(a){var c=this,d=this.gi,e=this.mark,f=this.origin,g=this.mi,h=this.oi,i=this.gc,j=e[0].style,k=g[0].style,l=h[0].style,m=this.ol;Nb(m[0]),g[0].src=d[0].src,h[0].src=d[0].src;var n=new Image;n.onload=n.onerror=function(){n.onload=n.onerror=null,Ob(m[0]);var o,p,q,r,s,t,u,v,w,x,y=bh(c.gallery[0]).top,z=bh(c.gallery[0]).left,A=parseFloat(c.gi.style("left")),B=parseFloat(c.gi.style("top")),C=Math.floor,D=c.originWidth,E=c.originHeight,F=n.width||25,G=n.height||25,H=Gd(d[0]),I=Jd(d[0]),J=F/H,K=G/I;Gd(h[0],F),Jd(h[0],G),Gd(g[0],H),Jd(g[0],I),Gd(d[0],H),Jd(d[0],I),o=C(D/F*H),p=C(E/G*I),D>F?(o=H,h.style("left",(D-F)/2)):h.style("left",""),E>G?(p=I,h.style("top",(E-G)/2)):h.style("top",""),u=A+H-o-2,v=B+I-p-2,s=z+o/2,t=y+p/2,q=C(a.pageX-s),r=C(a.pageY-t),A>q&&(q=A),q>u&&(q=u),B>r&&(r=B),r>v&&(r=v),j.width=o+"px",j.height=p+"px",j.left=q+"px",j.top=r+"px",k.left=C(A-q)+"px",k.top=C(B-r)+"px",l.left=C((A-q)*J)+"px",l.top=C((B-r)*K)+"px",c.doc_mousemove=function(a){a.preventDefault();var d=a.target;q=C(a.pageX-s),r=C(a.pageY-t),A>q&&(q=A),q>u&&(q=u),B>r&&(r=B),r>v&&(r=v),q!==w&&(j.left=q+"px",k.left=C(A-q)+"px",l.left=C((A-q)*J)+"px",w=q),r!==x&&(j.top=r+"px",k.top=C(B-r)+"px",l.top=C((B-r)*K)+"px",x=r),d!==c.mc[0]&&d!==c.mi[0]&&d!==c.gc[0]&&(c.doc_mousemove&&Rg(b,"mousemove",c.doc_mousemove),Ob(f[0]),Ob(e[0]),i.style("opacity",0))},Og(b,"mousemove",c.doc_mousemove)},n.src=d[0].src,Nb(f[0]),Nb(e[0]),i.style("opacity",.5)},d.prototype.hide=function(){this.doc_mousemove&&Rg(b,"mousemove",this.doc_mousemove)},d.prototype.skipTo=function(a){{var b,d,e,f=this,g=this.srcs,h=Math.ceil,i=this.liArray,j=this.gi,k=this.thumbnail,l=this.srcs.length,m=this.gallery,n=270,o=this.gc,p=44,q=12;this.mark}if(a!==c&&!isNaN(a)&&(0>a&&(a=0),a>l-1&&(a=l-1),a!==this.index)){if(e=this.gi=j.clone(),e.style({width:"auto",height:"auto",display:"none"}),e[0].src=g[a],m.prepend(e),Bh(i[this.index||0],"outline-color","rgb(145,145,145)"),Bh(i[a],"outline-color","#317ee7"),this.nowIndex.indexOf(a)<0&&(a>this.index?(d=a===l-1?n-(a+1)*(p+q)+13:n-(a+1)*(p+q)-13,this.nowIndex.splice(0,1),this.nowIndex.push(a)):(d=0===a?2:-a*(p+q)+26,this.nowIndex.pop(),this.nowIndex.splice(0,0,a)),k.style("margin-left",d)),j[0].src){var r=Wc.animate(j[0],"FadeOut",500);r.addEventListener("end",function(){j.remove()},this)}else j.remove();clearTimeout(this.glt),this.glt=setTimeout(function(){Nb(f.gl[0])},200),b=this.image=new Image,b.onload=b.onerror=function(){b.onload=b.onerror=null,clearTimeout(f.glt);var a=Gd(e[0]),c=Jd(e[0]);Ob(f.gl[0]),Nb(j[0]),e.style({width:a,height:c,left:h((Gd(m[0])-a)/2),top:Math.floor((Jd(m[0])-c)/2)}),o.style({width:a,height:c,left:h((Gd(m[0])-a)/2),top:Math.floor((Jd(m[0])-c)/2)}),e.style({opacity:1}),f.showAnimate&&f.showAnimate.destroy(),f.showAnimate=Wc.animate(e[0],"FadeIn",500)},b.src=g[a],this.index=a}},d.prototype.next=function(){this.skipTo(this.index+1)},d.prototype.prev=function(){this.skipTo(this.index-1)},d}();pe["paypal-box"]=function(a){return a.hint="Pop Up Paypal Box.",a.params.productDescription=a.params.productDescription.replace(/\/\^r\$\//g,"<br>"),hb},pe.playAction=function(a,b){var c=a.params&&a.params.params;if(c&&c.actionName&&"sprite"===b.type){c={animation:c.actionName,duration:a.params.duration,userDefined:1,overwritten:!0,params:{scaleX:c.scaleX||1,scaleY:c.scaleY||1,text:c.text,sound:c.sound}};var d=qb(c,b.type);return function(){ie.run(this,d)}}},pe.playAnimation=function(a,b){var c=qb(Xb({name:a.params.content},a.params),b.type);return function(){ie.run(this,c)}};var xe=function(){function a(){this.width=308,this.height=120,this.resizeOption={mode:0},this.__leo_guid__=w(),this.container=this.createNode()}return a.getInstance=function(){return a._singleton||(a._singleton=new a),a._singleton},a.prototype.createNode=function(){function a(a){return function(b){m.duration&&a(b)}}var b=this,c="audio-",d=" "+c+"bg",e=bi("div").addClass(c+"bg").attr("id","leo-lightbox--audio"),f=this.loading=e.el("div").addClass(c+"loading "+c+"message"),g=(this.error=e.el("div").addClass(c+"error "+c+"message"+d),e.el("div").addClass(c+"progress").attr("title","00:00")),h=g[0],i=g.el("div").addClass(c+"buffered"+d),j=g.el("div").addClass(c+"played"+d),k=(j.el("div").addClass(c+"cursor"+d),e.el("div").addClass(c+"time").html("00:00")),l=e.el("audio").attr({preload:"metadata",autoplay:!0}),m=this.audio=l[0],n=(l.el("source"),e.el("div").addClass(c+"playPause "+c+"play"+d).attr("title","Play/Puase")),o=(e.el("div").addClass(c+"controls "+c+"prev"+d).attr("title","Prev"),e.el("div").addClass(c+"controls "+c+"next"+d).attr("title","Next"),e.el("div").html("Audio player").addClass(c+"title"),e.el("div").addClass(c+"volume"+d)),p=o[0],q=o.el("div").addClass(c+"volume-fg"),r=(q.el("div").addClass(c+"volume-fg-p"+d),q.el("div").addClass(c+"volume-cursor"+d),e.el("div").addClass(c+"volume-switch "+c+"unmuted"+d));n.bind("click",a(function(){m.paused?m.play():m.pause()})),r.bind("click",a(function(){m.muted=!m.muted})),g.bind("click",a(function(a){m.currentTime=(a.pageX-bh(a.currentTarget).left)/h.offsetWidth*m.duration})),Og(p,"click",a(function(a){var b=1-(a.pageY-bh(p).top)/p.offsetHeight;m.muted=0===b,m.volume=b}));var s=a(function(a){h.title=b.formatTime(a.originalEvent.offsetX/h.offsetWidth*m.duration)});g.bind("mouseover",s),g.bind("mousemove",s);var t=a(function(a){p.title=100-Math.round((a.pageY-bh(p).top)/p.offsetHeight*100)});o.bind("mouseover",t),o.bind("mousemove",t),Og(m,"progress",a(function(){Bh(i[0],"width",m.buffered.end(0)/m.duration*100+"%")})),Og(m,"timeupdate",a(function(){var a=m.currentTime;j.style("width",a/m.duration*90+10+"%"),k.html(b.formatTime(a))})),Og(m,"volumechange",function(){var a=m.muted?0:m.volume;r[0].className=c+(m.muted||0===a?"muted":"unmuted")+d+" "+c+"volume-switch",q.style("height",73*a+27+"%")}),Og(m,"playing",function(){clearTimeout(u),Ob(f[0]),n.removeClass("audio-play").addClass("audio-pause")}),Og(m,"pause",function(){n.removeClass("audio-pause").addClass("audio-play")});var u;return Og(m,"waiting",function(){clearTimeout(u),u=setTimeout(function(){Nb(f[0])},300)}),e},a.prototype.config=function(a){var b=this,c=this.container[0].getElementsByTagName("audio")[0],d=c.getElementsByTagName("source")[0],e=this.loading[0],f=this.error[0],g="audio/"+a.substring(a.length-3),h=function(){return clearTimeout(b.timeout),4===c.readyState?void Ob(e):void(b.timeout=setTimeout(h,300))};return c.duration&&d.src===a?c.play():""===c.canPlayType(g)?(Ob(e),Nb(f)):(Ob(f),Nb(e),d.type=g,d.src=a,c.load(),Nb(e),h()),this},a.prototype.formatTime=function(a){a=Math.round(a);var b=Math.floor(a/60),c=a%60;return(10>b?"0":"")+b+":"+(10>c?"0":"")+c},a.prototype.hide=function(){clearTimeout(this.timeout),this.audio.pause()},a}();pe["audio-box"]=function(a){return a.hint="Play Audio.",ib};var ye=function(){function a(){this.width=900,this.height=450,this.close_style={right:-7,top:-19},this.resizeOption={mode:1,delw:20,delh:20},this.__leo_guid__=w(),this.container=this.createNode()}return a.getInstance=function(){return a._singleton||(a._singleton=new a),a._singleton},a.prototype.createNode=function(){{var a=bi("div").attr("id","leo-lightbox--video");a.el("div").html("Video")}return this.loading=a.el("i").addClass("leo-loading"),a},d(a.prototype,"video",{get:function(){var a=this._video;return a||(a=this.container.el("video").attr("controls",!0),a.el("source")),this._video=a,a[0]},enumerable:!0,configurable:!0}),d(a.prototype,"iframe",{get:function(){var a=this._iframe;return a||(a=this.container.el("iframe").attr({width:800,height:450,webkitAllowFullScreen:!0,mozallowfullscreen:!0,allowFullScrren:!0,allowtransparency:!0})),this._iframe=a,a},enumerable:!0,configurable:!0}),a.prototype.config=function(a,b){var c=this,d=b.target.toLowerCase(),e=this.video,f=this.iframe;if(Nb(this.loading[0]),"html5"===d){var g,h,e=this.video,i="video/"+a.split(".").pop(),j=e.getElementsByTagName("source")[0],k=j.getAttribute("src");Nb(e),f.remove(),""===e.canPlayType(i)||(k===a&&4===e.readyState?(e.play(),Ob(this.loading[0])):(j.setAttribute("src",a),e.load(),(h=function(){if(g=setTimeout(h,0),4===e.readyState){clearTimeout(g),Ob(c.loading[0]),c.width=e.videoWidth,c.height=e.videoHeight;var a=te.getInstance();a.resize(!0,function(){e.play()})}})()))}else"youtube"===d&&(a="http://www.youtube.com/embed/"+a+"?autoplay=1&wmode=transparent"),"vimeo"===d&&(a="http://player.vimeo.com/video/"+a+"?autoplay=1&wmode=transparent&portrait=0"),this.container.append(f),Ob(e),e.pause(),f.attr("src",a);return this},a.prototype.hide=function(){var a=this.video;a.pause(),Ob(a),this.iframe.remove()},a}();pe["video-box"]=function(a){return a.hint="Play Video.",jb},pe.resetCamera=function(){return kb};var ze={},Ae=g(["when","type","action","target","params"]),Be={click:"tap",doubleclick:"doubletap",mousedown:"tapstart",mouseup:"tapend"},Ce={motion:function(a,b){a.name="Motion",a.params=xb(a.params,b)},"spotlight(move to)":function(a,b){a.name="SpotLight(Move to)",a.params=xb(a.params,b)}},De={"transform.rotation":0,"transform.scaleX":1,"transform.scaleY":1,"transform.skewX":0,"transform.skewY":0,"transform.tx":0,"transform.ty":0};ze.camera=function(a){var b=Ee,c=b.option;c.action?Array.isArray(c.action)||(c.action=[c.action]):c.action=[];for(var d=c.action,e=a.animations||[],f=-1,g=e.length;++f<g;){var h=e[f],i=null;if(h){var j=h.animation.toLowerCase(),k=h.params;if("camera(move to)"===j)j="moveCamera",i={width:k.width,height:k.height,left:k.left,top:k.top,duration:+h.duration||0};else{if("back to center"!==j)continue;j="resetCamera",i={duration:+h.duration||0}}d.push({when:"timer",time:+h.start||0,action:j,params:i})}}},ze.timer=function(a,b){var c=Ee,d=c.option;d.action?Array.isArray(d.action)||(d.action=[d.action]):d.action=[];for(var e=d.action,f=a.elements,g=-1,h=f.length;++g<h;){var i=f[g];if(i){i.template.visible=0,b.push(i);var j=i.template;e.push({when:"timer",time:+j.startTime,target:j.name,action:"changeVisible",params:{visible:!0}});var k=+j.startTime+ +j.duration,l=tb(i.animations);l>=0&&e.push({when:"timer",time:k-l,target:j.name,action:"changeVisible",params:{visible:!1}})}}};var Ee=null,Fe={font:function(a,b,c,d){for(var e in a){var f=d.get(b,e);if(f&&"!"!==f)if(c[f]=a[e],"color"===e)if("number"==typeof a[e]){var g=He.parse(a[e]);g[3]=1,c[f]=He.parseToString(g)}else c[f]=He.parseToString(a[e]);else"backgroundColor"===e&&(c[f]=He.parseToString(a[e]))}},shadow:function(a,b,c,d){var e=d.get(b,"shadow");e&&"!"!==e&&(c.shadow=Dc(a.offsetX,a.offsetY,a.blur,He.parseToString(a.color)))},gradualColors:function(a,b,c,d){var e=d.get(b,"gradient");if(e&&"!"!==e){for(var f=a.split(";"),g="",h=0,i=-1,j=f.length;++i<j;){var k=He.parseToString(f[i]);(!i||i>0&&f[i]!==f[i-1])&&(g+=k+";",++h)}g&&(1>=h&&(g+=g),c.gradient=g.slice(0,-1))}}},Ge={image:function(a,b){a.src=b.template.content,a.defaultProps["filter.reset"]=c}};Ge["html5-video"]=Ge.sound=Ge["vimeo-video"]=Ge["youtube-video"]=function(a,b){a.src=b.template.content,a.autoplay=!!b.template.autoPlay},Ge.line=Ge.arrowline=Ge.dottedline=function(a,b){b.template.content.split(";").forEach(function(b,c){a[(c%2?"y":"x")+(2>c?"1":"2")]=+b})},Ge.roundedrectangulardialogbox=Ge.rectangulardialogbox=Ge.ovaldialogbox=Ge.clouddialogbox=function(a,b){var c=b.template.params.split(";");a.handlerX=+c[2],a.handlerY=+c[3]},Ge.paypaldiscount=function(a,b){a.textContent=b.style.font.paypalPrice},Ge.paypalprice=function(a,b){a.textContent=b.template.content,a.price=b.style.font.paypalPrice},Ge.paypalproductbox=function(a,b){a.urls=b.template.content},Ge.paypalstar=function(a,b){a.rate=b.template.content,a.src=b.style.backgroundImage},Ge.embedweb=function(a,b){a.url=b.template.content},Ge.slide=function(a,b){var c=b.template,d=c.slideType.toLowerCase();"default"!==d?(a.type=d,Ge[d](a,b)):(a.url=c.content,a.controls="none"!==c.thumbnail,a.autoPlay=c.autoPlay,a.interval=c.interval)},Ge.sprite=function(a,b){var c=b.sprite;a.srcset=[c.url],a.initialActionName=c.initialAnimationName;for(var d=a.frames=[],e=c.row,f=c.column,g=c.cellWidth,h=c.cellHeight,i=-1;++i<e;)for(var j=-1;++j<f;)d.push([0,j*g,i*h,g,h]);for(var k=c.animations||[],l=a.actions={},m=a.actionConfigs={},i=-1,n=k.length;++i<n;){{var o=k[i];o.content}l[o.name]=o.content.split(",").map(function(a){var b=a.split("-");return(+b[0]-1)*f+(+b[1]-1)}),m[o.name]={frameRate:o.frameRate,repeat:o.repeat&&-1!==o.repeat?o.repeat-1:o.repeat||0}}if(!a.initialActionName&&a.animations)for(var i=-1,n=a.animations.length;++i<n&&!(a.animations[i].userDefined&&a.animations[i].params&&(a.initialActionName=a.animations[i].params.action)););for(var p,q,r,s=[],i=0,t=a.animations,u=t.length;u>i;i++)(p=t[i].params)&&(q=p.sound)&&(r=q.src)&&s.push(r);a.soundURLs=s},Ge.dragslide=Ge.zoomslide=Ge.album=Ge.flipslide=Ge.fadeslide=function(a,b){var c=b.template;a.url=c.content,a.autoPlay=c.autoPlay,a.interval=+c.interval},Ge.soundplayer=function(a,b){var c=b.template;a.autoPlay=c.autoPlay,a.src=c.content,a.playerType=c.soundPlayerType},Ge.twittertimeline=function(a,b){var c=b.template;a.transparent=c.transparent,a.theme=c.theme,a.screenName=c.userName,a.screenType=c.screenType,a.customTimelineID=c.customTimelineID,a.listSlug=c.listSlug};var He=function(){function a(){}return a.brighter=function(b,c){var d=Array.isArray(b),e=d?b:a.parse(b);c=Math.pow(.7,arguments.length?c:1);var f,g=e[0],h=e[1],i=e[2],j=30,k=e.length>3?e[3]:1;return g||h||i?(g&&j>g&&(g=j),h&&j>h&&(h=j),i&&j>i&&(i=j),f=[~~Math.min(255,g/c+.5),~~Math.min(255,h/c+.5),~~Math.min(255,i/c+.5),k]):f=[j,j,j,k],d?f:a.stringify(f)},a.darker=function(b,c){c=Math.pow(.7,arguments.length?c:1);var d=Array.isArray(b),e=d?b:a.parse(b),f=[c*e[0]|0,c*e[1]|0,c*e[2]|0,e.length>3?e[3]:1];return d?f:a.stringify(f)},a.transparentize=function(b,c){var d=Array.isArray(b),e=d?b:a.parse(b),f=e.concat();return f[3]=yc(c,0,1),d?f:a.stringify(f)},a.toHSLA=function(b){var c=Array.isArray(b),d=a.toHSLAArray(b);return c?d:a.stringifyHSLA(d)},a.toHSLAArray=function(b){var c,d,e=a.parse(b),f=e[0],g=e[1],h=e[2],i=Math.min(f/=255,g/=255,h/=255),j=Math.max(f,g,h),k=j-i,l=(j+i)/2;k?(d=.5>l?k/(j+i):k/(2-j-i),c=60*(f===j?(g-h)/k+(h>g?6:0):g==j?(h-f)/k+2:(f-g)/k+4)):(c=0,d=l>0&&1>l?0:c);var m=e.concat();return m[0]=c,m[1]=100*d,m[2]=100*l,m},a.stringifyHSLA=function(a){var b="("+a[0]+","+a[1]+"%,"+a[2]+"%";return(a.length>3&&a[3]<1?"hsla"+b+","+a[3]:"hsl"+b)+")"},a.stringify=function(a){return a.length>3&&a[3]<1?"rgba("+a+")":"rgb("+a[0]+","+a[1]+","+a[2]+")"},a.format=function(a){for(var b=new Array(4),c=-1;++c<3;)b[c]=Math.max(0,Math.min(255,~~a[c]));var d=a.length>3?+a[3]:1;return d||0===d||(d=1),b[3]=Math.min(0,Math.max(1,d)),b},a.parse=function(b){if(null==b)return b;if(Array.isArray(b))return b;var c=+b;if(!isNaN(c))return[c>>16,c>>8&&255,c>>16&255,0];b=b.trim().toLowerCase(),","===b.charAt(b.length-1)&&(b=b.substr(0,b.length-1));var d;if(d=a.table[b])return[d[0],d[1],d[2],d.length>3?d[3]:1];"0x"===b.substr(0,2)&&(b="#"+b.substr(3));var e,f,g,h;if("#"===b[0]){var i=b.lastIndexOf(",");return i>=0?(h=+b.substr(i+1),b=b.substr(0,i)):h=1,4===b.length?(e=parseInt(b[1]+b[1],16),f=parseInt(b[2]+b[2],16),g=parseInt(b[3]+b[3],16)):(e=parseInt(b.substr(1,2),16),f=parseInt(b.substr(3,2),16),g=parseInt(b.substr(5,2),16)),0===h||h||(h=1),[e,f,g,h]}if("hsl"===b.substr(0,3)){var j=b.match(Ie),k=+j[0]%360/360,l=+j[1]/100,m=+j[2]/100,h=+j[3],n=.5>=m?m*(l+1):m+l-m*l,o=2*m-n;return j.length>3&&(h=+j[3]),[Bb(k+1/3,o,n),Bb(k,o,n),Bb(k-1/3,o,n),h]}var j=b.match(Ie);return j?[+j[0],+j[1],+j[2],j.length>3?+j[3]:1]:null},a.parseToString=function(b){return a.stringify(a.parse(b))},a.table={silver:[192,192,192],black:[0,0,0],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],yellow:[255,255,0],orange:[255,165,0],grey:[128,128,128],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],transparent:[0,0,0,0]},a}(),Ie=/([\d\-\.e]+)/gi,Je={_tables:{},register:function(a,b,c,d){Je._tables[a]={d:c,p:d,pr:b}},get:function(a,b){for(var c,d=Je._tables;;){var e=d[a];if(e||(e=d[a="default"]),c=e.d&&e.d[b]||e.p&&e.p(b,e.d),c||"default"===a)break;a=e.pr||"default"}return c}},Ke={_classes:{},register:function(a,b,c){b.componentType=a,Ke._classes[a]=b,c&&!Je._tables[a]&&Je.register(a,c)},getClass:function(a){return Ke._classes[a]},create:function(a,b,c){try{var d=new Ke._classes[a];if(d.name=b,c)for(var b in c)d.setProperty(b,c[b]);return d}catch(e){return null}}},Le=function(a){function b(){a.call(this),this.__leo_guid__=w(),this.DOMEventsEnabled=!0,this._parent=null,this._stage=null,this._visible=!0,this._backface=!0,this._x=0,this._displayX=0,this._y=0,this._displayY=0,this._zIndex=null,this._anchorX=0,this._anchorY=0,this._opacity=1,this._shadow="none",this._hasWidthSet=!1,this._computedWidth=0,this._actualWidth=0,this._hasHeightSet=!1,this._computedHeight=0,this._actualHeight=0,this.init()}return Uc(b,a),b.prototype.init=function(){this._node=this.createNode(),this._dom=this._node.attr("data-guid",this.guid).addClass("leo-comp").style("display","none")[0],this.name=this.componentType+"_"+this.guid,this._transform=this.initTransform(),this.positionMode="absolute",this._resizeMode=0},b.prototype.initTransform=function(){return new Dg(this._dom,this)},d(b.prototype,"name",{get:function(){return this._name},set:function(a){var b=this._name;this._name=a,this._dom.setAttribute("id",a),this._stage&&this._stage.context.components.updateName(this,b)},enumerable:!0,configurable:!0}),d(b.prototype,"dom",{get:function(){return this._dom},enumerable:!0,configurable:!0}),d(b.prototype,"node",{get:function(){return this._node},enumerable:!0,configurable:!0}),b.prototype.createNode=function(){return bi("div")},b.prototype.destroyNode=function(){},d(b.prototype,"guid",{get:function(){return this.__leo_guid__},enumerable:!0,configurable:!0}),d(b.prototype,"componentType",{get:function(){return this.constructor.componentType},enumerable:!0,configurable:!0}),d(b.prototype,"loadable",{get:function(){return!1},enumerable:!0,configurable:!0}),d(b.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),b.prototype._setParent=function(a){this._parent=a},d(b.prototype,"stage",{get:function(){return this._stage},enumerable:!0,configurable:!0}),d(b.prototype,"visible",{get:function(){return this._visible},set:function(a){this._visible!==a&&(this._visible=a,a?Nb(this._dom):Ob(this._dom),this.notifyPropertyChange("visible",!a))},enumerable:!0,configurable:!0}),d(b.prototype,"backface",{get:function(){return this._backface},set:function(a){this._backface!==a&&(this._backface=a,zh(this._dom,"backfaceVisibility",a?"":"hidden"),this.notifyPropertyChange("backface",!a))},enumerable:!0,configurable:!0}),d(b.prototype,"positionMode",{get:function(){return this._positionMode},set:function(a){var b=this._positionMode;b!==a&&(this._positionMode=a,this._dom.style.position=a,this.notifyPropertyChange("positionMode",b))},enumerable:!0,configurable:!0}),d(b.prototype,"transform",{get:function(){return this._transform},enumerable:!0,configurable:!0}),d(b.prototype,"x",{get:function(){return this._x},set:function(a){var b=this._x;b!==a&&(this._x=a,this.displayX=this._displayX+a-b,this._onXChange(b),this.notifyPropertyChange("x",b))},enumerable:!0,configurable:!0}),b.prototype._onXChange=function(){},d(b.prototype,"displayX",{get:function(){return this._displayX},set:function(a){this._displayX!==a&&(this._displayX=a,this._transform.update())},enumerable:!0,configurable:!0}),d(b.prototype,"y",{get:function(){return this._y},set:function(a){var b=this._y;b!==a&&(this._y=a,this.displayY=this._displayY+a-b,this._onYChange(b),this.notifyPropertyChange("y",b))},enumerable:!0,configurable:!0}),b.prototype._onYChange=function(){},d(b.prototype,"displayY",{get:function(){return this._displayY},set:function(a){this._displayY!==a&&(this._displayY=a,this._transform.update())},enumerable:!0,configurable:!0}),d(b.prototype,"zIndex",{get:function(){return this._zIndex},set:function(a){a=~~a;var b=this._zIndex;b!==a&&(this._zIndex=a,this._dom.style.zIndex=a+"",this.notifyPropertyChange("zIndex",b))},enumerable:!0,configurable:!0}),d(b.prototype,"anchorX",{get:function(){return this._anchorX},set:function(a){var b=this._anchorX;b!==a&&(this._anchorX=a,this._transform.update(),this.notifyPropertyChange("anchorX",b))},enumerable:!0,configurable:!0}),d(b.prototype,"anchorY",{get:function(){return this._anchorY},set:function(a){var b=this._anchorY;b!==a&&(this._anchorY=a,this._transform.update(),this.notifyPropertyChange("anchorY",b))},enumerable:!0,configurable:!0}),d(b.prototype,"opacity",{get:function(){return this._opacity},set:function(a){a>1?a=1:0>a&&(a=0);var b=this._opacity;b!==a&&(this._opacity=a,this._dom.style.opacity=a+"")},enumerable:!0,configurable:!0}),d(b.prototype,"shadow",{get:function(){return this._shadow},set:function(a){var b=this._shadow;a!==b&&zh(this._dom,"boxShadow",this._shadow=a)},enumerable:!0,configurable:!0}),d(b.prototype,"resizeMode",{get:function(){return this._resizeMode},set:function(a){this._setResizeMode(a)},enumerable:!0,configurable:!0}),b.prototype._setResizeMode=function(a){if(a=(2+a%2)%2,this._resizeMode!==a&&(this._resizeMode=a,!a)){var b=!1;this._hasWidthSet&&this._actualWidth!==this._computedWidth&&(this.actualWidth=this._computedWidth,b=!0),this._hasHeightSet&&this._actualHeight!==this._computedHeight&&(this.actualHeight=this._computedHeight,b=!0),b&&this._transform.update()}},d(b.prototype,"width",{get:function(){return this._resizeMode?this._computedWidth:this._actualWidth},set:function(a){!this._hasWidthSet&&a&&(this._hasWidthSet=!0,this.actualWidth=a);var b=this._computedWidth;a!==b&&(this._computedWidth=a,this._resizeMode?this._transform.update():this.actualWidth=a,this.notifyPropertyChange("width",b))},enumerable:!0,configurable:!0}),d(b.prototype,"actualWidth",{get:function(){return this._actualWidth},set:function(a){var b=this._actualWidth;if(a!==b){var c=1;this._resizeMode&&b&&(c=this._computedWidth/b),this._dom.style.width=~~(.5+a)+"px",this._onActualWidthChange(this._actualWidth=a),this.notifyPropertyChange("actualWidth",a),this._resizeMode?this.width=a*c:(a!==this._computedWidth&&(c=this._computedWidth,this._computedWidth=a),this._anchorX&&this._transform.update(),a!==c&&this.notifyPropertyChange("width",c))}},enumerable:!0,configurable:!0}),b.prototype._onActualWidthChange=function(){},d(b.prototype,"height",{get:function(){return this._resizeMode?this._computedHeight:this._actualHeight},set:function(a){!this._hasHeightSet&&a&&(this._hasHeightSet=!0,this.actualHeight=a);var b=this._computedHeight;a!==b&&(this._computedHeight=a,this._resizeMode?this._transform.update():this.actualHeight=a,this.notifyPropertyChange("height",b))},enumerable:!0,configurable:!0}),d(b.prototype,"actualHeight",{get:function(){return this._actualHeight},set:function(a){var b=this._actualHeight;if(a!==b){var c=1;this._resizeMode&&b&&(c=this._computedHeight/b),this._dom.style.height=~~(.5+a)+"px",this._onActualHeightChange(this._actualHeight=a),this.notifyPropertyChange("actualHeight",a),this._resizeMode?this.height=a*c:(a!==this._computedHeight&&(c=this._computedHeight,this._computedHeight=a),this._anchorY&&this._transform.update(),a!==c&&this.notifyPropertyChange("height",c))}},enumerable:!0,configurable:!0}),b.prototype._onActualHeightChange=function(){},b.prototype.getBoundingRect=function(a){a||(a=new Oh(0,0,0,0));var b=this.width,c=this.height;return a.set(-this.anchorX*b,-this.anchorY*c,b,c),a},b.prototype.getMeasuredBound=function(a){return this.getBoundingRect(a)},b.prototype.getTransformMatrix=function(a){a||(a=new Nh(1,0,0,1,0,0)),a.identity();var b=this._transform;return a.appendTransform(b._tx,b._ty,b._sx*b._scaleX,b._sy*b._scaleY,b._rotation,b._skewX,b._skewY,this.width*(this._transform._originX-this._anchorX),this.height*(this._transform._originY-this._anchorY))},b.prototype.getTransformBound=function(a,c,d){c=d?this.getMeasuredBound(c):this.getBoundingRect(c),a||(a=this.getTransformMatrix(Nh.identity));var e=b._point;e||(e=b._point={x:0,y:0}),e.x=c.left,e.y=c.top,a.transformPoint(e);var f=e.x,g=f,h=e.y,i=h;return e.x=c.right,e.y=c.top,a.transformPoint(e),e.x<f?f=e.x:e.x>g&&(g=e.x),e.y<h?h=e.y:e.y>i&&(i=e.y),e.x=c.right,e.y=c.bottom,a.transformPoint(e),e.x<f?f=e.x:e.x>g&&(g=e.x),e.y<h?h=e.y:e.y>i&&(i=e.y),e.x=c.left,e.y=c.bottom,a.transformPoint(e),e.x<f?f=e.x:e.x>g&&(g=e.x),e.y<h?h=e.y:e.y>i&&(i=e.y),c.set(f,h,g-f,i-h)},b.prototype.onTransformUpdate=function(){this._transform._x=Mc(this._displayX+this._computedWidth*(this._transform._originX-this._anchorX)-this._actualWidth*this._transform._originX),this._transform._y=Mc(this._displayY+this._computedHeight*(this._transform._originY-this._anchorY)-this._actualHeight*this._transform._originY);var a=0;this._actualWidth&&(a=Mc(this._computedWidth/this._actualWidth),0===a||a||(a=1),this._transform._sx=a),this._actualHeight&&(a=Mc(this._computedHeight/this._actualHeight),0===a||a||(a=1),this._transform._sy=a)},b.prototype.setProperty=function(a,b){if(arguments.length<2)for(var c in a)this.setProperty(c,a[c]);else{var d=this;if(a.indexOf(".")>=0){for(var e=a.split("."),f=null,g=-1,h=e.length-1;++g<h&&null!=d;)f=d,d=d[e[g]];d&&("function"==typeof d[e[g]]?d[e[g]].call(d,b):d[e[g]]=b)}else"!"!==a&&(d[a]=b)}},b.prototype.getProperty=function(a){var b=this;if("!"===a)return null;if(a.indexOf(".")>=0){for(var c=a.split("."),d=-1,e=c.length-1;++d<e&&null!=b;)b=b[c[d]];return b&&b[c[d]]}return b[a]},b.prototype.notifyPropertyChange=function(a,b){if(this.hasEventListener(a+="Change")){var c=Jh.getInstance(a,b);c._setCurrentTarget(c._target=this),this._notifyListener(c),Jh.recycle(c)}},b.prototype.watch=function(a,b,c,d){"undefined"==typeof d&&(d=0),this.addEventListener(a+"Change",b,c,d)},b.prototype.unwatch=function(a,b,c){this.removeEventListener(a+"Change",b,c)},b.prototype.addEventListener=function(b,c,d,e){"undefined"==typeof e&&(e=0),a.prototype.addEventListener.call(this,b,c,d,e),Fh[b]&&Ve.delegate(this,b)},b.prototype.dispatchEvent=function(b){if(!b.bubbles)return a.prototype.dispatchEvent.call(this,b);for(var c=[],d=this,e=b.type;d;)d.hasEventListener(e)&&c.push(d),d=d._parent;return this._dispatchPropagationEvent(b,c,c[0]===this?0:-1),!b._defaultPrevented},b.prototype._dispatchPropagationEvent=function(a,b,c){for(var d=0,e=b.length;e>d;++d){var f=b[d];if(a._setCurrentTarget(f),a._target=this,a._eventPhase=d===c?2:3,f._notifyListener(a),a._isPropagationStopped||a._isImmediatePropagationStopped)break}},b.prototype.enter=function(a){this._stage=a,this._visible?Nb(this._dom):Ob(this._dom),Ve.flushDelegates(this),a.context.components.add(this)},b.prototype.leave=function(){Ob(this._dom),this._stage&&(this._stage.context.components.remove(this),this._stage=null)},b.prototype.destroy=function(){this._parent?this._parent.remove(this):this._stage&&(this.leave(),this.dispatchSimpleEvent(Gh.LEAVE_STAGE)),a.prototype.destroy.call(this),Ve.removeDelegates(this),this.destroyNode(this._node),this._transform.destroy(),this._transform=null,this._node=null,this._dom=null},b}(Vc);Je.register("default",null,{left:"x",top:"y",visible:"visible",opacity:"opacity",rotate:"transform.rotation",shadow:"shadow",width:"width",height:"height",zIndex:"zIndex"},function(a){return Dg.KEYWORDS[a]?"transform."+a:null}),Ke.register("unkown",Le);var Me=function(a){function b(){a.call(this),this._src="",this._srcChanged=!1,this._readyState=0,this._autoplay=!1}return Uc(b,a),b.prototype.init=function(){var b=this;a.prototype.init.call(this),this.node.addClass("leo-comp--media hi-action"),this.watch("visible",this._pauseWhenHidden,this),this._media=this._createMedia(),this.media.onload=function(){b._onload()}},d(b.prototype,"media",{get:function(){return this._media},enumerable:!0,configurable:!0}),b.prototype._createMedia=function(){return null
},b.prototype._destroyMedia=function(){try{this._media.destroy()}catch(a){}},d(b.prototype,"loadable",{get:function(){return!0},enumerable:!0,configurable:!0}),d(b.prototype,"src",{get:function(){return this._src},set:function(a){if(this._src!==a){var b=this._src;this._readyState=1,this.stage&&(this._srcChanged=!0),this._media.src=this._src=a,this.notifyPropertyChange("src",b)}},enumerable:!0,configurable:!0}),b.prototype.load=function(a){this.src=a.src},d(b.prototype,"readyState",{get:function(){return this._readyState},enumerable:!0,configurable:!0}),b.prototype._onload=function(){var a=this._media.loaded;this._readyState=a>0?2:4,(this._autoplay||this._srcChanged)&&this._stage&&this.visible?this._media.resume():this._media.pause(),this.dispatchSimpleEvent("load")},d(b.prototype,"autoplay",{get:function(){return this._autoplay},set:function(a){this._autoplay!==a&&(this._autoplay=a,this.unwatch("visible",this._playWhenVisible,this),a&&(this.watch("visible",this._playWhenVisible,this),this._stage&&this._media.resume()))},enumerable:!0,configurable:!0}),b.prototype._playWhenVisible=function(){this._visible&&this._stage&&this._media.resume()},b.prototype._pauseWhenHidden=function(){this._visible||this._media.pause()},b.prototype.enter=function(b){a.prototype.enter.call(this,b),this._srcChanged=!1,this._autoplay&&this._visible&&(this._media.resume(),this._media.currentTime>=this._media.duration-.001&&(this._media.currentTime=0))},b.prototype.leave=function(){this._media&&this._media.pause(),a.prototype.leave.call(this)},b.prototype.destroy=function(){this._destroyMedia(),this._media=null,a.prototype.destroy.call(this)},b}(Le),Ne=function(a){function b(){a.call(this)}return Uc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.node.addClass("leo-comp--sound"),this.visible=!1,this.controlable=!1},b.prototype._createMedia=function(){return new Qh(null,this._dom)},d(b.prototype,"controlable",{get:function(){return this._media.controlable},set:function(a){this._media.controlable=a},enumerable:!0,configurable:!0}),d(b.prototype,"volume",{get:function(){return this._media.volume},set:function(a){this._media.volume=a},enumerable:!0,configurable:!0}),b.prototype.enter=function(b){a.prototype.enter.call(this,b),this._media.currentTime=0,this._media.volume=0},b}(Me);Ke.register("sound",Ne);var Oe=function(a){function e(){a.call(this)}return Uc(e,a),e.prototype.init=function(){var b=this;a.prototype.init.call(this),this.node.addClass("leo-comp--audio-player hi-action"),this.leo_audio=new Qh,this.container=this.node.el("div"),this.elTime(),this.elProgressBar(),this.elPlayPauseButton(),this.elVolumeIcon(),this.elVolumeBar(),setTimeout(function(){b.leo_audio.volume=.99,b.leo_audio.volume=1},1)},e.prototype.parseHandler=function(a){var c=this;return function(d){var e=d.button;if(!b.implementation.hasFeature("MouseEvents","2.0"))switch(event.button){case 0:case 1:case 3:case 5:case 7:e=0;break;case 2:case 6:e=2;break;case 4:e=1}!e&&c.leo_audio.duration&&a(d)}},e.prototype.formatTime=function(a){a=Math.round(a);var b=Math.floor(a/60),c=a%60;return(10>b?"0":"")+b+":"+(10>c?"0":"")+c},e.prototype.elTime=function(){this.time=this.container.el("div").addClass("time").text("00:00")[0]},e.prototype.updateTime=function(a){var b,d=this.progressBar,e=a.target,f=a.originalEvent,g=f.offsetX,h=g===c?f.layerX:g;if(e===d)b=h;else{if(!d.contains(e))return;b=e.offsetLeft+h}this.leo_audio.currentTime=b/Gd(d)*this.leo_audio.duration},e.prototype.unbindDocMove=function(){this.docMove&&(Rg(b,"mousemove",this.docMove),this.docMove=null)},e.prototype.unbindDocUp=function(){this.docUp&&(Rg(b,"mousemove",this.docUp),this.docUp=null)},e.prototype.updateVolume=function(a){var b,d=this.volumeBar,e=a.target,f=a.originalEvent,g=f.offsetX,h=g===c?f.layerX:g;if(e===d)b=h;else{if(!d.contains(e))return;b=e.offsetLeft+h}var i=b/Gd(d);(i>1||i!==i)&&(i=1),0>i&&(i=0),this.leo_audio.volume=i},e.prototype.elVolumeBar=function(){var a=this,d=this.container,e=d.el("div").addClass("volumebar bar");this.volumeBar=e[0];var f=e.el("div").addClass("fg"),g=e.el("div").addClass("cursor"),h=this.leo_audio.node;Og(h,"volumechange",function(){var a=h.muted?0:h.volume;f.style("width",100*a+"%"),g.style("left",a*(100*(1-wh(g[0],"width",!0)/wh(e[0],"width",!0))+2)-1+"%")}),e.bind("mousedown",function(c){a.unbindDocMove(),a.updateVolume(c),Og(b,"mousemove",a.docMove=function(b){a.updateVolume(b)}),a.unbindDocUp(),Vg(b,"mouseup",a.docUp=function(b){a.updateVolume(b),a.unbindDocMove()})});var i=this.parseHandler(function(a){var b=e[0];if(a.target===b||b.contains(a.target)){var d=a.originalEvent.offsetX;b.title=Math.round((d===c?a.originalEvent.layerX:d)/b.offsetWidth*100)+""}});e.bind("mouseover",i),e.bind("mousemove",i)},e.prototype.elProgressBar=function(){var a=this,d=this.container,e=d.el("div").addClass("progressbar bar"),f=e.el("div").addClass("bg"),g=e.el("div").addClass("fg"),h=e.el("div").addClass("cursor");this.progressBar=e[0];var i=this.leo_audio.node;Og(i,"progress",this.parseHandler(function(){f.style("width",i.buffered.end(0)/i.duration*100+"%")})),Og(i,"timeupdate",this.parseHandler(function(){var b=i.currentTime,c=b/i.duration;g.style("width",100*c+"%"),h.style("left",c*(100*(1-wh(h[0],"width",!0)/wh(e[0],"width",!0))+2)-1+"%"),a.time.innerHTML=a.formatTime(b)})),e.bind("mousedown",this.parseHandler(function(c){a.unbindDocMove(),a.updateTime(c),Og(b,"mousemove",a.docMove=a.parseHandler(function(b){a.updateTime(b)})),a.unbindDocUp(),Vg(b,"mouseup",a.docUp=a.parseHandler(function(b){a.updateTime(b),a.unbindDocMove()}))}));var j=this.parseHandler(function(b){var d=e[0];if(b.target===d||d.contains(b.target)){var f=b.originalEvent.offsetX;d.title=a.formatTime((f===c?b.originalEvent.layerX:f)/d.offsetWidth*a.leo_audio.duration)}});e.bind("mouseover",j),e.bind("mousemove",j)},e.prototype.elPlayPauseButton=function(){var a=this,b=this.container,c=b.el("div").addClass("playButton");c.el("div");var d=this.leo_audio.node,e=this.playPauseButton=c[0];Og(e,"mousedown",function(){d.paused?d.play():d.pause()}),Og(d,"playing",function(){ld(a.lt),e.className="pauseButton"}),Og(d,"pause",function(){ld(a.lt),e.className="playButton"}),Og(d,"waiting",function(){a.lt=kd(function(){e.className="loadButton"},100)})},e.prototype.elVolumeIcon=function(){var a=this.container,b=this.leo_audio.node,c=a.el("div").addClass("volumeIcon"),d=c.el("div").addClass("volume66");d.el("div"),d.el("div"),d.el("div"),d.el("div"),this.volumeIcon=c[0],c.bind("mousedown",function(){b.muted=!b.muted}),Og(b,"volumechange",function(){var a,c=b.volume;b.muted||0===c?a="volumeMute":c>=.66?a="volume66":c>=.33?a="volume33":c>0&&(a="volume"),d[0].className=a})},d(e.prototype,"autoPlay",{set:function(a){a?this.leo_audio.node.setAttribute("autoPlay","true"):this.leo_audio.node.removeAttribute("autoPlay")},enumerable:!0,configurable:!0}),d(e.prototype,"backgroundColor",{set:function(a){this.container.style("backgroundColor",a)},enumerable:!0,configurable:!0}),d(e.prototype,"src",{set:function(a){this.leo_audio.src=a},enumerable:!0,configurable:!0}),d(e.prototype,"playerType",{set:function(a){this._playerType=a,this.container.addClass(a),this.resize()},enumerable:!0,configurable:!0}),e.prototype.resize=function(){var a=this._playerType;if(a){var b,c=e.size[a].width,d=e.size[a].height,f=this.actualWidth,g=this.actualHeight;b=c/d>f/g?f/c:g/d,this.container.style({scaleX:b,scaleY:b})}},e.prototype._onActualWidthChange=function(){this.resize()},e.prototype._onActualHeightChange=function(){this.resize()},e.prototype.destroy=function(){a.prototype.destroy.call(this);var b=this.leo_audio;Sg(b.node),b.destroy(),this.leo_audio=null,this.unbindDocMove(),this.unbindDocUp(),ai(this.progressBar).unbindAll(),ai(this.volumeBar).unbindAll(),ai(this.volumeIcon).unbindAll(),Sg(this.playPauseButton),ld(this.lt)},e.size={"default":{width:400,height:30},mini:{width:62,height:30},simple:{width:200,height:60},classical:{width:400,height:32}},e}(Le);Je.register("soundplayer",null,{backgroundColor:"backgroundColor"}),Ke.register("soundplayer",Oe);var Pe=function(a){function b(){a.call(this),this._textContent="",this._bgColor="transparent",this._shadow="none",this._paddingLeft=0,this._paddingRight=0,this._paddingTop=0}return Uc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.node.addClass("leo-comp--txt"),this._contentEl=this.node.el("div").addClass("leo-comp--txt__content"),this._textFormat=new gi(this._contentEl,this),this._textFormat.deep=!0},d(b.prototype,"textContent",{get:function(){return this._textContent},set:function(a){if(this._textContent!==a){var b=this._textContent;this._contentEl.html(this._textContent=a,!0),this.notifyPropertyChange("textContent",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"textFormat",{get:function(){return this._textFormat},enumerable:!0,configurable:!0}),d(b.prototype,"bgColor",{get:function(){return this._bgColor},set:function(a){if(this._bgColor!==a){var b=this._bgColor;this._dom.style.backgroundColor=this._bgColor=a,this.notifyPropertyChange("bgColor",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"shadow",{get:function(){return this._shadow},set:function(a){var b=this._shadow;a!==b&&(zh(this._dom,"textShadow",this._shadow=a),this.notifyPropertyChange("shadow",b))},enumerable:!0,configurable:!0}),d(b.prototype,"paddingLeft",{get:function(){return this._paddingLeft},set:function(a){if(this._paddingLeft!==a){var b=this._paddingLeft;this._dom.style.paddingLeft=(this._paddingLeft=a)+"px",this.notifyPropertyChange("paddingLeft",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"paddingRight",{get:function(){return this._paddingRight},set:function(a){if(this._paddingRight!==a){var b=this._paddingRight;this._dom.style.paddingRight=(this._paddingRight=a)+"px",this.notifyPropertyChange("paddingRight",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"paddingTop",{get:function(){return this._paddingTop},set:function(a){if(this._paddingTop!==a){var b=this._paddingTop;this._dom.style.paddingTop=(this._paddingTop=a)+"px",this.notifyPropertyChange("paddingTop",b)}},enumerable:!0,configurable:!0}),b.prototype.destroy=function(){this._textFormat.destroy(),this._textFormat=null,a.prototype.destroy.call(this),this._contentEl=null},b.textType=2,b}(Le);Je.register("text",null,{backgroundColor:"bgColor",topMargin:"paddingTop",marginTop:"paddingTop",marginLeft:"paddingLeft",marginRight:"paddingRight"},function(a){return gi.compatProperty(a)}),Ke.register("text",Pe);var Qe=function(a){function b(){a.call(this),this._textContent="",this._state=0,this._bgColor="transparent",this._bgSrc="",this._bgImage=null,this._borderWidth=3,this._borderRadius=0,this._borderColor="rgb(0,0,0)"}return Uc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.node.addClass("leo-comp--btn"),this._textFormat=new fi(this._node,this),this._bindEvents()},b.prototype.createNode=function(){var a=bi("div");return this._button=a.el("button"),a},d(b.prototype,"textContent",{get:function(){return this._textContent},set:function(a){if(this._textContent!==a){var b=this._textContent;this._button.html(this._textContent=a),this.notifyPropertyChange("textContent",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"textFormat",{get:function(){return this._textFormat},enumerable:!0,configurable:!0}),d(b.prototype,"state",{get:function(){return this._state},set:function(a){a>=0&&2>=a&&this._state!==a&&this._updateColor(this._state=a)},enumerable:!0,configurable:!0}),b.prototype._updateColor=function(a){var b=this._button[0],c=He.toHSLAArray(this._bgColor);a&&(c[2]=Math.max(0,c[2]-10)),b.style.backgroundColor=He.stringifyHSLA(c),c=He.toHSLAArray(this._borderColor),a&&(c[2]=Math.max(0,c[2]-10)),b.style.borderColor=He.stringifyHSLA(c)},d(b.prototype,"bgColor",{get:function(){return this._bgColor},set:function(a){if(this._bgColor!==a){var b=this._bgColor;this._button[0].style.backgroundColor=this._bgColor=a,this.notifyPropertyChange("bgColor",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"bgSrc",{get:function(){return this._bgSrc},set:function(a){var b=this;if((!a||"none"===a||a.indexOf(".")<0&&"data/image"!==a.substr(0,10))&&(a=""),this._bgSrc!==a){var c=this._bgSrc;a?(this._bgImage||(this._bgImage=new Image),this._bgImage.onload=this._bgImage.onerror=function(){b._bgImage.onload=b._bgImage.onerror=null,b._button[0].style.backgroundImage=a.indexOf(".")>=0?"url("+a+")":a,b._node.addClass("leo-comp--btn__has-bg"),b.dispatchSimpleEvent("bgLoad")},this._bgImage.src=this._bgSrc=a):(this._bgImage&&(this._bgImage.onload=this._bgImage.onerror=null,this._bgImage.src=qd),this._button[0].style.backgroundImage="none",this._bgSrc=a,this._node.removeClass("leo-comp--btn__has-bg"),this.dispatchSimpleEvent("bgLoad")),this.notifyPropertyChange("bgSrc",c)}},enumerable:!0,configurable:!0}),d(b.prototype,"borderWidth",{get:function(){return this._borderWidth},set:function(a){if(this._borderWidth!==a){var b=this._borderWidth;this._button[0].style.borderWidth=(this._borderWidth=a)+"px",this.notifyPropertyChange("borderWidth",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"borderRadius",{get:function(){return this._borderRadius},set:function(a){if(this._borderRadius!==a){var b=this._borderRadius;this._borderRadius=a;var c=wf("borderRadius"),d=a+"px";Ah(this._button[0],c,d),Ah(this._dom,c,d),this.notifyPropertyChange("borderRadius",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"borderColor",{get:function(){return this._borderColor},set:function(a){if(this._borderColor!==a){var b=this._borderColor;this._button[0].style.borderColor=this._borderColor=a,this.notifyPropertyChange("borderColor",b)}},enumerable:!0,configurable:!0}),b.prototype._onActualWidthChange=function(){this._button[0].style.width=this.actualWidth+"px"},b.prototype._onActualHeightChange=function(){this._button[0].style.height=this.actualHeight+"px"},b.prototype._destroyBgImg=function(){this._bgImage&&(this._bgImage.onload=this._bgImage.onerror=null,this._bgImage.src=qd,this._bgImage=null)},b.prototype._bindEvents=function(){var a=this;this.addEventListener("mouseenter",function(){a.state=1},null),this.addEventListener("mouseleave",function(){a.state=0},null);var b=0;this.addEventListener("tapstart",function(){b=a._state,a.state=2},null),this.addEventListener("tapend",function(){2===a._state&&(a.state=2===b?0:b,b=0)},null),this.watch("visible",function(){a.state=0},null)},b.prototype.destroy=function(){this._destroyBgImg(),this._textFormat.destroy(),this._textFormat=null,this._button=null,a.prototype.destroy.call(this)},b.textType=1,b}(Le);Je.register("button",null,{backgroundColor:"bgColor",backgroundImage:"bgSrc",borderRadius:"borderRadius",borderWidth:"borderWidth",borderColor:"borderColor"},function(a){return fi.compatProperty(a)}),Ke.register("button",Qe);var Re=function(a){function b(){a.call(this),this._overflowMode="auto",this._perspective=null,this._children=[]}return Uc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this._node.addClass("leo-comp--container"),this._isSymbol=!1,this.mode3d=!0,this.backface=!1,this._initViewport()},d(b.prototype,"isSymbol",{get:function(){return this._isSymbol},enumerable:!0,configurable:!0}),b.prototype._asSymbol=function(){this._isSymbol=!0,this._resizeMode=1,this._transform.accelerate=!0},d(b.prototype,"overflowMode",{get:function(){return this._overflowMode},set:function(a){var b=this._overflowMode;b!==a&&(this._overflowMode=a,this._dom.style.overflow=a,this.notifyPropertyChange("overflowMode",b))},enumerable:!0,configurable:!0}),d(b.prototype,"mode3d",{get:function(){return this._mode3d},set:function(a){this._mode3d!==a&&(this._mode3d=a,Df&&zh(this._dom,"transformStyle",a?"preserve-3d":""),this.notifyPropertyChange("transformMode",!a))},enumerable:!0,configurable:!0}),d(b.prototype,"resizeMode",{get:function(){return this._resizeMode},set:function(a){this._isSymbol||ni.fatal("leo_DOMComponentContainer.resizeMode","only symbol can switch the resizeMode"),this._setResizeMode(a)},enumerable:!0,configurable:!0}),d(b.prototype,"perspective",{get:function(){return this._perspective},set:function(a){var b=this._perspective;b!==a&&(this._perspective=a,zh(this._dom,"perspective",null!=a?a+"px":""),this.notifyPropertyChange("perspective",b))},enumerable:!0,configurable:!0}),d(b.prototype,"viewport",{get:function(){return this._viewport},enumerable:!0,configurable:!0}),b.prototype._initViewport=function(){this._viewport=new sf(this,0,0,0,0)},b.prototype._onActualWidthChange=function(a){this._viewport._rect.width=a},b.prototype._onActualHeightChange=function(a){this._viewport._rect.height=a},b.prototype.getMeasuredBound=function(a){return a||(a=new Oh(0,0,0,0)),a=sf.getContentBound(this._children,a,!1),a.left-=this._viewport.left+this.anchorX*this.width,a.top-=this._viewport.top+this.anchorY*this.height,a},b.prototype.autofit=function(){var a=this._viewport,b=sf.getContentBound(this._children,Oh.identity,!1),c=b.left-a.left,d=b.top-a.top,e=(b.right-a.left,b.bottom-a.top,a.width),f=a.height;a.set(b.left,b.top,b.width,b.height);var g=this._transform.deferred;this._transform.deferred=!1,b.width&&(this.anchorX=(this.anchorX*e-c)/b.width),b.height&&(this.anchorY=(this.anchorY*f-d)/b.height),this._transform.deferred=g},b.prototype._updateChildrenDisplayPosition=function(){for(var a=this._children,b=this._viewport.left,c=this._viewport.top,d=-1,e=a.length;++d<e;){var f=a[d],g=f._transform.deferred;f._transform.deferred=!1,f.displayX=f.x-b,f.displayY=f.y-c,f._transform.deferred=g}},d(b.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),d(b.prototype,"size",{get:function(){return this._children.length},enumerable:!0,configurable:!0}),b.prototype.each=function(a){for(var b=this._children,c=-1,d=b.length;++c<d;){var e=b[c];e[c]&&a.call(e,c)}return this},b.prototype.append=function(a){var b=this._children.length;return this._doAddChild(a,a._parent===this?b-1:b)},b.prototype.insert=function(a,b){return this._doAddChild(a,b)},b.prototype._doAddChild=function(a,c,d){if(a===this)return-1;(0>c||c>this._children.length)&&ni.fatal("leo_DOMComponentContainer._doAddChild()","index %s is out of range [0, %s]",c,this._children.length);var e=a.parent;return e===this?(this.setChildIndex(a,c),c):(e&&e.remove(a),this._children.splice(c,0,a),a._setParent(this),a.zIndex=b.DEFAULT_ZINDEX+this._children.length,a.backface=this.backface,this._insertDOM(a._dom,c+1===this._children.length?null:this._children[c]._dom),this._updateDisplayPositionOf(a),this.dispatchSimpleEvent(Gh.CHILD_ADDED,c),this._stage&&!d&&(a.enter(this._stage),a.dispatchSimpleEvent(Gh.ENTER_STAGE)),c)},b.prototype._insertDOM=function(a,b){b?this._dom.insertBefore(a,b):this._dom.appendChild(a)},b.prototype._updateDisplayPositionOf=function(a){a.displayX=a.x-this._viewport.left,a.displayY=a.y-this._viewport.top},b.prototype.setChildIndex=function(a,c){var d=this._children,e=b.DEFAULT_ZINDEX,f=d.indexOf(a);if(0>f&&ni.fatal("leo_DOMComponentContainer._doSetChildIndex()","child is not in current container"),f!==c)if(d.splice(f,1),0>c||d.length<=c)d.push(a),a.zIndex=e+d.length;else{this._children.splice(c,0,a),a.zIndex=e+c+1;for(var g=d.length;++c<g;)a.zIndex=e+c+1}},b.prototype.remove=function(a){a._parent!==this&&ni.fatal("leo_DOMComponentContainer.remove()","child is not in current container");var b=this._children.indexOf(a);return b>=0?(this._doRemoveChild(b),b):void ni.fatal("leo_DOMComponentContainer.remove()","child is not in the children list")},b.prototype.removeAt=function(a){return a>=0&&a<this._children.length?this._doRemoveChild(a):void ni.fatal("leo_DOMComponentContainer.removeAt()","index %s is out of range [0, %s]",a,this._children.length-1)},b.prototype.removeAll=function(){for(var a=this._children,b=a.length;--b>=0;)this._doRemoveChild(b,!0)},b.prototype._doRemoveChild=function(a,c,d){var e=this._children,f=e[a],g=b.DEFAULT_ZINDEX;if(this.dispatchSimpleEvent(Gh.CHILD_REMOVED,a),f._stage&&!d&&(f.leave(),f.dispatchSimpleEvent(Gh.LEAVE_STAGE)),f._setParent(null),this._removeDOM(f._dom),e.splice(a--,1),!c)for(var h=e.length;++a<h;)e[a].zIndex=g+a+1;return f},b.prototype._removeDOM=function(a){this._dom.removeChild(a)},b.prototype.at=function(a){return a>=0&&a<this._children.length?this._children[a]:void ni.fatal("leo_DOMComponentContainer.at()","index %s is out of range [0, %s]",a,this._children.length-1)},b.prototype.indexOf=function(a){return a._parent!==this?-1:this._children.indexOf(a)},b.prototype.contains=function(a){for(;a;){if(a===this)return!0;a=a._parent}return!1},b.prototype.getChildByName=function(a){for(var b=this._children,c=0,d=b.length;d>c;++c){var e=b[c];if(e.name===a)return e}return null},b.prototype.replace=function(a,b){if(a>=0&&a<this._children.length){if(b._parent===this){if(a===this.indexOf(b))return b;var c=this.removeAt(a);return this.setChildIndex(b,a),c}var c=this.removeAt(a);return this.insert(b,a),c}ni.fatal("leo_DOMComponentContainer.replace()","index %s is out of range [0, %s]",a,this._children.length-1)},b.prototype.enter=function(b){a.prototype.enter.call(this,b);for(var c=this._children,d=Gh.ENTER_STAGE,e=-1,f=c.length;++e<f;){var g=c[e];g.enter(b),g.dispatchSimpleEvent(d)}},b.prototype.leave=function(){a.prototype.leave.call(this);for(var b=this._children,c=Gh.LEAVE_STAGE,d=-1,e=b.length;++d<e;){var f=b[d];f.leave(),f.dispatchSimpleEvent(c)}},b.prototype.destroy=function(){var b=this._children.concat();this.removeAll();for(var c=b.length;--c>=0;)b[c].destroy();a.prototype.destroy.call(this)},b.group=function(a,c,d){for(var e=d?b.createSymbol():new b,f=-1,g=a.length;++f<g;)e.append(a[f]);var h=sf.getContentBound(e._children,Oh.identity);return e._viewport.set(h.left,h.top,h.width,h.height),e.x=h.left,e.y=h.top,c&&c.append(e),e},b.ungroup=function(a){a._isSymbol&&ni.fatal("leo_DOMComponentContainer::ungroup()","Cannot ungroup a symbol");for(var b=a._children,c=a._parent,d=a.getBoundingRect(Oh.identity),e=d.left+a.x,f=d.top+a.y;b.length;){var g=b[0];g.x=g.displayX+e,g.y=g.displayY+f,a._doRemoveChild(0),c&&c.append(g)}c&&c.remove(a)},b.flatten=function(a){a._isSymbol&&ni.fatal("leo_DOMComponentContainer::flatten()","Cannot flatten a symbol");for(var c=a._children,d=a._parent,e=a.getBoundingRect(Oh.identity),f=e.left+a.x,g=e.top+a.y;c.length;){var h=c[0];h instanceof b&&!h._isSymbol?b.flatten(h):(h.x=h.displayX+f,h.y=h.displayY+g,a._doRemoveChild(0),d&&d.append(h))}d&&d.remove(a)},b.createSymbol=function(){var a=new b;return a._asSymbol(),a},b.convertToSymbol=function(a,c){return b.group(a,c,!0)},b.DEFAULT_ZINDEX=1,b}(Le);Ke.register("group",Re);var Se=function(a){function b(b){a.call(this),this.target=b,this.prevContext=null,this.components=new Te,this._variables={}}return Uc(b,a),b.prototype.getVariable=function(a){return this.containsOwnVariable(a)?this._variables[a]:this.prevContext&&this.prevContext.getVariable(a)},b.prototype.getInnerVariable=function(a){return this.getVariable("\x00"+a)},b.prototype.defineVariable=function(a,b){"object"!=typeof b||"function"!=typeof b.get&&"function"!=typeof b.set?this._variables[a]=b:d(this._variables,a,b)},b.prototype.getOwnVariable=function(a){return this._variables[a]},b.prototype.containsOwnVariable=function(a){return this._variables.hasOwnProperty(a)},b.prototype.containsVariable=function(a){return this.containsOwnVariable(a)||this.prevContext&&this.prevContext.containsVariable(a)},b.prototype.setVariable=function(a,b){return this._variables[a]=b},b.prototype.setInnerVariable=function(a,b){return this._variables["\x00"+a]=b},b.prototype.removeVariable=function(a){if(this.containsOwnVariable(a)){var b=this._variables[a];return delete this._variables[a],b}return c},b.prototype.destroy=function(){this.target=null,this._variables=null,this.prevContext=null,this.components=null},b.CONTEXT_UKEY="__context_val__",b}(Tc),Te=function(){function a(){this._map={},this._nameMap={}}return a.prototype.queryByGuid=function(a){return this._map[a]},a.prototype.queryByName=function(a){return this.queryByGuid(this._nameMap[a])},a.prototype.queryByElement=function(a){return this.queryByGuid(+a.getAttribute("data-guid"))},a.prototype.add=function(a){this._map[a.guid]||(this._map[a.guid]=a,this._nameMap[a.name]=a.guid)},a.prototype.updateName=function(a,b){this._nameMap[b]&&(delete this._nameMap[b],this._nameMap[a.name]=a.guid)},a.prototype.remove=function(a){this._map[a.guid]&&delete this._map[a.guid]},a}(),Ue=function(a){function b(){a.call(this)}return Uc(b,a),d(b.prototype,"url",{get:function(){return this._url},set:function(a){this._url!==a&&(this._url=a,a.indexOf("://")<0&&(a="http://"+a),this.iframe.attr("src",a))},enumerable:!0,configurable:!0}),b.prototype._onActualHeightChange=function(){this.iframe.attr("height",this._actualHeight)},b.prototype._onActualWidthChange=function(){this.iframe.attr("width",this._actualWidth)},b.prototype.createNode=function(){{var a=bi("div").addClass("leo-comp--embed-web");this.iframe=a.el("iframe").attr({webkitAllowFullScreen:!0,mozallowfullscreen:!0,allowFullScrren:!0,allowtransparency:!0})}return a},b}(Le);Ke.register("embedweb",Ue);var Ve=function(){function a(){}return a._hasEventListened=function(b,c){return!(!a._eventTable[b.guid]||!a._eventTable[b.guid].events[c])},a._addDelegateListener=function(b,c,d){var e=a._eventTable[b.guid];e||(e=a._eventTable[b.guid]={target:b,events:{}}),e.events[c]=!0,Og(b.dom,c,d?a.onProxy:a.onDelegate)},a.removeDelegateListeners=function(b,c){var d=a._eventTable[b.guid];if(d){var e=Rg,f=c?a.onProxy:a.onDelegate,g=b.dom,h=d.events;for(var i in h)e(g,i,f);d.target=null,d.events=null,delete a._eventTable[b.guid]}},a.flushDelegates=function(b){var c=a._cache[b.guid],d=b.stage,e=a._hasEventListened,f=a._addDelegateListener;if(c&&d){for(var g=(d.dom,-1),h=c.length;++g<h;){var i=c[g];e(d,i)||f(d,i)}delete a._cache[b.guid]}},a.removeDelegates=function(b){var c=a._cache[b.guid];c&&delete a._cache[b.guid],a.removeDelegateListeners(b,!0)},a.delegate=function(b,c){if(a.SELF_PROXY_MAP[c])return void this._addDelegateListener(b,c,!0);var d=b.stage;if(d)a._hasEventListened(d,c)||a._addDelegateListener(d,c);else{var e=a._cache[b.guid];e||(e=a._cache[b.guid]=[]),e.indexOf(c)<0&&e.push(c)}},a.onProxy=function(b){var c=a._eventTable[b.target.getAttribute("data-guid")];if(c){var d=c.target;d.stage&&d.DOMEventsEnabled&&d.dispatchEvent(b)}},a.onDelegate=function(a){var b=of.stages[a.currentTarget.getAttribute("data-guid")];if(b){var c=+a.target.getAttribute("data-guid");if(!c)for(var d=a.target.parentNode,e=a.currentTarget;!c&&d&&d!==e;)c=+d.getAttribute("data-guid"),d=d.parentNode;var f;c&&(f=b.context.components.queryByGuid(c))&&f.DOMEventsEnabled&&f.dispatchEvent(a)}else ni.fatal("leo_DOMEventDelegate.onDelegate()","Cannot find stage")},a._cache={},a._eventTable={},a.SELF_PROXY_MAP={mouseenter:!0,mouseleave:!0},a}(),We=function(a){function b(){a.call(this),this._color="#fff"}return Uc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.watch("visible",function(){this.visible?this._resumeAnimation():this._pauseAnimation()},this),this.node.addClass("leo-comp--hotspot")},b.prototype.createNode=function(){return bi("canvas")},b.prototype._onActualWidthChange=function(){var a=this.actualWidth;this.dom.width=a,this.dom.style.width=a+"px"},b.prototype._onActualHeightChange=function(){var a=this.actualHeight;this.dom.height=a,this.dom.style.height=a+"px"},d(b.prototype,"color",{get:function(){return this._color},set:function(a){this._color=a},enumerable:!0,configurable:!0}),b.prototype.updateCanvas=function(){var a=this;if(this.actualWidth&&this.actualHeight){var b=this.animation;b&&b.destroy(),b=this.animation=Xc.create(this,4e3,{onRender:function(b){var c=a._color,d=a.dom.getContext("2d"),e=a.actualWidth,f=a.actualHeight,g=Math.min(e,f)/7,h=e/2,i=f/2;d.clearRect(0,0,e,f),d.save(),d.fillStyle=c,d.beginPath(),d.arc(h,i,g,0,2*Math.PI,!1),d.fill(),d.beginPath(),d.arc(h,i,g+g*b*19/8,0,2*Math.PI,!1),d.lineWidth=g*b/4,d.globalAlpha=1-b,d.strokeStyle=c,d.stroke(),d.closePath(),d.restore()}},{repeat:999999,easing:"easeOutQuad"}),_c.getInstance().add(b),b.pause(),this.visible&&this._resumeAnimation()}},b.prototype.leave=function(){a.prototype.leave.call(this),this.animation&&(this.animation.destroy(),this.animation=null)},b.prototype.enter=function(b){a.prototype.enter.call(this,b),this.updateCanvas()},b.prototype._resumeAnimation=function(){this._stage&&this.animation&&this.animation.resume()},b.prototype._pauseAnimation=function(){this.animation&&this.animation.pause()},b}(Le);Je.register("hotspot",null,{hotSpotColor:"color"}),Ke.register("hotspot",We);var Xe=function(a){function b(){a.call(this),this._filter=null,this._loadingEl=null,this._changeSrcEnabled=!0,this.transitionConfig={name:"None",duration:0,easing:"easeInOutCubic"},this._isInTransition=!1,this._transition=null}return Uc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this._images=new Array(2),this._images[0]=this._createImage(),this.node.addClass("leo-comp--img")},d(b.prototype,"loadable",{get:function(){return!0},enumerable:!0,configurable:!0}),d(b.prototype,"filter",{get:function(){return this._filter?this._filter:this._filter=new uh(this._dom,this)},enumerable:!0,configurable:!0}),d(b.prototype,"src",{get:function(){return this._images[0].src},set:function(a){if(this._changeSrcEnabled&&this._images[0].src!==a){var b=this._images[0].src;this._load(a),this.notifyPropertyChange("src",b)}},enumerable:!0,configurable:!0}),b.prototype.load=function(a){this.src=a.src},d(b.prototype,"loadingEl",{get:function(){return this._loadingEl||(this._loadingEl=bi("i").addClass("leo-loading")),this._loadingEl},enumerable:!0,configurable:!0}),d(b.prototype,"image",{get:function(){return this._images[0].img},enumerable:!0,configurable:!0}),d(b.prototype,"naturalWidth",{get:function(){return this._images[0].width},enumerable:!0,configurable:!0}),d(b.prototype,"naturalHeight",{get:function(){return this._images[0].height},enumerable:!0,configurable:!0}),b.prototype._onActualWidthChange=function(){var a=this.actualWidth;this.image.style.width=a+"px"},b.prototype._onActualHeightChange=function(){var a=this.actualHeight;this.image.style.height=a+"px"},b.prototype._destroyImages=function(){this._stopTransition();for(var a=qd,b=this._images,c=-1,d=b.length;++c<d;){var e=b[c];e&&e.readyState<2&&(e.img.onload=e.img.onerror=null,e.src&&(e.src=a))}b.length=0,this._images=null},b.prototype.destroy=function(){a.prototype.destroy.call(this),this._filter&&(this._filter.destroy(),this._filter=null),this._loadingEl&&(ad.stopTweensOf(this._loadingEl[0]),this._loadingEl.remove(),this._loadingEl=null),this._destroyImages()},d(b.prototype,"readyState",{get:function(){return this._images[0].readyState},enumerable:!0,configurable:!0}),b.prototype._createImage=function(){return{src:"",img:this._node.el("img")[0],width:0,height:0,readyState:0}},b.prototype._load=function(a){a=a||qd;var b=this._images,c=b[0],d=b[1];d&&d.src===a?(c.readyState<2&&(c.img.onload=c.img.onerror=null),this._swapImages(),c=b[0],d=b[1],d.readyState>1?(this._onload(),this.dispatchSimpleEvent("load")):(c.img.style.display="",d.img.style.display="none",d.img.src=qd,d.src=null,d.readyState=0)):(c.readyState>1&&(this._swapImages(),c=b[0],d=b[1]),c.img.onload=c.img.onerror=null,c.width=c.height=0,c.src=a,c.readyState=1,this._startLoading())},b.prototype._startLoading=function(){var a=this,b=this._images[0];this.loadingEl[0].parentNode||this._loadingEl.appendTo(this._dom),this._visible&&this._stage?ad.to(this._loadingEl[0],200,{opacity:1,display:""}):(this._loadingEl[0].style.opacity="1",Nb(this._loadingEl[0])),b.img.onerror=b.img.onload=function(){b.readyState=2,a._onload(),a.dispatchSimpleEvent("load")},b.img.src=b.src},b.prototype._onload=function(){var a=this._images[0],b=a.img;b.onload=b.onerror=null,a.height=b.naturalHeight||b.height||0,a.width=b.naturalWidth||b.width||0,this._loadingEl&&(this._visible&&this._stage?ad.to(this._loadingEl[0],200,{opacity:0,display:"none"}).addEventListener("end",this._loadingEl.remove,this._loadingEl):(this._loadingEl.remove(),Ob(this._loadingEl[0]),this._loadingEl[0].style.opacity="0")),this._images[1]&&(this._stage&&this._visible?this._startTransition():b.style.display="")
},b.prototype._swapImages=function(){var a=this._images;a[1]||(a[1]=this._createImage(),a[1].img.style.display="none");var b=a[0];a[0]=a[1],a[1]=b;var c=this._transform.deferred;this._transform.deferred=!0,this._onActualWidthChange(),this._onActualHeightChange(),this._transform.deferred=c},b.prototype.leave=function(){this._stopTransition(),a.prototype.leave.call(this)},b.prototype._startTransition=function(){var a=this._images[0],b=this._images[1];this._isInTransition&&this._stopTransition(),this._isInTransition=!0;var c=this.transitionConfig;this._transition=Wc.transition(b.img,a.img,c.name,c.duration,c),this._transition.addEventListener("end",this._stopTransition,this)},b.prototype._stopTransition=function(){null!=this._transition&&(this._transition.removeEventListener("end",this._stopTransition,this),this._transition.currentTotalTime=this._transition.totalDuration,this._transition=null,this._isInTransition=!1)},b}(Le);Je.register("image",null,null,function(a){return uh.KEYWORDS[a]?"filter."+a:null}),Ke.register("image",Xe);var Ye=function(a){function b(){a.call(this),this._state=0,this._colors=["rgba(0,0,0,0)","rgba(0,0,0,0)","rgba(0,0,0,0)"]}return Uc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.node.addClass("leo-comp--link"),this._bindEvents()},d(b.prototype,"state",{get:function(){return this._state},set:function(a){a>=0&&2>=a&&this._state!==a&&this._updateColor(this._state=a)},enumerable:!0,configurable:!0}),d(b.prototype,"defaultColor",{get:function(){return this._colors[0]},set:function(a){this._colors[0]!==a&&(this._colors[0]=a,this._updateColor(0))},enumerable:!0,configurable:!0}),d(b.prototype,"hoverColor",{get:function(){return this._colors[1]},set:function(a){this._colors[1]!==a&&(this._colors[1]=a,this._updateColor(1))},enumerable:!0,configurable:!0}),d(b.prototype,"activeColor",{get:function(){return this._colors[2]},set:function(a){this._colors[2]!==a&&(this._colors[2]=a,this._updateColor(2))},enumerable:!0,configurable:!0}),b.prototype._updateColor=function(a){this._state===a&&(this._dom.style.backgroundColor=this._colors[a])},b.prototype._bindEvents=function(){var a=this;this.addEventListener("mouseenter",function(){a.state=1},null),this.addEventListener("mouseleave",function(){a.state=0},null);var b=0;this.addEventListener("tapstart",function(){b=a._state,a.state=2},null),this.addEventListener("tapend",function(){2===a._state&&(a.state=2===b?0:b,b=0)},null),this.watch("visible",function(){a.state=0},null)},b.prototype.enter=function(b){this.state=0,a.prototype.enter.call(this,b)},b}(Le);Je.register("link",null,{linkNormalColor:"defaultColor",linkOverColor:"hoverColor",linkDownColor:"activeColor",shadow:"!"}),Ke.register("link",Ye);var Ze=function(a){function b(){a.call(this)}return Uc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.node.addClass("leo-comp--paypalbuy")},b.prototype._onActualWidthChange=function(){a.prototype._onActualWidthChange.call(this),this._button.style({paddingLeft:.25*this.actualWidth})},b}(Qe);Ke.register("paypalbuy",Ze,"button");var $e=function(a){function b(){a.call(this),this._textContent="",this._bgSrc="",this.animation=null}return Uc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this._textFormat=new fi(this._node,this),this.watch("textFormat.size",function(){this.span.style({fontSize:this._textFormat.size/2+"px"})},this),this.watch("visible",function(){this._visible?this._resumeZoom():this._pauseZoom()},this),this.node.addClass("leo-comp--paypaldiscount")},d(b.prototype,"textFormat",{get:function(){return this._textFormat},enumerable:!0,configurable:!0}),b.prototype._onActualHeightChange=function(){this.div.style({lineHeight:this.actualHeight+"px"})},b.prototype.createNode=function(){var a=this,b=bi("div").bind("mouseover",function(){a.node.style({scaleX:1.05,scaleY:1.05})}).bind("mouseout",function(){a.node.style({scaleX:1,scaleY:1})});return this.img=b.el("img"),this.div=b.el("div"),this.span=this.div.el("span").html("OFF"),b},d(b.prototype,"textContent",{get:function(){return this._textContent},set:function(a){this.div.text(a+"%").append(this.span),this._textContent=a},enumerable:!0,configurable:!0}),d(b.prototype,"bgSrc",{get:function(){return this._bgSrc},set:function(a){this.img.attr("src",a)},enumerable:!0,configurable:!0}),b.prototype.leave=function(){a.prototype.leave.call(this),this.animation&&(this.animation.destroy(),this.animation=null)},b.prototype.enter=function(b){a.prototype.enter.call(this,b),this.animation=this._createZoom(),this._resumeZoom()},b.prototype._createZoom=function(){var a=Wc.getAnimation(this.img[0],"Zoom",4e3,{repeat:999999,scale:.05});return a.pause(),_c.getInstance().add(a),a},b.prototype._resumeZoom=function(){this._stage&&this.animation&&this.visible&&this.animation.resume()},b.prototype._pauseZoom=function(){this.animation&&this.animation.pause()},b.prototype.destroy=function(){a.prototype.destroy.call(this),this._textFormat.destroy(),this._textFormat=null},b}(Le);Je.register("paypaldiscount",null,{backgroundImage:"bgSrc"},function(a){return fi.compatProperty(a)}),Ke.register("paypaldiscount",$e);var _e=function(a){function c(){a.call(this),this.sup=bi("sup"),this._textContent="",this._price="",this._bgSrc="",this.animation=null}return Uc(c,a),c.prototype.init=function(){a.prototype.init.call(this),this._textFormat=new fi(this.node,this),this.watch("textFormat.size",function(){this.content.style({fontSize:3*this._textFormat.size/10+"px"}),this.sup.style({fontSize:Math.floor(4*this._textFormat.size/7)+"px"})},this),this.watch("visible",function(){this._visible?this._resumeRotate():this._pauseRotate()},this),this.node.addClass("leo-comp--paypalprice")},d(c.prototype,"textFormat",{get:function(){return this._textFormat},enumerable:!0,configurable:!0}),c.prototype._onActualHeightChange=function(){var a=this.actualHeight;this.div.style({paddingTop:~~(.23*a+.5)+"px"}),this.content.style({height:~~(.15*a+.5),lineHeight:~~(.15*a+.5)+"px"}),this.DOMPrice.style({lineHeight:~~(.2*a+.5)+"px"})},c.prototype.createNode=function(){var a=this,b=bi("div").style({textAlign:"center"}).bind("mouseover",function(){a.node.style({scaleX:1.1,scaleY:1.1})}).bind("mouseout",function(){a.node.style({scaleX:1,scaleY:1})});return this.img=b.el("img"),this.div=b.el("div"),this.content=this.div.el("div"),this.DOMPrice=this.div.el("div"),b},d(c.prototype,"textContent",{get:function(){return this._textContent},set:function(a){this.content.text(a),this._textContent=a},enumerable:!0,configurable:!0}),d(c.prototype,"price",{get:function(){return this._price},set:function(a){this._price=a||this._price;var c=a.substring(0,a.length-1).split("."),d=c[1]||"";this.DOMPrice.text(c[0]),d&&this.sup.html(d).appendTo(this.DOMPrice),this.DOMPrice.append(b.createTextNode(a.substring(a.length-1)))},enumerable:!0,configurable:!0}),d(c.prototype,"bgSrc",{get:function(){return this._bgSrc},set:function(a){this.img.attr("src",a)},enumerable:!0,configurable:!0}),c.prototype.leave=function(){a.prototype.leave.call(this),this.animation&&(this.animation.destroy(),this.animation=null)},c.prototype.enter=function(b){a.prototype.enter.call(this,b),this.animation=this._createRotate(),this._resumeRotate()},c.prototype._createRotate=function(){var a=Wc.getAnimation(this.img[0],"Rotate",4e4,{repeat:999999});return a.pause(),_c.getInstance().add(a),a},c.prototype._resumeRotate=function(){this._stage&&this.animation&&this.visible&&this.animation.resume()},c.prototype._pauseRotate=function(){this.animation&&this.animation.pause()},c.prototype.destroy=function(){a.prototype.destroy.call(this),this._textFormat.destroy(),this._textFormat=null},c}(Le);Je.register("paypalprice",null,{backgroundImage:"bgSrc"},function(a){return fi.compatProperty(a)}),Ke.register("paypalprice",_e);var af=function(a){function b(){a.call(this),this.hotSize=78,this.li=function(){{var a=bi("div").addClass("ppproduct--li hi-action");a.el("img")}return a}(),this.urlArray=[]}return Uc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.node.addClass("leo-comp--paypalproductbox")},b.prototype.liHeight=function(){return Math.round(.2*this.actualHeight)},b.prototype._onActualWidthChange=function(){var a=Math.min(this.hotSize,Math.min(this.actualWidth,this.actualHeight)/2);this.hot.style({width:a,height:a}),this.centerThumbnail()},b.prototype._onActualHeightChange=function(){var a=Math.min(this.hotSize,Math.min(this.actualWidth,this.actualHeight)/2);this.hot.style({width:a,height:a});var b=this.liHeight(),c=Math.round(.05*b);this.li.style({width:b,padding:c}),Gb(this.ul.select(".ppproduct--li"),function(a){Bh(a,{width:b,padding:c})}),this.centerThumbnail()},b.prototype.centerThumbnail=function(){var a=this.actualWidth,b=this.urlArray.length*(this.liHeight()+10)-10;this.ul.style("tx",a>b?(a-b)/2:0)},d(b.prototype,"hotSrc",{set:function(a){var b=this;this.hot.bind("load",function(){Nb(b.hot[0])}),this.hot.bind("error",function(){Ob(b.hot[0])}),this.hot.attr("src",a)},enumerable:!0,configurable:!0}),d(b.prototype,"borderColor",{set:function(a){this.slideContainer.style("borderColor",a)},enumerable:!0,configurable:!0}),d(b.prototype,"boxShadow",{set:function(a){this.slideContainer.style("boxShadow",a)},enumerable:!0,configurable:!0}),d(b.prototype,"padding",{set:function(a){this.slideContainer.style("padding",a)},enumerable:!0,configurable:!0}),d(b.prototype,"paddingColor",{set:function(a){this.slideContainer.style("backgroundColor",a)},enumerable:!0,configurable:!0}),d(b.prototype,"urls",{set:function(a){var b=this;this.urlArray=(a||"").split(";");var c,d,e=this.urlArray.length;1!==e?(c=Nb,d=100*this.slideHeight+"%",this.ul.html(""),Gb(this.urlArray,function(a,c){{var d=b.li.clone().bind("click",function(){b.skipTo(c,d)});d.select("img").attr("src",a)}b.ul.append(d)}),this.centerThumbnail()):(c=Ob,d="100%"),c(this.thumbnailContainer[0]),this.slideContainer.style("height",d),this.imgWrap.html(""),this.skipTo(0,this.ul.select(".ppproduct--li:first-child"))},enumerable:!0,configurable:!0}),b.prototype.skipTo=function(a,b){function c(){Ob(this.loading[0])}var d=this,e=this.ul.select(".active");if(!(e.length>0&&e[0]===b[0])){Nb(this.loading[0]);var f=this.imgWrap.select(".active").removeClass("active"),g=this.imgWrap.el("img").bind("load",function(){c.call(d)}).bind("error",function(){c.call(d)}).attr("src",this.urlArray[a]).addClass("active");if(f[0]){var h=Wc.getTransition(f[0],g[0],Object.keys(Wc._transitionFactories)[Math.floor(Object.keys(Wc._transitionFactories).length*Math.random())],500);h.addEventListener("end",function(){f.remove()},this),_c.getInstance().add(h)}e.removeClass("active"),b.addClass("active");var i=this.width,j=10,k=this.liHeight()+j,l=0,m=i-this.urlArray.length*k+j,n=(-a+1)*k,o=i-(a+2)*k+j,p=parseInt(this.ul.style("tx"),10);n>l&&(n=l),m>o&&(o=m),n>p&&(p=n),p>o&&(p=o),this.ul.style("tx",p)}},b.prototype.createNode=function(){var a=bi("div");return this.hot=a.el("img"),this.slideContainer=a.el("div").addClass("ppproduct--slide"),this.imgWrap=this.slideContainer.el("div"),this.loading=this.slideContainer.el("i").addClass("leo-loading"),this.thumbnailContainer=a.el("div").addClass("ppproduct--thumbnail"),this.ul=this.thumbnailContainer.el("div"),a},b}(Le);Je.register("paypalproductbox",null,{backgroundImage:"hotSrc",borderColor:"borderColor",frameWidth:"padding",frameColor:"paddingColor",shadow:"!"}),Ke.register("paypalproductbox",af);var bf=function(a){function b(){a.call(this),this._readyState=0,this._rate=5}return Uc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.watch("visible",function(){this.visible?this._resumeAnimation():this._pauseAnimation()},this),this.node.addClass("leo-comp--paypalstar")},d(b.prototype,"maxrate",{get:function(){return 5},enumerable:!0,configurable:!0}),b.prototype._onActualWidthChange=function(){var a=this.actualWidth;this.canvas.width=a,this.canvas.style.width=a+"px",this.updateCanvas()},b.prototype._onActualHeightChange=function(){var a=this.actualHeight;this.canvas.height=a,this.canvas.style.height=a+"px",this.updateCanvas()},d(b.prototype,"loadable",{get:function(){return!0},enumerable:!0,configurable:!0}),d(b.prototype,"readyState",{get:function(){return this._readyState},enumerable:!0,configurable:!0}),b.prototype.updateStar=function(){var a,b=this.node.select("img"),c=this.maxrate,d=this.rate;if(this.star_url)for(;c--;){var a=b[c];a.src=c>=d?this.gray_star_url:this.star_url}},b.prototype.onload=function(){this._readyState=2,this.dispatchSimpleEvent("load"),this.updateStar(),this.updateCanvas()},b.prototype.updateCanvas=function(){if(2===this.readyState){var a=this.canvas,b=a.cloneNode(!1).getContext("2d");if(b){for(var c=this.maxrate,d=a.width,e=a.height;c--;)b.drawImage(this.img,c*d/5,0,d/5,e);var f=Math.round(.5*d),g=a.cloneNode(!1).getContext("2d"),h=g.createLinearGradient(0,0,f,0);h.addColorStop(0,"rgba(255,255,255,0)"),h.addColorStop(.1,"rgba(255,255,255,.1)"),h.addColorStop(.5,"rgba(255,255,255,.7)"),h.addColorStop(.9,"rgba(255,255,255,.1)"),h.addColorStop(1,"rgba(255,255,255,0)"),g.save(),g.fillStyle=h,g.rotate(15*Math.PI/180),g.translate(Math.atan(15*Math.PI/180)*e,0),g.fillRect(0,-f,f,e+2*f),g.restore(),this.animation&&this.animation.destroy();var i=a.getContext("2d");this.animation=Xc.create(this,4e3,{onRender:function(a){i.clearRect(0,0,d,e),i.globalCompositeOperation="source-over",i.drawImage(g.canvas,(5*a-1)*d,0),i.globalCompositeOperation="destination-in",i.drawImage(b.canvas,0,0)}},{repeat:999999}),this.animation.pause(),_c.getInstance().add(this.animation),this._resumeAnimation()}}},d(b.prototype,"src",{set:function(a){var b=a.split(";");this.star_url=b[0],this.gray_star_url=b[1]},enumerable:!0,configurable:!0}),b.prototype.load=function(){var a=this,b=new Image,c=new Image,d=!1,e=!1;this._readyState=1,b.onload=function(){b.onload=b.onerror=null,d=!0,d&&e&&a.onload(b)},c.onload=function(){c.onload=c.onerror=null,e=!0,d&&e&&a.onload(c)},b.onerror=c.onerror=function(){a._readyState=4,a.dispatchSimpleEvent("load")},b.src=this.star_url,c.src=this.gray_star_url,this.img=b},d(b.prototype,"rate",{get:function(){return this._rate},set:function(a){var b=this.maxrate;a=Math.min(a,b),a=Math.max(a,0),this._rate=a,this.updateStar()},enumerable:!0,configurable:!0}),b.prototype.createNode=function(){var b=a.prototype.createNode.call(this),c=bi("img"),d=this.maxrate,e=c[0],f=0;do b.append(e),e=e.cloneNode(!1);while(++f<d);var g=bi("canvas").appendTo(b);return this.canvas=g[0],b},b.prototype.leave=function(){a.prototype.leave.call(this),this.animation&&(this.animation.destroy(),this.animation=null)},b.prototype.enter=function(b){a.prototype.enter.call(this,b),this.updateCanvas()},b.prototype._resumeAnimation=function(){this._stage&&this.animation&&this.visible&&this.animation.resume()},b.prototype._pauseAnimation=function(){this.animation&&this.animation.pause()},b}(Le);Ke.register("paypalstar",bf);var cf=function(a){function b(){a.call(this),this.context=new Se(this),this.transitionConfig={name:"None",duration:500,easing:"easeInOutCubic"}}return Uc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this._asSymbol(),this._node.addClass("leo-comp--scene")},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.context.destroy(),this.context=null},b.prototype.enter=function(b){a.prototype.enter.call(this,b)},b.prototype.leave=function(){a.prototype.leave.call(this)},b}(Re);Ke.register("scene",cf);var df=function(a){function b(){a.call(this),this._interval=3e3,this._duration=350,this._autoPlay=!1}return Uc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.node.addClass("hi-action")},b.prototype.next=function(){},d(b.prototype,"interval",{set:function(a){this._interval=a},enumerable:!0,configurable:!0}),d(b.prototype,"duration",{set:function(a){this._duration=a},enumerable:!0,configurable:!0}),b.prototype.timeoutHandler=function(){var a=this;this.next(),clearTimeout(this.timeout),this.timeout=setTimeout(function(){a.timeoutHandler()},this._interval+this._duration)},d(b.prototype,"autoPlay",{get:function(){return this._autoPlay},set:function(a){var b=this;a!==this._autoPlay&&(this._autoPlay=a,clearTimeout(this.timeout),a&&(this.timeout=setTimeout(function(){b.timeoutHandler()},this._interval+this._duration)))},enumerable:!0,configurable:!0}),b.prototype.destroy=function(){clearTimeout(this.timeout),a.prototype.destroy.call(this)},d(b.prototype,"borderWidth",{set:function(a){this.dom.style.borderWidth=a+"px"},enumerable:!0,configurable:!0}),d(b.prototype,"borderColor",{set:function(a){this.dom.style.borderColor=a},enumerable:!0,configurable:!0}),d(b.prototype,"shadow",{set:function(a){Bh(this.dom,"box-shadow",a)},enumerable:!0,configurable:!0}),b}(Le);Je.register("slidecontrol",null,{borderColor:"borderColor",borderWidth:"borderWidth",shadow:"shadow"}),Ke.register("slidecontrol",df);var ef=function(a){function c(){a.call(this),this._rotate=1.6,this._stack=5,this.__zIndex=9999999,this.currentIndex=0,this.removeData=[]}return Uc(c,a),c.prototype.enter=function(c){a.prototype.enter.call(this,c);var d=this._urls,e=d&&d.length,f=this._stack,g=this._rotate;if(e){for(var h=this._style=Lg("style"),i="transform: rotate("+(f-1)*g+"deg);",j=".slide-stack-"+this.__leo_guid__+"{-webkit-"+i+"-moz-"+i+"-ms-"+i+"-o-"+i+i+"}",k=0;f>k;)i="transform: rotate("+(f>k?k:f)*g+"deg);",j+=".slide-stack-"+this.__leo_guid__+":nth-child("+(k+1)+"){-webkit-"+i+"-moz-"+i+"-ms-"+i+"-o-"+i+i+";}",k++;h.innerHTML=j,b.head.appendChild(h)}},d(c.prototype,"rotate",{set:function(a){this._rotate=a},enumerable:!0,configurable:!0}),d(c.prototype,"url",{set:function(a){var b=this;this.URLString=a,this._urls=a.split(";"),this.initStack(),Og(this.dom,"tap",this.tap=function(a){a.stopPropagation(),b.next()})},enumerable:!0,configurable:!0}),d(c.prototype,"stack",{set:function(a){this._stack=a,this.initStack()},enumerable:!0,configurable:!0}),c.prototype.newPage=function(a){var b=bi("div").addClass("slide-stack-"+this.__leo_guid__).style("zIndex",this.__zIndex--),c=b.el("i").addClass("leo-loading"),d=b.el("img")[0],a=this.currentIndex+1,e=this._urls.length;return 0>a&&(a=e-1),a>=e&&(a=0),this.node.append(b),d.onload=d.onerror=function(){d.onload=d.onerror=null,c.remove()},d.src=this._urls[a]||"",this.currentIndex=a,b[0]},c.prototype.initStack=function(){var a=this._urls&&this._urls.length,b=this._stack;if(a&&b){var c=0;this.node.html("").addClass("leo-comp--slide-stack stack-"+this.__leo_guid__);for(var d=this.stackArray=[];b>c;)d.push(this.newPage(c++))}},c.prototype.next=function(){var a=this,b=this.stackArray,c=b.shift();b.push(this.newPage(this.currentIndex+1)),Bh(c,{left:"100%",opacity:0}),this.removeData.push(c),clearTimeout(this.removeTimeout),this.removeTimeout=setTimeout(function(){for(var b=0,c=a.removeData,d=c.length,e=a.dom;b++<d;)e.removeChild(c.pop())},this._duration)},c.prototype.destroy=function(){a.prototype.destroy.call(this),this.stackArray=null,this.removeData=null;var c=b.head;this._style&&(c.removeChild(this._style),this._style=null),this._width_style&&(c.removeChild(this._width_style),this._width_style=null),this._color_style&&(c.removeChild(this._color_style),this._color_style=null),this._shadow_style&&(c.removeChild(this._shadow_style),this._shadow_style=null),this._origin_style&&(c.removeChild(this._origin_style),this._origin_style=null),this._duration_style&&(c.removeChild(this._duration_style),this._duration_style=null)},d(c.prototype,"borderWidth",{set:function(a){this._width_style=ai(b.head).el("style").html(".stack-"+this.__leo_guid__+" div{border-width:"+a+"px}")[0]},enumerable:!0,configurable:!0}),d(c.prototype,"borderColor",{set:function(a){this._color_style=ai(b.head).el("style").html(".stack-"+this.__leo_guid__+" div{border-color:"+a+"}")[0]},enumerable:!0,configurable:!0}),d(c.prototype,"shadow",{set:function(a){a="box-shadow:"+a+";",this._shadow_style=ai(b.head).el("style").html(".stack-"+this.__leo_guid__+" div{-webkit-"+a+"-moz-"+a+"-ms-"+a+"-o-"+a+a+"}")[0]},enumerable:!0,configurable:!0}),d(c.prototype,"origin",{set:function(a){a="transform-origin:"+a+";",this._origin_style=ai(b.head).el("style").html(".stack-"+this.__leo_guid__+" div{-webkit-"+a+"-moz-"+a+"-ms-"+a+"-o-"+a+a+"}")[0]},enumerable:!0,configurable:!0}),d(c.prototype,"duration",{set:function(a){a="transition-duration:"+a+"ms;",this._duration_style=ai(b.head).el("style").html(".stack-"+this.__leo_guid__+" div{-webkit-"+a+"-moz-"+a+"-ms-"+a+"-o-"+a+a+"}")[0]},enumerable:!0,configurable:!0}),c}(df);Je.register("album","slidecontrol"),Ke.register("album",ef);var ff=function(a){function e(){a.call(this),this.li=function(){var a=bi("div").addClass("slide-li");return a.el("img"),a}(),this.urlArray=[],this.mouseup=function(){},this.mousemove=function(){},this._autoPlay=!1,this._interval=2500,this._playPause=!1,this._controls=!1}return Uc(e,a),e.prototype._onActualWidthChange=function(){var a=this.actualWidth;this.ul.style("tx",-a),this.ul.children().style("width",a),this.li.style("width",a),this.setButtonSize(),this.addSlideEvents()},e.prototype._onActualHeightChange=function(){this.setButtonSize()},e.prototype.setButtonSize=function(){var a=".slide-",b=Math.min(35,Math.ceil(.15*Math.min(this.actualHeight,this.actualWidth)));this.node.select(a+"play,"+a+"pause").style({width:b,height:b,marginLeft:-b/2}),this.node.select(a+"prev").style({width:b,height:b,marginLeft:5*-b/2}),this.node.select(a+"next").style({width:b,height:b,marginLeft:1.5*b})},d(e.prototype,"url",{set:function(a){var b=this;this.URLString=a;var c=this.urlArray=(a||"").split(";"),d=[c[c.length-1]].concat(c);d.push(c[0]),this.ul.html("").style("tx",-this.actualWidth),Gb(d,function(a){var c=b.li.clone().style("width",b.actualWidth),d=c.el("i").addClass("leo-loading"),e=c.select("img")[0];e.onload=e.onerror=function(){this.onload=this.onerror=null,Bh(this,"opacity",1),d.remove(),d=null},e.src=a,b.ul.append(c)}),this.addSlideEvents()},enumerable:!0,configurable:!0}),e.prototype.prevNext=function(a,b){var c,d,e=this.slideAnimation,f=this.urlArray.length,g=this.ul,h=parseInt(g.style("tx"),10),i=this.actualWidth;e&&e.destroy(),e=Xc.create(g,250,{easing:"easeInOutQuad"}),"boolean"!=typeof a?(d=h%i,c=Math.abs(d)>i/2?Math.floor(h/i)*i:h-d):(d=Math.floor(h/i),c=b?(a?d:d+1)*i:(a?d-1:d+(h%i===0?1:2))*i),e.onRender=function(a){var b=h+(c-h)*a;(f+1)*-i>=b&&(b=-i),b>=0&&(b=-f*i),g.style("tx",b)};var j=this.autoPlayAnimation;j&&!j.paused&&(j.pause(),e.addEventListener("end",function(){j.resume()},this)),_c.getInstance().add(e),this.slideAnimation=e},e.prototype.createNode=function(){var a=bi("div").addClass("leo-comp--slide hi-action");return this.ul=a.el("div").addClass("slide-ul"),this.imgCover=a.el("div").addClass("drag-cover"),a},d(e.prototype,"tagName",{get:function(){return"dslide"},enumerable:!0,configurable:!0}),e.prototype.addSlideEvents=function(){function a(a){var b=a.pageX,c=i+b-h;(g+1)*-f>=c&&(c=-f),c>=0&&(c=-g*f),k.style("tx",c)}function d(b){if(l.unbind("mousemove",a),h!==c&&null!==h){var d,g=b.pageX-h,i=f/2,k=(new Date).getTime()-j;150>k&&Math.abs(g)/k>.2&&(d=g>0?!1:!0),g>i&&(d=!1),-i>g&&(d=!0),e.prevNext(d,!0),h=null}}var e=this,f=this.actualWidth,g=this.urlArray.length;if(0!==f){var h,i,j,k=(this.imgCover,this.ul),l=ai(b);l.unbind("mouseup",this.mouseup),l.unbind("mousemove",this.mousemove),this.imgCover.unbindAll(),this.imgCover.bind("mousedown",function(b){b.preventDefault(),e.slideAnimation&&e.slideAnimation.destroy(),h=b.pageX,j=(new Date).getTime(),i=parseInt(k.style("tx"),10),l.bind("mousemove",a)}),l.bind("mouseup",d),this.mouseup=d,this.mousemove=a}},e.prototype.destroy=function(){this.imgCover.unbindAll(),ai(b).unbind("mouseup",this.mouseup),this.node.select(".control").unbindAll(),this.slideAnimation&&this.slideAnimation.destroy(),this.autoPlayAnimation&&this.autoPlayAnimation.destroy(),a.prototype.destroy.call(this)},d(e.prototype,"autoPlay",{set:function(a){var b=this;if("boolean"==typeof a&&this._autoPlay!==a)if(this._autoPlay=a,this.playPause(),a){var c=Xc.create(this.ul,0,null,{repeat:999999,repeatDelay:this._interval});c.onRender=function(){b.prevNext(!0)},_c.getInstance().add(c),this.autoPlayAnimation=c}else this.autoPlayAnimation&&this.autoPlayAnimation.destroy(),this.autoPlayAnimation=null},enumerable:!0,configurable:!0}),d(e.prototype,"interval",{set:function(a){this._interval=a,this.autoPlayAnimation&&(this.autoPlayAnimation.repeatDelay=a)},enumerable:!0,configurable:!0}),e.prototype.next=function(){this.prevNext(!0)},e.prototype.prev=function(){this.prevNext(!1)},e.prototype.playPause=function(){this._playPause=!this._playPause;var a=this.autoPlayAnimation;return this.slideAnimation&&this.slideAnimation.removeAllEventListeners("end"),this.playPauseButton&&(this.playPauseButton[0].className="slide-"+(this._playPause?"play":"pause")+" slide-control"),a?void a[this._playPause?"pause":"resume"]():void(this.autoPlay=!0)},d(e.prototype,"controls",{set:function(a){var b=this;if(this._controls!==a&&"boolean"==typeof a){this._controls=a;var c="slide-",d=this.node;if(a){var e={mousedown:function(){Bh(this,"backgroundColor","rgba(60,60,60,.3)")},mouseout:function(){Bh(this,"backgroundColor","rgba(0,0,0,.5)")},tap:function(a){b[a.currentTarget.getAttribute("data-action")]()}},f=this.playPauseButton=d.el("div").bind(e).attr("data-action","playPause");f[0].className=c+"play "+c+"control  hi-action",f.el("i");var g=f.clone().attr("data-action","prev").bind(e);g[0].className=c+"prev "+c+"control  hi-action",d.append(g);var h=f.clone().attr("data-action","next").bind(e);h[0].className=c+"next "+c+"control  hi-action",d.append(h),this.setButtonSize()}else d.select(".control").remove()}},enumerable:!0,configurable:!0}),d(e.prototype,"borderWidth",{set:function(a){this.node[0].style.borderWidth=a+"px"},enumerable:!0,configurable:!0}),d(e.prototype,"borderColor",{set:function(a){this.node[0].style.borderColor=a},enumerable:!0,configurable:!0}),e}(Le);Je.register("slide",null,{backgroundImage:"src",borderColor:"borderColor",borderWidth:"borderWidth"}),Ke.register("slide",ff);var gf=function(a){function e(){a.call(this),this.skipTimeline=null,this.originAutoPlay=!1,this.stopped=!1,this._borderWidth=0,this._borderColor="#000"}return Uc(e,a),e.prototype.newPage=function(a){var b=this.node.prepend(bi("div").addClass("leo-comp--slide-page")).style({borderColor:this._borderColor,borderWidth:this._borderWidth}),c=b.el("i").addClass("leo-loading"),d=b.el("img")[0];return d.onload=d.onerror=function(){d.onload=d.onerror=null,c.remove()},d.src=this.urls[a]||"",b[0]},d(e.prototype,"url",{set:function(a){this.URLString=a,this.node.html("").addClass("leo-comp--slide-vertical");var b=this.urls=a.split(";");b.length>1&&this.addTouchEvent(),this.curDiv=this.newPage(0),this.currentIndex=0},enumerable:!0,configurable:!0}),e.prototype.createData=function(){var a=this.currentIndex,b=this.urls.length-1;this.prevDiv||(Bh(this.prevDiv=this.newPage(0===a?b:a-1),{zIndex:2,top:"-100%"}),Bh(this.nextDiv=this.newPage(a===b?0:a+1),{zIndex:2,top:"100%"}))},e.prototype.mousemove=function(a,b){if(b>=0)var c=this.prevDiv,d=-1,e="100";else c=this.nextDiv,d=1,e="0";var f=this.height,g=1+.8*d*(b/f);c.style.top=d*f+b+"px",Bh(this.curDiv,{scaleX:g,scaleY:g,transformOrigin:"50% "+e+"%"})},e.prototype.mouseup=function(a,b){var c=.25*this._actualHeight;b>=c?this.prev():b>=0&&this.reverse(!1),-c>=b?this.next():0>=b&&this.reverse(!0)},e.prototype.prev=function(){this.skip(this.currentIndex-1,!1)},e.prototype.next=function(){this.skip(this.currentIndex+1,!0)},e.prototype.reverse=function(a){var b=this.skipTimeline=Yc.create(),c=ad.create(a?this.nextDiv:this.prevDiv,300);c.apply({top:(a?"":"-")+"100%"}),b.add(c),c=ad.create(this.curDiv,300),c.apply({scaleX:1,scaleY:1}),b.add(c),_c.getInstance().add(b)},e.prototype.stopAutoPlay=function(){this.stopped=!0,(this.autoPlay=!0)&&(this.originAutoPlay=!0),this.autoPlay=!1},e.prototype.reverseAutoPlay=function(){this.stopped=!1,this.autoPlay=this.originAutoPlay},e.prototype.addTouchEvent=function(){var a,c,d=this,e=b,f=this.doc_move=function(b){b.preventDefault(),d.mousemove(b.pageX-a,b.pageY-c)},g=this.doc_up=function(b){b.preventDefault(),Rg(e,"tapmove",f),d.mouseup(b.pageX-a,b.pageY-c)};Og(this.dom,"tapstart",this.node_down=function(b){b.preventDefault(),d.stopAutoPlay();var h=d.skipTimeline;null!==h&&h.stop(!0,!0),a=b.pageX,c=b.pageY,d.createData(),Og(e,"tapmove",f),Vg(e,"tapend",g)})},e.prototype.skip=function(a,b){var d=this,e=this.currentIndex,f=this.urls.length;if(0>a&&(a=f-1),a>=f&&(a=0),e!==a){b===c&&(b=a>=0&&e>a?!1:!0),this.prevDiv||this.createData(),this.stopped===!1&&this.stopAutoPlay();var g=this.skipTimeline=Yc.create();g.add(ad.to(this.curDiv,300,{scaleX:.1,scaleY:.1})),g.add(ad.to(b?this.nextDiv:this.prevDiv,300,{top:0})),g.addEventListener("end",function(){d.reverseAutoPlay(),d.removeData(b),g.destroy(),d.skipTimeline=null},this),_c.getInstance().add(g),this.currentIndex=a}},e.prototype.removeData=function(a){ai(this.curDiv).remove(),this.prevDiv&&this.nextDiv&&(ai(a?this.prevDiv:this.nextDiv).remove(),(this.curDiv=a?this.nextDiv:this.prevDiv).style.zIndex="1",this.prevDiv=null,this.nextDiv=null)},e.prototype.destroy=function(){this.curDiv=null,this.prevDiv=null,this.nextDiv=null;var c=Rg,d=b;this.urls.length>1&&(c(this.dom,"tapstart",this.node_down),this.node_down=null),c(d,"tapmove",this.doc_move),this.doc_move=null,c(d,"tapend",this.doc_up),this.doc_up=null,a.prototype.destroy.call(this)},d(e.prototype,"borderWidth",{set:function(a){this._borderWidth=a;var b=this.curDiv;b&&(b.style.borderWidth=a+"px")},enumerable:!0,configurable:!0}),d(e.prototype,"borderColor",{set:function(a){this._borderColor=a;var b=this.curDiv;b&&(b.style.borderColor=a)},enumerable:!0,configurable:!0}),e}(df);Je.register("dragslide","slidecontrol"),Ke.register("dragslide",gf);var hf=function(a){function b(){a.call(this),this.flipAnimation=null}return Uc(b,a),b.prototype.newPage=function(a){var b=this.node.prepend(bi("div").addClass("leo-comp--slide-page")[0]),c=b.el("i").addClass("leo-loading"),d=b.el("img")[0];return d.onload=d.onerror=function(){d.onload=d.onerror=null,c.remove()},d.src=this.urls[a]||"",b[0]},d(b.prototype,"url",{set:function(a){var b=this;this.URLString=a,this.node.html("").addClass("leo-comp--fade-slide");var c=this.urls=a.split(";");c.length>1&&this.node.bind("tap",this.node_tap=function(){b.next()}),this.curDiv=this.newPage(0),this.currentIndex=0},enumerable:!0,configurable:!0}),b.prototype.next=function(){var a=this.currentIndex,b=this.urls.length,c=a+1;c>=b&&(c=0);var d=this.newPage(c),e=this.flipAnimation;null!==e&&e.stop(!0,!0),e=this.flipAnimation=ad.to(this.curDiv,this._duration,{opacity:0}),e.addEventListener("end",function(){e.destroy(),this.flipAnimation=null,ai(this.curDiv).remove(),this.curDiv=d},this),_c.getInstance().add(e),this.currentIndex=c},b.prototype.destroy=function(){this.curDiv=null,this.urls.length>1&&Rg(this.dom,"tap",this.node_tap),a.prototype.destroy.call(this)},b}(df);Je.register("fadeslide","slidecontrol"),Ke.register("fadeslide",hf);var jf=function(a){function b(){a.call(this),this.flipAnimation=null,this._borderWidth=0,this._borderColor="#000",this._shadow="none"}return Uc(b,a),b.prototype.newPage=function(a){var b=ai(this.container).prepend(bi("div").addClass("leo-comp--slide-page-"+a)[0]).style({borderColor:this._borderColor,borderWidth:this._borderWidth,boxShadow:this._shadow}),c=b.el("i").addClass("leo-loading"),d=b.el("img")[0];return d.onload=d.onerror=function(){d.onload=d.onerror=null,c.remove()},d.src=this.urls[a]||"",b[0]},d(b.prototype,"url",{set:function(a){var b=this;this.URLString=a;var d=this.container,e=this.node;d===c?this.container=e.addClass("leo-comp--flip-slide").el("div").addClass("leo-comp--flip-stage").el("div").addClass("leo-comp--flip-container")[0]:d.innerHTML="";this.urls=a.split(";");e.bind("tap",this.node_tap=function(){b.next()}),this.curDiv=this.newPage(0),this.currentIndex=0},enumerable:!0,configurable:!0}),b.prototype.next=function(){var a=this.currentIndex,b=this.urls.length,c=a+1;
c>=b&&(c=0);var d=this.newPage(c);Bh(d,"rotationY",180);var e=this.flipAnimation,f=this._duration;null!==e&&e.stop(!0,!0),e=this.flipAnimation=Yc.create(),e.add(ad.to(this.container,f,{rotationY:180*(a>c?-1:1)})),e.add(ad.to(this.container,f/2,{tz:-200},{yoyo:!0,repeat:1})),e.addEventListener("end",function(){e.destroy(),this.flipAnimation=null,ai(this.curDiv).remove(),Bh(d,"rotationY",0),Bh(this.container,{rotationY:0,tz:0}),this.curDiv=d},this),_c.getInstance().add(e),this.currentIndex=c},b.prototype.destroy=function(){this.curDiv=null,Rg(this.dom,"tap",this.node_tap),a.prototype.destroy.call(this)},d(b.prototype,"borderWidth",{set:function(a){this._borderWidth=a;var b=this.curDiv;b&&(b.style.borderWidth=a+"px")},enumerable:!0,configurable:!0}),d(b.prototype,"borderColor",{set:function(a){this._borderColor=a;var b=this.curDiv;b&&(b.style.borderColor=a)},enumerable:!0,configurable:!0}),d(b.prototype,"shadow",{set:function(a){this._shadow=a;var b=this.curDiv;b&&Bh(b,"boxShadow",a)},enumerable:!0,configurable:!0}),b}(df);Je.register("flipslide","slidecontrol"),Ke.register("flipslide",jf);var kf=function(b){function c(){b.call(this),this.animationStop=!1,this._duration=1500,this.raf=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame||function(a){setTimeout(a,1e3/60)},this._interval=15e3,this._autoplay=!0,this.node.addClass("leo-comp--zoom-slide"),this.watch("visible",this.changeVisible,this)}return Uc(c,b),c.prototype.changeVisible=function(){var a=this;clearTimeout(this.timeout),this.visible?(this.animationStop=!1,this.lastTime=0,this.timeout=setTimeout(function(){a.start()},50)):this.animationStop=!0},c.prototype.newPage=function(a){var b=this,c=this.img;c&&(c.onload=c.onerror=null);var d=~~(2*Math.random()),e=this._interval/1e3,f=this._duration/1e3*2/(1+Math.sqrt(5)),g=this.node.append(bi("div").addClass("page origin"+(~~(9*Math.random())+1)).style({transition:"all "+(e+f)+"s linear",transform:"scale("+((d?1*e/15:0)+1)+")"}));return c=this.img=g.el("img").addClass("page-img").style("transition","all "+f+"s linear")[0],clearTimeout(this.__timeout),c.onload=c.onerror=function(){c.onload=c.onerror=null,b.__timeout=setTimeout(function(){c.style.opacity="1",g.style("transform","scale("+((d?0:1*e/15)+1)+")"),g=null,c=null},50)},c.src=this.urls[a]||"",g[0]},d(c.prototype,"url",{set:function(a){var b=this;this.URLString=a,this.node.html("");var c=this.urls=a.split(";");c.length>1&&this.node.bind("tap",this.node_tap=function(){b.next()}),this.currentIndex=0,this.changeVisible()},enumerable:!0,configurable:!0}),c.prototype.start=function(){var b=this,c=(new Date).getTime();c-this.lastTime>this._interval&&this.next(),!this.animationStop&&this._autoplay&&this.raf.apply(a,[function(){b.start()}])},c.prototype.next=function(){this.lastTime=(new Date).getTime(),this.node.select(".removable").remove(),this.curDiv&&(this.curDiv.className+=" removable"),this.currentIndex>=this.urls.length&&(this.currentIndex=0),this.curDiv=this.newPage(this.currentIndex++)},d(c.prototype,"interval",{set:function(a){this._interval=a},enumerable:!0,configurable:!0}),d(c.prototype,"autoplay",{set:function(a){this._autoplay=a},enumerable:!0,configurable:!0}),c.prototype.destroy=function(){b.prototype.destroy.call(this),clearTimeout(this.timeout),clearTimeout(this.__timeout),this.img.onload=this.img.onerror=null,this.curDiv=null,this.img=null,this.node_tap=null},d(c.prototype,"borderWidth",{set:function(a){this.dom.style.borderWidth=a+"px"},enumerable:!0,configurable:!0}),d(c.prototype,"borderColor",{set:function(a){this.dom.style.borderColor=a},enumerable:!0,configurable:!0}),d(c.prototype,"shadow",{set:function(a){Bh(this.dom,"box-shadow",a)},enumerable:!0,configurable:!0}),c}(Le);Je.register("zoomslide",null,{borderColor:"borderColor",borderWidth:"borderWidth",shadow:"shadow"}),Ke.register("zoomslide",kf);var lf=function(a){function b(){a.call(this),this._deferred=!1,this._dirty=!1,this._spotWidth=0,this._spotHeight=0,this._spotX=0,this._spotY=0}return Uc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.node.addClass("leo-comp--spotlight"),this._context=this.dom.getContext("2d"),this._transform.accelerate=!0,this.watch("visible",function(){this.visible&&this._dirty&&this.render()},this)},d(b.prototype,"deferredRender",{get:function(){return this._deferred},set:function(a){this._deferred=a,!a&&this._dirty&&this.visible&&this.render()},enumerable:!0,configurable:!0}),b.prototype._setDirty=function(){this._dirty||(this._dirty=!0,this.visible&&!this._deferred&&this.render())},b.prototype.createNode=function(){return bi("canvas")},b.prototype._onActualWidthChange=function(){var a=this.actualWidth;this.dom.width=a,this.dom.style.width=a+"px",this._setDirty()},b.prototype._onActualHeightChange=function(){var a=this.actualHeight;this.dom.height=a,this.dom.style.height=a+"px",this._setDirty()},d(b.prototype,"spotWidth",{get:function(){return this._spotWidth},set:function(a){this._spotWidth!==a&&(this._spotWidth=a,this._setDirty())},enumerable:!0,configurable:!0}),d(b.prototype,"spotHeight",{get:function(){return this._spotHeight},set:function(a){this._spotHeight!==a&&(this._spotHeight=a,this._setDirty())},enumerable:!0,configurable:!0}),d(b.prototype,"spotX",{get:function(){return this._spotX},set:function(a){this._spotX!==a&&(this._spotX=a,this._setDirty())},enumerable:!0,configurable:!0}),d(b.prototype,"spotY",{get:function(){return this._spotY},set:function(a){this._spotY!==a&&(this._spotY=a,this._setDirty())},enumerable:!0,configurable:!0}),b.prototype.enter=function(b){a.prototype.enter.call(this,b),b.watch("actualWidth",this._onStageWidthChange,this),b.watch("actualHeight",this._onStageHeightChange,this),this.actualWidth=b.actualWidth,this.actualHeight=b.actualHeight,this.zIndex=10*b.context.getVariable("maxZIndex"),this.render()},b.prototype.leave=function(){this.stage.unwatch("actualWidth",this._onStageWidthChange,this),this.stage.unwatch("actualHeight",this._onStageHeightChange,this),a.prototype.leave.call(this)},b.prototype.render=function(a){if(a||this.visible&&this._dirty){this._dirty=!1;var b=this.actualWidth,c=this.actualHeight,d=this.spotWidth,e=this.spotHeight,f=this._context,g=Math.max(d,e)/2,h=this.spotX+d/2,i=this.spotY+e/2,j=this.getMaxRadius(h,i,b,c);f.clearRect(0,0,b,c);var k=f.createRadialGradient(h,i,0,h,i,j),l=Math.min(g/j,1);k.addColorStop(0,"transparent"),k.addColorStop(l,"transparent"),k.addColorStop(Math.min(1,(g+20)/j),"#000"),f.fillStyle=k,f.fillRect(0,0,b,c)}},b.prototype._onStageWidthChange=function(a){this.actualWidth=a},b.prototype._onStageHeightChange=function(a){this.actualHeight=a},b.prototype.getMaxRadius=function(a,b,c,d){return Math.sqrt(Math.max(a*a+b*b,(a-c)*(a-c)+b*b,a*a+(b-d)*(b-d),(a-c)*(a-c)+(b-d)*(b-d)))},b}(Le);Je.register("stagelight",null,{width:"spotWidth",height:"spotHeight",left:"spotX",top:"spotY",rotate:"!",shadow:"!"}),Ke.register("stagelight",lf);var mf=function(a){function b(){a.call(this),this.actionConfigs=null,this._filter=null,this._readyState=0,this.initialActionName=null}return Uc(b,a),b.prototype.init=function(){var b=this;a.prototype.init.call(this),this.node.addClass("leo-comp--sprite"),this.resizeMode=1,this._sprite=new ei(this.dom),this._sprite.onload=function(){b._onload()},this._sprite.onSizeChange=function(a,c){b._onSpriteSizeChange(a,c)}},d(b.prototype,"sprite",{get:function(){return this._sprite},enumerable:!0,configurable:!0}),d(b.prototype,"filter",{get:function(){return this._filter?this._filter:this._filter=new uh(this._sprite.element,this)},enumerable:!0,configurable:!0}),d(b.prototype,"loadable",{get:function(){return!0},enumerable:!0,configurable:!0}),d(b.prototype,"srcset",{get:function(){return this._sprite.srcset},set:function(a){this._sprite.srcset=a,this._readyState=this._sprite.loaded?this._readyState:1},enumerable:!0,configurable:!0}),d(b.prototype,"frames",{get:function(){return this._sprite.frames},set:function(a){this._sprite.frames=a},enumerable:!0,configurable:!0}),d(b.prototype,"actions",{get:function(){return this._sprite.actions},set:function(a){this._sprite.actions=a},enumerable:!0,configurable:!0}),d(b.prototype,"currentActionName",{get:function(){return this._sprite.currentActionName},set:function(a){this._sprite.currentActionName=a},enumerable:!0,configurable:!0}),d(b.prototype,"currentActionIndex",{get:function(){return this._sprite.currentActionIndex},set:function(a){this._sprite.currentActionIndex=a},enumerable:!0,configurable:!0}),b.prototype.load=function(a){this.srcset=a.srcset},d(b.prototype,"readyState",{get:function(){return this._readyState},enumerable:!0,configurable:!0}),b.prototype._onload=function(){this._readyState=this._sprite.loaded>0?2:4,this.dispatchSimpleEvent("load")},b.prototype._onSpriteSizeChange=function(a,b){this.actualWidth=a,this.actualHeight=b},b.prototype.enter=function(b){a.prototype.enter.call(this,b),this._sprite.currentActionName=this.initialActionName,this._sprite.currentActionIndex=0},b.prototype.destroy=function(){this._filter&&(this._filter.destroy(),this._filter=null),this._sprite.destroy(),this._sprite=null,a.prototype.destroy.call(this)},b}(Le),nf=function(a){function b(){a.call(this),this.spriteLoaded=!1,this.soundsLoaded=!1,this.append(this.spriteComponent=new mf),this.node.addClass("leo-comp--sprite-container"),this.spriteComponent.addEventListener("load",function(){this.spriteLoaded=!0,this.__onload()},this)}return Uc(b,a),b.prototype._onActualWidthChange=function(){this.spriteComponent.width=this._actualWidth},b.prototype._onActualHeightChange=function(){this.spriteComponent.height=this._actualHeight},d(b.prototype,"filter",{get:function(){return this.spriteComponent.filter},enumerable:!0,configurable:!0}),d(b.prototype,"actionConfigs",{get:function(){return this.spriteComponent.actionConfigs},set:function(a){this.spriteComponent.actionConfigs=a},enumerable:!0,configurable:!0}),d(b.prototype,"sprite",{get:function(){return this.spriteComponent.sprite},enumerable:!0,configurable:!0}),d(b.prototype,"srcset",{get:function(){return this.spriteComponent.srcset},set:function(a){this.spriteComponent.srcset=a},enumerable:!0,configurable:!0}),d(b.prototype,"frames",{get:function(){return this.spriteComponent.frames},set:function(a){this.spriteComponent.frames=a},enumerable:!0,configurable:!0}),d(b.prototype,"initialActionName",{get:function(){return this.spriteComponent.initialActionName},set:function(a){this.spriteComponent.initialActionName=a},enumerable:!0,configurable:!0}),d(b.prototype,"actions",{get:function(){return this.spriteComponent.actions},set:function(a){this.spriteComponent.actions=a},enumerable:!0,configurable:!0}),d(b.prototype,"currentActionName",{get:function(){return this.spriteComponent.currentActionName},set:function(a){this.spriteComponent.currentActionName=a},enumerable:!0,configurable:!0}),d(b.prototype,"currentActionIndex",{get:function(){return this.spriteComponent.currentActionIndex},set:function(a){this.spriteComponent.currentActionIndex=a},enumerable:!0,configurable:!0}),b.prototype.load=function(a){this.spriteComponent.load(a)},d(b.prototype,"readyState",{get:function(){return this.spriteComponent.readyState},enumerable:!0,configurable:!0}),d(b.prototype,"loadable",{get:function(){return!0},enumerable:!0,configurable:!0}),b.prototype.__onload=function(){this.soundsLoaded&&this.spriteLoaded&&this.dispatchSimpleEvent("load")},d(b.prototype,"soundURLs",{set:function(a){var b=this,c=a.length;if(0===c)return b.soundsLoaded=!0,void b.__onload();for(var d=0;c>d;d++){var e=new Qh(a[d]);e.onload=function(){c--,this.onload=null,0===c&&(b.soundsLoaded=!0,b.__onload())}}},enumerable:!0,configurable:!0}),d(b.prototype,"spriteScaleX",{get:function(){return this.spriteComponent.transform.scaleX},set:function(a){this.spriteComponent.transform.scaleX=a},enumerable:!0,configurable:!0}),d(b.prototype,"spriteScaleY",{get:function(){return this.spriteComponent.transform.scaleY},set:function(a){this.spriteComponent.transform.scaleY=a},enumerable:!0,configurable:!0}),b}(Re);Je.register("sprite",null,{scaleX:"spriteScaleX",scaleY:"spriteScaleY"},function(a){return uh.KEYWORDS[a]?"filter."+a:null}),Ke.register("sprite",nf);var of=function(a){function b(){a.call(this),this.rootContext=new pf(this),this._context=this.rootContext,this._prevScene=null,this._currentScene=null,this.fastTransition=!0,this.transitionConfig={enter:{name:"Show",duration:0,easing:"easeInQuad"},leave:{name:"Hide",duration:0,easing:"easeOutQuad"}},this.isInTransition=!1,this._transition=null}return Uc(b,a),d(b.prototype,"context",{get:function(){return this._context},set:function(a){this._context!==a&&(null==a&&(a=this.rootContext),a!==this.rootContext&&(a.prevContext=this.rootContext),this._context=a)},enumerable:!0,configurable:!0}),b.prototype.addScene=function(a){return a.visible=!1,this._doAddChild(a,this._children.length,!0)},b.prototype.removeScene=function(a){var b=this;if(this._currentScene===a){this.currentScene=null;var c=function(){b.removeEventListener("transitionend",c,null),b.remove(a)};this.addEventListener("transitionend",c,null)}else this.remove(a)},d(b.prototype,"currentScene",{get:function(){return this._currentScene},set:function(a){if(this._currentScene!==a){var b=this._currentScene;this._setScene(a)&&this.notifyPropertyChange("currentScene",b)}},enumerable:!0,configurable:!0}),b.prototype._setScene=function(a){if(this.isInTransition){if(!this.fastTransition)return!1;this.stopTransition()}return a&&!this.contains(a)&&this.addScene(a),this._prevScene=this._currentScene,this._currentScene=a,this._startTransition(),!0},b.prototype._startTransition=function(){var a=this._currentScene,b=this._prevScene;if(a&&b){this.enterScene(a);var c=a.transitionConfig;this._transition=Wc.transition(b,a,c.name,c.duration,c)}else if(a||b){var d=a,c=this.transitionConfig.enter;b?(d=b,c=this.transitionConfig.leave):this.enterScene(a),this._transition=Wc.animate(d,c.name,c.duration,c)}this._transition&&(this.isInTransition=!0,this._transition.addEventListener("end",this.stopTransition,this),this.dispatchSimpleEvent("transitionStart"))},b.prototype.stopTransition=function(){null!=this._transition&&(this._transition.removeEventListener("end",this.stopTransition,this),this._transition.currentTotalTime=this._transition.totalDuration,this._transition=null,this.isInTransition=!1,this._prevScene&&(this.leaveScene(this._prevScene),this._prevScene=null),this.dispatchSimpleEvent("transitionEnd",this._currentScene))},b.prototype.enterScene=function(a){return this.contains(a)&&(this.context=a.context,a.enter(this),a.dispatchSimpleEvent(Gh.ENTER_STAGE)),this},b.prototype.leaveScene=function(a){if(this.contains(a)){var b=this.context;this.context=a.context,a.leave(),this.context=b,a.dispatchSimpleEvent(Gh.LEAVE_STAGE)}return this},b.prototype.init=function(){a.prototype.init.call(this),this._asSymbol(),this._node.addClass("leo-comp--stage"),this.perspective=b.DEFAULT_PERSPECTIVE,b.stages[this.guid]=this},b.prototype.leave=function(){this.stopTransition(),this.context=null,a.prototype.leave.call(this)},b.prototype.destroy=function(){Ve.removeDelegateListeners(this),this.stopTransition(),a.prototype.destroy.call(this),this.context=null,this.rootContext.destroy(),this.rootContext=null,delete b.stages[this.guid]},b.stages={},b.DEFAULT_PERSPECTIVE=500,b}(Re);Ke.register("stage",of);var pf=function(a){function b(b){var c=this;a.call(this,b),this.controller=null,this.defineVariable("maxZIndex",{get:function(){var a=c.target.currentScene,b=0;if(a)for(var d=a.children,e=-1,f=d.length;++e<f;){var g=d[e].zIndex;g>b&&(b=g)}return b+1},set:td})}return Uc(b,a),b}(Se),qf=function(c){function e(){c.call(this),this._transparent=!1,this._screenType="users",this._theme="white",this.widgetsReady=!1,a.twttr=function(b,c,d){var e,f=b.getElementsByTagName(c)[0],g=a.twttr||{};if(!b.getElementById(d))return e=b.createElement(c),e.id=d,e.src="https://platform.twitter.com/widgets.js",f.parentNode.insertBefore(e,f),g._e=[],g.ready=function(a){g._e.push(a)},g}(b,"script","twitter-wjs")}return Uc(e,c),e.prototype.loadWidgets=function(){if(this.widgetsReady){var b=this.node.text("").el("a").addClass("twitter-timeline").attr({width:this.actualWidth,height:this.actualHeight,href:"https://twitter.com/qinrockets","data-widget-id":"557818402547712000","data-chrome":"noscrollbar"+(this._transparent?" transparent":""),"data-theme":this._theme});"collections"===this._screenType?b.attr("custom-timeline-id",this._customTimelineID):"list"===this._screenType?b.attr({"data-list-owner-screen-name":this._screenName,"data-list-slug":this._listSlug}):"favorites"===this._screenType?b.attr("data-favorites-screen-name",this._screenName):b.attr("data-screen-name",this._screenName),a.twttr.ready(function(){a.twttr.widgets.load()})}},d(e.prototype,"transparent",{get:function(){return this._transparent},set:function(a){this._transparent=a,this.loadWidgets()},enumerable:!0,configurable:!0}),d(e.prototype,"screenName",{get:function(){return this._screenName},set:function(a){this._screenName=a,this.loadWidgets()},enumerable:!0,configurable:!0}),d(e.prototype,"screenType",{get:function(){return this._screenType},set:function(a){this._screenType=a,this.loadWidgets()},enumerable:!0,configurable:!0}),d(e.prototype,"theme",{get:function(){return this._theme},set:function(a){this._theme=a,this.loadWidgets()},enumerable:!0,configurable:!0}),d(e.prototype,"customTimelineID",{get:function(){return this._customTimelineID},set:function(a){this._customTimelineID=a,this.loadWidgets()},enumerable:!0,configurable:!0}),d(e.prototype,"listSlug",{get:function(){return this._listSlug},set:function(a){this._listSlug=a,this.loadWidgets()},enumerable:!0,configurable:!0}),e.prototype._onActualWidthChange=function(){this.loadWidgets()},e.prototype._onActualHeightChange=function(){this.loadWidgets()},e.prototype.enter=function(a){c.prototype.enter.call(this,a),this.widgetsReady=!0,this.loadWidgets()},e}(Le);Ke.register("twittertimeline",qf);var rf=function(a){function b(){a.call(this)}return Uc(b,a),b.prototype._createMedia=function(){return new Sh(null,this._dom)},d(b.prototype,"controlable",{get:function(){return this._media.controlable},set:function(a){this._media.controlable=a},enumerable:!0,configurable:!0}),b}(Me);Ke.register("html5-video",rf);var sf=function(a){function b(b,c,d,e,f){a.call(this),this._rect=new Oh(c,d,e,f),this._container=b}return Uc(b,a),d(b.prototype,"rect",{get:function(){return this._rect.clone()},enumerable:!0,configurable:!0}),d(b.prototype,"container",{get:function(){return this._container},enumerable:!0,configurable:!0}),d(b.prototype,"left",{get:function(){return this._rect.x},set:function(a){this._rect.x!==a&&(this._rect.x=a,this._container._updateChildrenDisplayPosition())},enumerable:!0,configurable:!0}),d(b.prototype,"top",{get:function(){return this._rect.y},set:function(a){this._rect.y!==a&&(this._rect.y=a,this._container._updateChildrenDisplayPosition())},enumerable:!0,configurable:!0}),d(b.prototype,"width",{get:function(){return this._rect.width},set:function(a){this._rect.width!==a&&(this._rect.width=a,this._container.actualWidth=a)},enumerable:!0,configurable:!0}),d(b.prototype,"height",{get:function(){return this._rect.height},set:function(a){this._rect.height!==a&&(this._rect.height=a,this._container.actualHeight=a)},enumerable:!0,configurable:!0}),d(b.prototype,"right",{get:function(){return this._rect.right},set:function(a){this._rect.right!==a&&(this.width=a-this._rect.left)},enumerable:!0,configurable:!0}),d(b.prototype,"bottom",{get:function(){return this._rect.bottom},set:function(a){this._rect.bottom!==a&&(this.height=a-this._rect.top)},enumerable:!0,configurable:!0}),b.prototype.set=function(a,b,c,d){var e=!1;this._rect.x!==a&&(this._rect.x=a,e=!0),this._rect.y!==b&&(this._rect.y=b,e=!0),this.width=c,this.height=d,e&&this._container._updateChildrenDisplayPosition()},b.getContentBound=function(a,b,c){if(b||(b=new Oh(0,0,0,0)),!a.length)return b.set(0,0,0,0);var d=Oh.identity,e=a[0],f=e.getTransformBound(null,d,c);f.left+=e.x,f.top+=e.y;for(var g=f.left,h=f.top,i=f.right,j=f.bottom,k=0,l=a.length;++k<l;){e=a[k],f=e.getTransformBound(null,d),f.left+=e.x,f.top+=e.y;var m=f.left;g>m&&(g=m),m=f.top,h>m&&(h=m),m=f.right,m>i&&(i=m),m=f.bottom,m>j&&(j=m)}return b.set(g,h,i-g,j-h)},b}(Tc),tf=function(a){function b(){a.call(this)}return Uc(b,a),b.prototype._createMedia=function(){return new Th(null,this._dom)},b}(Me);Ke.register("vimeo-video",tf);var uf=function(a){function b(){a.call(this)}return Uc(b,a),b.prototype._createMedia=function(){return new Vh(null,this._dom)},b}(Me);Ke.register("youtube-video",uf);var vf={background:"backgroundColor"},wf=function(a){var b=vf[a];if(b)return b;var c=hd.style;if(a in c)return vf[a]=a;for(var d=id,e=a.charAt(0).toUpperCase()+a.substr(1),f=-1,g=d.length;++f<g;){var h=d[f]+e;if(h in c)return vf[a]=h}return null},xf=navigator.userAgent.toLowerCase(),yf=(-1!==xf.indexOf("mobile")||-1!==xf.indexOf("android"),!!("ontouchstart"in a||a.DocumentTouch&&b instanceof a.DocumentTouch)),zf=wf("transform"),Af=wf("transformOrigin"),Bf=!1,Cf=!1,Df=!1,Ef=!1,Ff=!1,Gf=!1,Hf="";!function(){var a=b.createElement("div");Bf=function(){return a.style.cssText="float:left;",!!a.style.cssFloat}(),vf["float"]=Bf?"cssFloat":"styleFloat",Cf=function(){var b="transform:translate3d(1px,1px,1px);";return a.style.cssText=jd.join(b)+b+b,!!~(a.style[zf]+"").indexOf("3d")}(),Df=function(){var b="transform-style:preserve-3d;";return a.style.cssText=jd.join(b)+b+b,!!~(a.style[wf("transformStyle")]+"").indexOf("3d")}(),Ef=function(){return a.style.cssText="-webkit-filter:blur(10px);",!!~(a.style.getPropertyValue("-webkit-filter")+"").indexOf("blur")}(),Ff=function(){a.style.cssText="background-image:linear-gradient(to bottom,#000,#fff);";var b=Gf=!!~(a.style.backgroundImage+"").indexOf("gradient");if(!b){var c="background-image:",d="linear-gradient(bottom,#000,#fff);",e=jd;if(a.style.cssText=c+e.join(d+c)+d+c+d,d=a.style.backgroundImage+"",Gf=!!~d.indexOf("gradient"))for(var f=-1,g=e.length;++f<g;)if(d.indexOf(e[f])>=0){Hf=e[f];break}}return b}(),a=null}();var If=function(a){function b(){var b=this;a.call(this),this._shadowConfig=null,this._strokeWidth=1,this._strokeColor="rgba(0,0,0,0)",this._updateTimer=null,this.needUpdateViewBox=!0,this.watch("visible",function(){b.visible&&b.stage&&b.needUpdateViewBox&&b.updateViewBox()},null)}return Uc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.node.addClass("leo-comp--shape"),this._svg=this.node.el("svg").style({overflow:"visible",transformStyle:"preserve-3d"}),this._svg.el("defs"),this._shape=this.createShape().appendTo(this._svg).attr({"stroke-linecap":"round","stroke-linejoin":"round"})},b.prototype.createShape=function(){return bi("svg:g")},b.prototype.destroyShape=function(){this._shape=null},b.prototype.destroy=function(){a.prototype.destroy.call(this),this._clearUpdateTimer()},d(b.prototype,"shadow",{get:function(){return this._shadow},set:function(a){var b=this._shadow;if(a!==b){var c=this._shadowConfig;if(this._shadow=a,"none"===a)this._svg.style("filter","none");else if(Ef)this._svg[0].style.webkitFilter="drop-shadow("+a+")";else{c||(c=this._createShadowConfig()),"none"===b&&this._svg.style("filter","url(#"+c.id+")");var d=a.split(" ");c.offset.setAttribute("dx",parseInt(d[0],10)+""),c.offset.setAttribute("dy",parseInt(d[1],10)+""),c.blur.setAttribute("stdDeviation",parseInt(d[2],10)+""),c.color.setAttribute("flood-color",d[3])}this.updateViewBox(!0),this.notifyPropertyChange("shadow",b)}},enumerable:!0,configurable:!0}),b.prototype._createShadowConfig=function(){var a="shadow_"+this.guid+"_"+w(),b="result_"+this.guid+"_"+w(),c=this.node.select("defs").el("filter").attr("id",a),d=c.el("feGaussianBlur").attr("in","SourceAlpha"),e=c.el("feOffset").attr("result",b),f=c.el("feFlood");c.el("feComposite").attr({in2:b,operator:"in"});var g=c.el("feMerge");return g.el("feMergeNode"),g.el("feMergeNode").attr("in","SourceGraphic"),{id:a,blur:d[0],offset:e[0],color:f[0]}},b.prototype._onActualWidthChange=function(){this._onActualSizeChange()},b.prototype._onActualHeightChange=function(){this._onActualSizeChange()},b.prototype._onActualSizeChange=function(){this.updateViewBox(!0)},d(b.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(a){if(this._strokeWidth!==a){var b=this._strokeWidth;this._shape[0].setAttribute("stroke-width",(this._strokeWidth=a)+""),this.updateViewBox(!0),this.notifyPropertyChange("strokeWidth",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(a){if(this._strokeColor!==a){var b=this._strokeColor;this._shape[0].setAttribute("stroke",a),this.notifyPropertyChange("strokeColor",b)}},enumerable:!0,configurable:!0}),b.prototype._clearUpdateTimer=function(){null!=this._updateTimer&&(ld(this._updateTimer),this._updateTimer=null)},b.prototype.updateViewBox=function(a){var b=this;if(this._visible&&this._stage){if(a||this.needUpdateViewBox){this._clearUpdateTimer();var c=this._svg[0],d=c.getBBox();if(d.width+d.height===0)return void(this._updateTimer=kd(function(){b.updateViewBox()},16));var e=1.45*this._strokeWidth,f=0,g=0,h=0,i=this._shadow;if(i&&"none"!==i){var j=i.split(" ");f=+j[0].slice(0,-2)||0,g=+j[1].slice(0,-2)||0,h=(+j[2].slice(0,-2)||0)/2+1}var k=Math.max,l=Math.min,m=d.x+l(0,f-h)-e,n=d.y+l(0,g-h)-e,o=d.width+2*e+k(0,h-f)+k(0,f+h),p=d.height+2*e+k(0,h-g)+k(0,g+h);c.setAttribute("viewBox",m+" "+n+" "+o+" "+p),c.setAttribute("height",""+p),c.setAttribute("width",""+o),zh(c,"transform","translate("+m+"px,"+n+"px)"),this.needUpdateViewBox=!1}}else a&&(this.needUpdateViewBox=!0)},b.prototype.enter=function(b){a.prototype.enter.call(this,b),this.updateViewBox()},b}(Le);Je.register("shape",null,{borderColor:"strokeColor",borderWidth:"strokeWidth"});var Jf=function(a){function b(){a.call(this),this._textContent="",this._gradient="",this._gradientEl=null}return Uc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this._wrapper=this._node.addClass("leo-comp--shape-adv").el("div").addClass("leo-comp--shape__text leo-center-wrapper"),this._text=this._wrapper.el("div").addClass("leo-center-target"),this._textFormat=new gi(this._text,this),this._textFormat.deep=!0},d(b.prototype,"textContent",{get:function(){return this._textContent},set:function(a){if(this._textContent!==a){var b=this._textContent;this._text.html(this._textContent=a,!0),this.notifyPropertyChange("textContent",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"textFormat",{get:function(){return this._textFormat},enumerable:!0,configurable:!0}),d(b.prototype,"gradient",{get:function(){return this._gradient},set:function(a){a!==this._gradient&&this._updateGradient(a)},enumerable:!0,configurable:!0}),b.prototype._updateGradient=function(a){if(""===a||"none"===a)this._gradient="",this._shape.attr("fill","none");else{if(this._gradientEl)this._gradient||this._shape.attr("fill","url(#"+this._gradientEl.attr("id")+")");else{var b="gradient"+this.guid+"_"+w();this._gradientEl=this._svg.select("defs").el("linearGradient").attr({id:b,x1:"0%",y1:"0%",x2:"0%",y2:"100%"}),this._shape.attr("fill","url(#"+b+")")}for(var c=this._gradientEl,d=a.split(";"),e=c.select("stop"),f=e.length,g=d.length,h=100/(g-1),i=0;f>i&&g>i;++i){var j=e[i];j.setAttribute("offset",i*h+""),j.setAttribute("stop-color",d[i])}for(;g>i;++i)c.el("stop").attr({offset:i*h,"stop-color":d[i]});for(;f>i;++i)c[0].removeChild(e[i])}},b.prototype._onActualSizeChange=function(){this.render(),a.prototype._onActualSizeChange.call(this)},b.prototype.render=function(){},b.prototype.destroy=function(){this._textFormat.destroy(),this._textFormat=null,this._wrapper=null,this._text=null,a.prototype.destroy.call(this)},b.textType=2,b}(If);Je.register("advshape","shape",{gradient:"gradient"},function(a){return gi.compatProperty(a)});var Kf=function(a){function b(){a.call(this),this._maxArrowWidth=60,this._maxTailWidth=40}return Uc(b,a),b.prototype.createShape=function(){return bi("svg:polygon")},d(b.prototype,"maxArrowWidth",{get:function(){return this._maxArrowWidth},set:function(a){this._maxArrowWidth!==a&&(this._maxArrowWidth=a,this.render())},enumerable:!0,configurable:!0}),d(b.prototype,"maxTailWidth",{get:function(){return this._maxTailWidth},set:function(a){this._maxTailWidth!==a&&(this._maxTailWidth=a,this.render())},enumerable:!0,configurable:!0}),b.prototype.render=function(){var a=this.actualWidth,b=this.actualHeight,c=Math.min(this._maxTailWidth,b/2),d=Math.min(this._maxArrowWidth,2*a/3),e=(b-c)/2;this._shape.attr("points",[0,e+c,0,e,a-d,e,a-d,0,a,b/2,a-d,b,a-d,e+c].join(","))},b}(Jf);Ke.register("arrow",Kf,"advshape");var Lf=function(a){function b(){a.call(this),this._x1=0,this._y1=0,this._x2=0,this._y2=0}return Uc(b,a),b.prototype.createShape=function(){return this._line=bi("svg:line")},d(b.prototype,"x1",{get:function(){return this._x1},set:function(a){if(this._x1!==a){var b=this._x1;this._updateXY(!0,this._x1=a,this._x2),this.notifyPropertyChange("x1",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"y1",{get:function(){return this._y1},set:function(a){if(this._y1!==a){var b=this._y1;this._updateXY(!1,this._y1=a,this._y2),this.notifyPropertyChange("y1",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"x2",{get:function(){return this._x2},set:function(a){if(this._x2!==a){var b=this._x2;this._updateXY(!0,this._x1,this._x2=a),this.notifyPropertyChange("x2",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"y2",{get:function(){return this._y2},set:function(a){if(this._y2!==a){var b=this._y2;this._updateXY(!1,this._y1,this._y2=a),this.notifyPropertyChange("y2",b)}},enumerable:!0,configurable:!0}),b.prototype._updateXY=function(a,b,c){var d=this._line,e=a?"x":"y";c>b?d.attr(e+"1","0").attr(e+"2",c-b+""):d.attr(e+"2","0").attr(e+"1",b-c+""),a?(this.x=Math.min(b,c),this.actualWidth=Math.abs(c-b)):(this.y=Math.min(b,c),this.actualHeight=Math.abs(c-b))},b}(If);Je.register("line","shape",{width:"!",height:"!",left:"!",top:"!",rotate:"!"}),Ke.register("line",Lf);var Mf=function(a){function b(){a.call(this),this._angle=45}return Uc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.watch("strokeWidth",this._updateArrows,this)},b.prototype.createShape=function(){var b=bi("svg:g");return b.append(a.prototype.createShape.call(this)),this._arrows=[b.el("line").attr({"stroke-linecap":"round","stroke-linejoin":"round"}),b.el("line").attr({"stroke-linecap":"round","stroke-linejoin":"round"})],b},d(b.prototype,"arrowAngle",{get:function(){return this._angle},set:function(a){this._angle!==a&&(this._angle=a,this._updateArrows())},enumerable:!0,configurable:!0}),b.prototype._updateXY=function(b,c,d){a.prototype._updateXY.call(this,b,c,d),this._updateArrows()},b.prototype._updateArrows=function(){var a=this.x1,b=this.x2,c=this.y1,d=this.y2,e=Math.min(a,b),f=Math.min(c,d),g=b-a,h=d-c,i=g?Math.atan(h/g):be;(0>h*i||!h&&0>=g)&&(i+=ae);var j=Math.sqrt(g*g+h*h),k=Math.min(2*this.strokeWidth,j/3),l=k/j-1,m=l*k*Math.cos(i),n=l*k*Math.sin(i),o=Math.cos(this._angle*de),p=Math.sin(this._angle*de);this._arrows[0].attr({x1:(b-=e)+"",y1:(d-=f)+"",x2:b+m*o-n*p,y2:d+n*o+m*p}),this._arrows[1].attr({x1:b+"",y1:d+"",x2:b+m*o+n*p,y2:d+n*o-m*p})},b}(Lf);Ke.register("arrowline",Mf,"line");var Nf=function(a){function b(){a.call(this),this._maxCrossWidth=40}return Uc(b,a),b.prototype.createShape=function(){return bi("svg:polygon")},d(b.prototype,"maxCrossWidth",{get:function(){return this._maxCrossWidth},set:function(a){this._maxCrossWidth!==a&&(this._maxCrossWidth=a,this.render())},enumerable:!0,configurable:!0}),b.prototype.render=function(){var a=this.actualWidth,b=this.actualHeight,c=Math.min(this._maxCrossWidth,a/2),d=(a-c)/2,e=(b-c)/2;this._shape.attr("points",[0,e+c,0,e,d,e,d,0,d+c,0,d+c,e,a,e,a,e+c,d+c,e+c,d+c,b,d,b,d,b-e].join(","))},b}(Jf);Ke.register("cross",Nf,"advshape");var Of=function(a){function b(){a.call(this)
}return Uc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.watch("strokeWidth",this._updateDashArray,this)},b.prototype._updateXY=function(b,c,d){a.prototype._updateXY.call(this,b,c,d),this._updateDashArray()},b.prototype._updateDashArray=function(){this._line.attr("stroke-dasharray",this.strokeWidth+5+"px")},b}(Lf);Ke.register("dottedline",Of,"line");var Pf=function(a){function b(){a.call(this),this._angle=30}return Uc(b,a),b.prototype.createShape=function(){return bi("svg:polygon")},d(b.prototype,"angle",{get:function(){return this._angle},set:function(a){this._angle!==a&&(this._angle=a,this.render())},enumerable:!0,configurable:!0}),b.prototype.render=function(){var a=this.actualWidth,b=this.actualHeight,c=b/2*Math.tan(this._angle*de);this._shape.attr("points",[0,0,a-c,0,a,b/2,a-c,b,0,b,c,b/2].join(","))},b}(Jf);Ke.register("dovetailed",Pf,"advshape");var Qf=function(a){function b(){a.call(this),this._textContent="",this._strokeWidth=1,this._strokeColor="rgba(0,0,0,0)",this._gradient=""}return Uc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this._node.addClass("leo-comp--shape-rect leo-center-wrapper"),this._text=this._node.el("div").addClass("leo-center-target"),this._textFormat=new gi(this._text,this),this._textFormat.deep=!0},d(b.prototype,"textContent",{get:function(){return this._textContent},set:function(a){if(this._textContent!==a){var b=this._textContent;this._text.html(this._textContent=a,!0),this.notifyPropertyChange("textContent",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"textFormat",{get:function(){return this._textFormat},enumerable:!0,configurable:!0}),d(b.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(a){if(this._strokeWidth!==a){var b=this._strokeWidth;this._dom.style.borderWidth=(this._strokeWidth=a)+"px",this.notifyPropertyChange("strokeWidth",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(a){if(this._strokeColor!==a){var b=this._strokeColor;this._dom.style.borderColor=this._strokeColor=a,this.notifyPropertyChange("strokeColor",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"gradient",{get:function(){return this._gradient},set:function(a){if(this._gradient!==a)if(this._gradient=a,"none"!==a&&a){var b=a.split(";");1===b.length?(this._dom.style.backgroundImage="none",this._dom.style.backgroundColor=b[0]):this._dom.style.backgroundImage=Cc("bottom",b)}else this._dom.style.backgroundImage="none",this._dom.style.backgroundColor=""},enumerable:!0,configurable:!0}),b.prototype.destroy=function(){this._textFormat.destroy(),this._textFormat=null,this._text=null,a.prototype.destroy.call(this)},b.textType=2,b}(Le);Je.register("rectangle",null,{borderColor:"strokeColor",borderWidth:"strokeWidth",gradient:"gradient"},function(a){return gi.compatProperty(a)}),Ke.register("rectangle",Qf),Ke.register("hightlightarea",Qf,"rectangle");var Rf=function(a){function b(){a.call(this)}return Uc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this._node.style("borderRadius","100%")},b}(Qf);Ke.register("ellipse",Rf,"advshape");var Sf=function(a){function b(){a.call(this)}return Uc(b,a),b.prototype.createShape=function(){var b=a.prototype.createShape.call(this);return this._rects=[b.el("rect"),b.el("rect"),b.el("rect")],b},b.prototype.render=function(){for(var a=this.actualWidth/6,b=~~a,c=this.actualHeight,d=[0,0,b,c,b,0,a<<2,c,~~(5*a),0,b,c],e=this._rects,f=-4,g=d.length;(f+=4)+3<g;)e[f>>2].attr({x:d[f],y:d[f+1],width:d[f+2],height:d[f+3]})},b}(Jf);Ke.register("flowchart",Sf,"advshape");var Tf=function(a){function b(){a.call(this),this._hasAngleSet=!1,this._angle=0}return Uc(b,a),b.prototype.createShape=function(){return bi("svg:polygon")},d(b.prototype,"angle",{get:function(){return this._angle},set:function(a){this._hasAngleSet?this._angle!==a&&(this._angle=a,this.render()):(this._hasAngleSet=!0,this._angle=a,this.render())},enumerable:!0,configurable:!0}),b.prototype.render=function(){var a=this.actualWidth,b=this.actualHeight,c=this._hasAngleSet?b/2*Math.tan(this._angle*de):a/4;this._shape.attr("points",[0,b/2,c,0,a-c,0,a,b/2,a-c,b,c,b].join(","))},b}(Jf);Ke.register("hexagon",Tf,"advshape");var Uf=function(a){function b(){a.call(this)}return Uc(b,a),b.prototype.createShape=function(){return bi("svg:polygon")},b.prototype.render=function(){var a=this.actualWidth,b=this.actualHeight;this._shape.attr("points",[0,b,.75*a,b,a,0,.25*a,0].join(","))},b}(Jf);Ke.register("parallelogram",Uf,"advshape");var Vf=function(a){function b(){a.call(this)}return Uc(b,a),b.prototype.createShape=function(){return bi("svg:polygon")},b.prototype.render=function(){var a=this.actualWidth,b=this.actualHeight;this._shape.attr("points",[0,b/3,a/2,0,a,b/3,.8*a,b,.2*a,b].join(","))},b}(Jf);Ke.register("pentagon",Vf,"advshape");var Wf=function(a){function b(){a.call(this)}return Uc(b,a),b.prototype.createShape=function(){return bi("svg:polygon")},b.prototype.render=function(){var a=this.actualWidth/2,b=this.actualHeight/2;this._shape.attr("points",[0,b,a,2*b,2*a,b,a,0].join(","))},b}(Jf);Ke.register("prismatic",Wf,"advshape");var Xf=function(a){function b(){a.call(this)}return Uc(b,a),b.prototype.createShape=function(){return bi("svg:polygon")},b.prototype.render=function(){var a=this.actualWidth,b=this.actualHeight;this._shape.attr("points",[0,b,a,b,.75*a,0,.25*a,0].join(","))},b}(Jf);Ke.register("trapezoid",Xf,"advshape");var Yf=function(a){function b(){a.call(this)}return Uc(b,a),b.prototype.createShape=function(){return bi("svg:polygon")},b.prototype.render=function(){var a=this.actualWidth,b=this.actualHeight;this._shape.attr("points",[0,b,a,b,a/2,0].join(","))},b}(Jf);Ke.register("triangle",Yf,"advshape");var Zf=function(a){function b(){a.call(this)}return Uc(b,a),b.prototype.init=function(){a.prototype.init.call(this)},b.prototype.createShape=function(){var b=a.prototype.createShape.call(this);b[0].style.setProperty("fill","none","important");for(var c=this._lines=[b.el("line"),b.el("line"),b.el("line"),b.el("line")],d={x1:0,y1:0,x2:0,stroke:"#808080","stroke-linecap":"square","stroke-width":2},e=-1,f=c.length;++e<f;)c[e].attr(d);return c[1].attr("y2",0),c[2].attr("stroke","#e6e6e6"),c[3].attr({x1:0,stroke:"#e6e6e6"}),b},b.prototype.render=function(){var a=this.actualWidth,b=this.actualHeight,c=this._lines;c[0].attr("y2",b),c[1].attr("x2",a),c[2].attr({x1:a,x2:a,y2:b}),c[3].attr({y1:b,y2:b,x2:a})},b}(Jf);Ke.register("virtualbox",Zf,"advshape");var $f=function(a){function b(){a.call(this),this._maxArrowWidth=60,this._maxTailHeight=40}return Uc(b,a),b.prototype.createShape=function(){var a=bi("svg:g");return this._polygons=[a.el("polygon"),a.el("rect"),a.el("rect")],a},d(b.prototype,"maxArrowWidth",{get:function(){return this._maxArrowWidth},set:function(a){this._maxArrowWidth!==a&&(this._maxArrowWidth=a,this.render())},enumerable:!0,configurable:!0}),d(b.prototype,"maxTailHeight",{get:function(){return this._maxTailHeight},set:function(a){this._maxTailHeight!==a&&(this._maxTailHeight=a,this.render())},enumerable:!0,configurable:!0}),b.prototype.render=function(){var a=this.actualWidth,b=this.actualHeight,c=Math.min(this._maxTailHeight,b/2),d=Math.min(this._maxArrowWidth,2*a/3),e=(a-d)/36,f=3*e,g=(b-c)/2,h=this._polygons;h[0].attr("points",[2*f+" "+(g+c),2*f+" "+g,a-d+" "+g,a-d+" 0",a+" "+b/2,a-d+" "+b,a-d+" "+(g+c)].join(","));for(var i=[0,g,e,c,2*e,g,f,c],j=-4,k=i.length;(j+=4)+3<k;)h[(j>>2)+1].attr({x:i[j],y:i[j+1],width:i[j+2],height:i[j+3]})},b}(Jf);Ke.register("virtualend",$f,"advshape");var _f=function(a){function b(){a.call(this),this._actualHandlerX=0,this._actualHandlerY=0}return Uc(b,a),d(b.prototype,"handlerX",{get:function(){return this._actualHandlerX+this.x},set:function(a){a-=this.x,this._actualHandlerX!==a&&(this._actualHandlerX=a,this.render())},enumerable:!0,configurable:!0}),d(b.prototype,"handlerY",{get:function(){return this._actualHandlerY+this.y},set:function(a){a-=this.y,this._actualHandlerY!==a&&(this._actualHandlerY=a,this.render())},enumerable:!0,configurable:!0}),b.prototype._onXChange=function(a){this._actualHandlerX+=a-this.x,this.render()},b.prototype._onYChange=function(a){this._actualHandlerY+=a-this.y,this.render()},b}(Jf),ag=function(a){function b(){a.call(this)}return Uc(b,a),b.prototype.createShape=function(){var b=a.prototype.createShape.call(this);return this._cloud=b.el("path"),this._circles=[b.el("circle"),b.el("circle")],b},b.prototype._renderCircles=function(){var a=this._circles,b=this.actualWidth/2,c=this.actualHeight/2,d=Math.max(2*b,2*c)/25,e=this._actualHandlerX,f=this._actualHandlerY;a[1].attr({r:3*d/5,cx:e,cy:f});var g=_b(e-b,f-c,b,c);a[0].attr({r:d,cx:(g[0]+b+e)/2,cy:(g[1]+c+f)/2})},b.prototype.render=function(){var a=b.pathData,c=this.actualWidth/a.width,d=this.actualHeight/a.height;this._cloud.attr("d",c*d?eg.transformPath(a.path,c,d):""),this._renderCircles()},b.pathData={path:"M42.128,47.696c0,0-7.188,0.875-11.438-0.688c-2.563-0.941-4.188-3.563-4.188-3.563s-9.439,1.243-13.939,0.43S4.812,40.563,3,38.813s-2.948-4.77-2.999-8.244c-0.05-3.438,1.123-6.746,2.938-8.438c3.688-3.438,7.938-4.938,7.938-4.938s-0.53-1.672,0.467-3.674c0.908-1.826,1.902-3.023,5.347-4.514c4.188-1.813,7.563-0.5,9.188-0.125s4.188,2.438,4.188,2.438s5.5-11,21.437-11.313c15.938-0.313,21.348,11.016,21.811,11.877c1.314,2.438,1.375,5.688,1.375,5.688s7.5,2.75,9.564,7.188c2.063,4.438,1.188,7.872,0.438,9.938c-2.75,7.563-8.941,8.617-8.941,8.617s-1.061,2.884-5.936,5.071c-4.938,2.125-12.176,1.813-12.176,1.813s-1.643,6.071-7.764,5.974C43.752,56.074,42.128,47.696,42.128,47.696z",width:88,height:58},b}(_f);Ke.register("clouddialogbox",ag,"advshape");var bg=function(a){function b(){a.call(this)}return Uc(b,a),b.prototype.createShape=function(){return bi("svg:path")},b.prototype.render=function(){var a=this.actualWidth/2,b=this.actualHeight/2,c=this._actualHandlerX-a,d=this._actualHandlerY-b;if(1>c*c/(a*a)+d*d/(b*b))return void this._shape.attr("d","M"+a+" 0 A"+a+" "+b+" 0 1 1 0 "+b+" A"+a+" "+b+" 0 0 1 "+a+" 0 Z");var e=Math.atan2(d,c)*ee,f=Math.tan((e-15)*de),g=Math.tan((e+15)*de),h=a*b/Math.sqrt(b*b+f*f*a*a)||0,i=f*h,j=(h-c)*(h-c)+(i-d)*(i-d),k=(h+c)*(h+c)+(i+d)*(i+d);j>k&&(h*=-1,i*=-1);var l=a*b/Math.sqrt(b*b+g*g*a*a)||0,m=g*l,j=(l-c)*(l-c)+(m-d)*(m-d),k=(l+c)*(l+c)+(m+d)*(m+d);j>k&&(l*=-1,m*=-1),this._shape.attr("d",["M"+(h+a)+" "+(i+b),"A"+a+" "+b+" 0 1 0 "+(l+a)+" "+(m+b),"L"+(c+a)+" "+(d+b),"Z"].join(" "))},b}(_f);Ke.register("ovaldialogbox",bg,"advshape");var cg=function(a){function b(){a.call(this)}return Uc(b,a),b.prototype.createShape=function(){return bi("svg:polygon")},b.prototype.render=function(){var a=this.actualWidth,b=this.actualHeight,c=[0,0,a,0,a,b,0,b],d=this._getArea(),e=this._getHandlerPoints(d);if(e)for(var f=(d+2)%4<<1,g=-1,h=e.length;++g<h;)c.splice(f+g,0,e[g]);this._shape.attr("points",c.join(","))},b.prototype._getArea=function(){return~~((360+(Math.atan2(this._actualHandlerY-this.actualHeight/2,this._actualHandlerX-this.actualWidth/2)*ee+45))/90)%4},b.prototype._getHandlerPoints=function(a,b){var c=this._actualHandlerX,d=this._actualHandlerY,e=this.actualWidth,f=this.actualHeight;if(!b&&c>=0&&e>=c&&d>=0&&f>=d)return null;switch(a){case 0:var g=f/4;return f/2>d?[e,Math.max(d,0),c,d,e,Math.max(d+g,g)]:[e,Math.min(d-g,3*g),c,d,e,Math.min(d,f)];case 2:var g=f/4;return d>=f/2?[0,Math.min(d,f),c,d,0,Math.min(d-g,3*g)]:[0,Math.max(d+g,g),c,d,0,Math.max(d,0)];case 1:var g=e/4;return c>=e/2?[Math.min(c,e),f,c,d,Math.min(c-g,3*g),f]:[Math.max(c+g,g),f,c,d,Math.max(c,0),f];case 3:var g=e/4;return e/2>c?[Math.max(c,0),0,c,d,Math.max(c+g,g),0]:[Math.min(c-g,3*g),0,c,d,Math.min(c,e),0]}},b}(_f);Ke.register("rectangulardialogbox",cg,"advshape");var dg=function(a){function b(){a.call(this)}return Uc(b,a),b.prototype.createShape=function(){return bi("svg:path")},b.prototype.render=function(){var a=this.actualWidth,b=this.actualHeight,c=this._getHandlerPoints(this._getArea(),!0),d=Math.min(a/8,10),e=["M"+d+" 0","L"+(a-d)+" 0","A"+d+" "+d+" 0 0 1 "+a+" "+d,"L"+a+" "+(b-d),"A"+d+" "+d+" 0 0 1 "+(a-d)+" "+b,"L"+d+" "+b,"A"+d+" "+d+" 0 0 1 0 "+(b-d),"L0 "+d,"A"+d+" "+d+" 0 0 1 "+d+" 0","Z"];this._shape.attr("d",this._insertHandlerPoints(c,e,d).join(" "))},b.prototype._getGridPosition=function(a,b,c){var d=c>=a?0:a<=this.actualWidth-c?3:6;return d+(c>=b?1:b<=this.actualHeight-c?2:3)},b.prototype._insertHandlerPoints=function(a,c,d){var e=this._getGridPosition(a[0],a[1],d),f=this._getGridPosition(a[4],a[5],d),g=b._cornerPosMap,h=b._insPosMap,i=this.actualWidth,j=this.actualHeight;if(e===f){var k=g[e];k?c.splice(h[e],0,"A"+d+" "+d+" 0 0 1 "+a[0]+" "+a[1],"L"+a[2]+" "+a[3],"L"+a[4]+" "+a[5]):c.splice(h[e],0,"L"+a[0]+" "+a[1],"L"+a[2]+" "+a[3],"L"+a[4]+" "+a[5])}else switch(e){case 1:c.splice(0,1,"M"+a[4]+" "+a[5]),c.splice(8,1,(a[0]?"A"+d+" "+d+" 0 0 1 ":"L")+a[0]+" "+a[1],"L"+a[2]+" "+a[3],"L"+a[4]+" "+a[5]),4!==f&&c.splice(1,2);break;case 2:c.splice(7,a[5]?1:2,"L"+a[0]+" "+a[1],"L"+a[2]+" "+a[3],"L"+a[4]+" "+a[5]);break;case 3:c.splice(6,2!==f?2:1,(a[1]===j?"L":"A"+d+" "+d+" 0 0 1 ")+a[0]+" "+a[1],"L"+a[2]+" "+a[3],"L"+a[4]+" "+a[5]);break;case 4:c.splice(1,a[4]===i?2:1,"L"+a[0]+" "+a[1],"L"+a[2]+" "+a[3],"L"+a[4]+" "+a[5]);break;case 6:c.splice(5,a[4]?1:2,"L"+a[0]+" "+a[1],"L"+a[2]+" "+a[3],"L"+a[4]+" "+a[5]);break;case 7:c.splice(2,8!==f?2:1,(a[1]?"A"+d+" "+d+" 0 0 1 ":"L")+a[0]+" "+a[1],"L"+a[2]+" "+a[3],"L"+a[4]+" "+a[5]);break;case 8:c.splice(3,a[5]===j?2:1,"L"+a[0]+" "+a[1],"L"+a[2]+" "+a[3],"L"+a[4]+" "+a[5]);break;case 9:c.splice(4,f+3!==e?2:1,(a[0]===i?"L":"A"+d+" "+d+" 0 0 1 ")+a[0]+" "+a[1],"L"+a[2]+" "+a[3],"L"+a[4]+" "+a[5])}return c},b._cornerPosMap={1:!0,3:!0,7:!0,9:!0},b._insPosMap=[0,8,7,6,1,0,5,2,3,4],b}(cg);Ke.register("roundedrectangulardialogbox",dg,"advshape");var eg=function(a){function b(){a.call(this)}return Uc(b,a),b.prototype.createShape=function(){var a=bi("svg:g");return this._createPaths(a),this._createFills(a),this._createStrokes(a),a},b.prototype._createPaths=function(a){this._pathEls=null;var b=this._paths;if(b){this._pathEls=[];for(var c=-1,d=b.length;++c<d;)this._pathEls.push(a.el("path"))}},b.prototype._createStrokes=function(a){this._strokeEls=null;var b=this._strokes;if(b){this._strokeEls=[];for(var c=-1,d=b.length;++c<d;)this._strokeEls.push(a.el("path").attr({fill:"none","stroke-linejoin":"round"}))}},b.prototype._createFills=function(a){this._fillEls=null;var b=this._fills;if(b){this._fillEls=[];for(var c=-1,d=b.length;++c<d;)this._fillEls.push(a.el("path").attr({stroke:"none","fill-rule":"evenodd","clip-rule":"evenodd"}))}},d(b.prototype,"_paths",{get:function(){return this.constructor.pathData.paths},enumerable:!0,configurable:!0}),d(b.prototype,"_strokes",{get:function(){return this.constructor.pathData.strokes},enumerable:!0,configurable:!0}),d(b.prototype,"_fills",{get:function(){return this.constructor.pathData.fills},enumerable:!0,configurable:!0}),d(b.prototype,"_baseWidth",{get:function(){return this.constructor.pathData.width},enumerable:!0,configurable:!0}),d(b.prototype,"_baseHeight",{get:function(){return this.constructor.pathData.height},enumerable:!0,configurable:!0}),b.prototype.render=function(){var a,c,d=this.actualWidth/this._baseWidth,e=this.actualHeight/this._baseHeight,f=b.transformPath;if(a=this._pathEls){c=this._paths;for(var g=-1,h=c.length;++g<h;)a[g].attr("d",d*e?f(c[g],d,e):null)}if(a=this._fillEls){c=this._fills;for(var g=-1,h=c.length;++g<h;)a[g].attr("d",d*e?f(c[g],d,e):null)}if(a=this._strokeEls){c=this._strokes;for(var g=-1,h=c.length;++g<h;)a[g].attr("d",d*e?f(c[g],d,e):null)}},b.transformPath=function(a,b,c){for(var d,e=/([a-zA-Z])([\d.,\s\-]*)/g,f=/(-?[\d.]+)(,?\s*)/g,g="",h=0;d=e.exec(a);){var i=d[1],j=d[2];switch(g+=a.substring(h,d.index)+i,h=e.lastIndex,i=i.toLowerCase(),f.lastIndex=0,i){case"v":d=f.exec(j),g+=+d[1]*c+d[2];break;case"h":d=f.exec(j),g+=+d[1]*b+d[2];break;default:for(var k=0,l=0,m="a"===i;d=f.exec(j);){var n=+d[1],o=d[2];m?(2>k||k>4)&&(n*=(k+(k>4?1:0))%2?c:b):n*=k%2?c:b,++k,g+=n+o,l=f.lastIndex}g+=j.substr(l)}}return g+a.substr(h)},b}(Jf),fg=function(a){function b(){a.call(this)}return Uc(b,a),b.pathData={fills:["M0,36.727L36.64,36.727L47.962,0 59.285,36.727L95.924,36.727L66.282,59.424L77.605,96.151L47.962,73.453L18.32,96.151L29.643,59.424L0,36.727z"],strokes:["M0,36.727L36.64,36.727L47.962,0L59.285,36.727L95.924,36.727L66.282,59.424L77.605,96.151L47.962,73.453L18.32,96.151L29.643,59.424L0,36.727z"],width:98,height:99},b}(eg);Ke.register("5pointstar",fg,"advshape");var gg=function(a){function b(){a.call(this)}return Uc(b,a),b.pathData={paths:["M0,60.095C0,26.905,26.842,0,59.953,0l0,0l0,0c33.11,0,59.952,26.905,59.952,60.095l0,0l0,0c0,33.189-26.842,60.095-59.952,60.095l0,0l0,0C26.842,120.189,0,93.284,0,60.095L0,60.095L0,60.095z M29.977,60.095c0,16.595,13.421,30.047,29.977,30.047l0,0l0,0c16.555,0,29.976-13.452,29.976-30.047S76.508,30.047,59.953,30.047l0,0l0,0C43.397,30.047,29.977,43.5,29.977,60.095L29.977,60.095z"],width:124,height:124},b}(eg);Ke.register("circle",gg,"advshape");var hg=function(a){function b(){a.call(this)}return Uc(b,a),b.pathData={paths:["M19.758,54.438c-2.523-19.239,10.468-36.957,29.017-39.573c7.516-1.061,15.158,0.524,21.703,4.502l0,0c6.935-13.559,23.141-18.712,36.196-11.51c2.283,1.26,4.378,2.856,6.221,4.739l0,0c5.401-11.24,18.557-15.806,29.385-10.199c2.996,1.552,5.61,3.796,7.642,6.56v0c8.705-10.629,24.089-11.942,34.359-2.933c4.316,3.787,7.226,9.009,8.229,14.772l0,0c14.265,4.037,22.679,19.329,18.795,34.155c-0.326,1.247-0.736,2.468-1.226,3.655l0,0c11.439,15.449,8.639,37.591-6.255,49.456c-4.637,3.694-10.113,6.086-15.9,6.944l0,0c-0.129,16.62-13.232,29.985-29.268,29.852c-5.357-0.044-10.599-1.624-15.144-4.564l0,0c-5.424,18.633-24.343,29.165-42.256,23.523c-7.507-2.364-13.994-7.365-18.354-14.148l0,0c-18.341,11.477-42.147,5.304-53.173-13.788c-0.139-0.24-0.275-0.482-0.41-0.726l0,0c-12.003,1.457-22.876-7.428-24.285-19.846c-0.751-6.619,1.355-13.244,5.757-18.11l0,0C0.398,90.853-3.094,76.921,2.993,66.083c3.511-6.253,9.67-10.386,16.582-11.129L19.758,54.438z","M23.738,99.605c-4.437,0.36-8.874-0.703-12.714-3.049 M34.956,132.971c-1.785,0.736-3.655,1.228-5.563,1.459 M82.889,149.003c-1.342-2.088-2.466-4.319-3.352-6.656 M144.872,132.405c-0.198,2.477-0.646,4.925-1.339,7.304 M171.483,87.276c10.061,5.079,16.409,15.699,16.319,27.297 M209.975,58.203c-1.629,3.949-4.116,7.453-7.267,10.235 M192.539,20.223c0.277,1.595,0.406,3.214,0.384,4.834 M146.131,14.584c0.946-2.23,2.2-4.307,3.723-6.165 M111.313,17.522c0.386-1.843,0.992-3.629,1.803-5.317 M70.452,19.328c2.368,1.439,4.559,3.171,6.524,5.158 M20.897,59.867c-0.517-1.775-0.897-3.59-1.139-5.427"],width:226,height:174},b}(eg);Ke.register("cloud",hg,"advshape");var ig=function(a){function b(){a.call(this)}return Uc(b,a),b.pathData={paths:["M0,38.611L158.163,38.611L158.163,154.445L0,154.445L0,38.611","M158.163,38.611L191.977,0L191.977,115.834L158.163,154.445L158.163,38.611","M0,38.611L33.814,0L191.977,0L158.163,38.611L0,38.611"],width:196,height:158},b}(eg);Ke.register("cube",ig,"advshape");var jg=function(a){function b(){a.call(this)}return Uc(b,a),b.pathData={fills:["M0,86.019l15.19-16.471v7.611l0,0c22.612-3.768,39.878-15.563,44.415-30.344l0,0C65.859,67.2,46.376,87.19,15.19,92.386l0,0v7.613L0,86.019L0,86.019z","M60.76,54.429c0-21.65-27.204-39.203-60.761-39.203l0,0l0,0V0l0,0C33.556,0,60.76,17.552,60.76,39.203l0,0V54.429z"],strokes:["M60.76,54.429c0-21.65-27.204-39.203-60.761-39.203l0,0l0,0V0l0,0C33.556,0,60.76,17.552,60.76,39.203l0,0l0,0V54.429L60.76,54.429c0,17.877-18.742,33.488-45.57,37.959l0,0v7.613L0,86.019l15.19-16.471v7.611l0,0c22.612-3.768,39.878-15.563,44.415-30.344"],width:64,height:100},b}(eg);Ke.register("curvedleftarrow",jg,"advshape");var kg=function(a){function b(){a.call(this)}return Uc(b,a),b.pathData={paths:["M0.012,39.205c0,17.875,18.744,33.488,45.571,37.957l0,0v-7.613l15.189,16.473l-15.189,13.98v-7.613l0,0C18.756,87.917,0.012,72.306,0.012,54.431V39.205z","M60.773,15.227c-29.009,0-53.971,13.23-59.604,31.589l0,0C-5.349,25.578,16.055,4.952,48.973,0.747C52.86,0.25,56.811,0,60.773,0V15.227L60.773,15.227z"],strokes:["M0.012,39.205c0,17.875,18.744,33.488,45.571,37.957l0,0v-7.613l15.189,16.473l-15.189,13.98v-7.613l0,0C18.756,87.917,0.012,72.306,0.012,54.431l0,0V39.205L0.012,39.205c0-21.651,27.204-39.203,60.761-39.203l0,0v15.227l0,0c-29.009,0-53.971,13.23-59.604,31.59"],width:64,height:100},b}(eg);Ke.register("curvedrightarrow",kg,"advshape");var lg=function(a){function b(){a.call(this)}return Uc(b,a),b.pathData={fills:["M0,10.512c0,5.806,21.546,10.512,48.125,10.512S96.25,16.318,96.25,10.512l0,0v63.072l0,0c0,5.805-21.546,10.512-48.125,10.512S0,79.39,0,73.584l0,0V10.512z","M0,10.512C0,4.707,21.546,0,48.125,0S96.25,4.707,96.25,10.512l0,0l0,0c0,5.806-21.546,10.512-48.125,10.512S0,16.318,0,10.512L0,10.512L0,10.512z"],strokes:["M96.25,10.512c0,5.806-21.546,10.512-48.125,10.512S0,16.318,0,10.512l0,0l0,0C0,4.707,21.546,0,48.125,0S96.25,4.707,96.25,10.512L96.25,10.512L96.25,10.512v63.072l0,0c0,5.805-21.546,10.512-48.125,10.512S0,79.39,0,73.584l0,0v0V10.512"],width:100,height:88},b}(eg);Ke.register("cylinder",lg,"advshape");var mg=function(a){function b(){a.call(this)}return Uc(b,a),b.pathData={paths:["M0,71.112C0,31.838,31.987,0,71.444,0l0,0l0,0c39.457,0,71.443,31.838,71.443,71.112l0,0l0,0c0,39.274-31.986,71.112-71.443,71.112l0,0l0,0C31.987,142.224,0,110.386,0,71.112L0,71.112L0,71.112z M110.866,92.29c11.8-21.581,3.716-48.557-18.057-60.253c-13.295-7.142-29.326-7.161-42.638-0.05L110.866,92.29zM32.021,49.935c-11.8,21.581-3.715,48.556,18.057,60.252c13.295,7.142,29.326,7.16,42.638,0.05L32.021,49.935z"],width:145,height:144},b}(eg);Ke.register("doublecircle",mg,"advshape");var ng=function(a){function b(){a.call(this)}return Uc(b,a),b.pathData={fills:["M47.962,25.818L64.491,0L62.861,23.704L81.624,19.84L74.173,32.563L93.69,36.221L78.191,46.629L95.924,59.16L74.772,57.611L80.581,80.549L62.262,64.355L58.829,87.858L46.772,66.482L37.681,96.151L34.262,69.563L21.147,78.421L25.167,62.04L0.599,64.933L16.529,52.416L0,38.349L20.548,33.907L1.643,10.216L32.472,28.133L37.091,10.216L47.962,25.818z"],strokes:["M47.962,25.818L64.491,0L62.861,23.704L81.624,19.84L74.173,32.563L93.69,36.221L78.191,46.629L95.924,59.16L74.772,57.611L80.581,80.549L62.262,64.355L58.829,87.858L46.772,66.482L37.681,96.151L34.262,69.563L21.147,78.421L25.167,62.04L0.599,64.933L16.529,52.416L0,38.349L20.548,33.907L1.643,10.216L32.472,28.133L37.091,10.216L47.962,25.818z"],width:98,height:99},b}(eg);Ke.register("explosion1",ng,"advshape");var og=function(a){function b(){a.call(this)}return Uc(b,a),b.pathData={fills:["M50,23.645c20.683-58.048,101.344,0,0,74.634C-51.344,23.645,29.317-34.403,50,23.645L50,23.645z"],strokes:["M50,23.645c20.683-58.048,101.344,0,0,74.634C-51.344,23.645,29.317-34.403,50,23.645L50,23.645z"],width:104,height:102},b}(eg);Ke.register("heart",og,"advshape");var pg=function(a){function b(){a.call(this)}return Uc(b,a),b.pathData={fills:["M0,19.969L19.921,0L19.921,9.984L80.077,9.984L80.077,0L100,19.969L80.077,39.938L80.077,29.953L19.921,29.953L19.921,39.938L0,19.969z"],strokes:["M0,19.969L19.921,0L19.921,9.984L80.077,9.984L80.077,0L100,19.969L80.077,39.938L80.077,29.953L19.921,29.953L19.921,39.938L0,19.969z"],width:103,height:42},b}(eg);Ke.register("leftrightarrow",pg,"advshape");var qg=function(a){function b(){a.call(this)}return Uc(b,a),b.pathData={fills:["M37.624,0L57.11,27.065L49.072,30.256L73.617,53.449L65.579,57.321L95.924,96.151L44.462,66.393L54.277,62.262L22.302,43.201L33.76,37.312L0,17.316L37.624,0z"],strokes:["M37.624,0L57.11,27.065L49.072,30.256L73.617,53.449L65.579,57.321L95.924,96.151L44.462,66.393L54.277,62.262L22.302,43.201L33.76,37.312L0,17.316L37.624,0z"],width:98,height:99},b}(eg);Ke.register("lightningbolt",qg,"advshape");var rg=function(a){function b(){a.call(this)}return Uc(b,a),b.prototype._updateGradient=function(b){if(a.prototype._updateGradient.call(this,b),this._gradient){for(var c=this._gradientEl,d=c.select("stop"),e=100,f=0,g=[],h=-1,i=d.length;++h<i;){var j=d[h],k=parseFloat(j.getAttribute("offset"));e>k?(e=k,g[0]=j):k>f&&(f=k,g[1]=j)}for(var h=-1,i=g.length;++h<i;){var j=g[h],l=j.getAttribute("stop-color")||"#000";this._pathEls[h].attr("fill",He.stringify(He.darker(He.parse(l),.15)))}}},b.pathData={fills:["M21.79,6.582c0,3.634-2.438,6.582-5.447,6.582l0,0c-1.505,0-2.725-1.474-2.725-3.29c0-1.818,1.22-3.292,2.725-3.292l0,0H21.79z","M10.896,211.519c0,3.635-2.44,6.582-5.448,6.582S0,215.154,0,211.519c0-3.637,2.439-6.584,5.447-6.584l0,0l0,0c1.505,0,2.724,1.477,2.724,3.293c0,1.818-1.219,3.291-2.724,3.291l0,0H10.896z","M5.447,218.101c3.009,0,5.448-2.947,5.448-6.582l0,0H5.447l0,0c1.505,0,2.724-1.473,2.724-3.291c0-1.816-1.219-3.293-2.724-3.293l0,0l0,0h5.448V6.582l0,0C10.896,2.947,13.334,0,16.343,0l0,0l0,0h65.369l0,0c3.008,0,5.447,2.947,5.447,6.582c0,3.634-2.439,6.582-5.447,6.582l0,0l0,0h-5.447v198.355l0,0c0,3.635-2.44,6.582-5.448,6.582l0,0H5.447z M21.79,6.582c0,3.634-2.438,6.582-5.447,6.582l0,0c-1.505,0-2.725-1.474-2.725-3.29c0-1.818,1.22-3.292,2.725-3.292l0,0H21.79z"],strokes:["M10.896,204.935V6.582l0,0C10.896,2.947,13.334,0,16.343,0l0,0l0,0h65.369l0,0c3.008,0,5.447,2.947,5.447,6.582c0,3.634-2.439,6.582-5.447,6.582l0,0l0,0h-5.447v198.355l0,0c0,3.635-2.44,6.582-5.448,6.582l0,0l0,0H5.447l0,0c-3.008,0-5.447-2.947-5.447-6.582c0-3.637,2.439-6.584,5.447-6.584l0,0H10.896z M16.343,0c3.008,0,5.447,2.947,5.447,6.582c0,3.634-2.438,6.582-5.447,6.582l0,0l0,0c-1.505,0-2.725-1.474-2.725-3.29c0-1.818,1.22-3.292,2.725-3.292l0,0l0,0h5.447 M76.265,13.164H16.343 M5.447,204.935c1.505,0,2.724,1.477,2.724,3.293c0,1.818-1.219,3.291-2.724,3.291l0,0l0,0h5.448 M5.447,218.101c3.009,0,5.448-2.947,5.448-6.582l0,0v-6.584"],width:89,height:200},b}(eg);Ke.register("paper",rg,"advshape");var sg=function(a){function b(){a.call(this)}return Uc(b,a),b.pathData={paths:["M0,105.666L52.708,52.833L52.708,79.25L58.316,79.25L58.316,0L166.507,0L166.507,79.25L172.115,79.25L172.115,52.833L224.823,105.666L172.115,158.499L172.115,132.083L166.507,132.083L166.507,211.332L58.316,211.332L58.316,132.083L52.708,132.083L52.708,158.499L0,105.666"],width:227,height:213},b}(eg);Ke.register("polygon",sg,"advshape");var tg=function(a){function b(){a.call(this)}return Uc(b,a),b.pathData={fills:["M0,50L22.447,27.5L22.447,38.75L38.658,38.75L38.658,22.5L27.435,22.5L49.882,0L72.329,22.5L61.105,22.5L61.105,38.75L77.317,38.75L77.317,27.5L99.765,50L77.317,72.5L77.317,61.25L61.105,61.25L61.105,77.5L72.329,77.5L49.882,100L27.435,77.5L38.658,77.5L38.658,61.25L22.447,61.25L22.447,72.5L0,50z"],strokes:["M0,50L22.447,27.5L22.447,38.75L38.658,38.75L38.658,22.5L27.435,22.5L49.882,0L72.329,22.5L61.105,22.5L61.105,38.75L77.317,38.75L77.317,27.5L99.765,50L77.317,72.5L77.317,61.25L61.105,61.25L61.105,77.5L72.329,77.5L49.882,100L27.435,77.5L38.658,77.5L38.658,61.25L22.447,61.25L22.447,72.5L0,50z"],width:102,height:102},b}(eg);Ke.register("quadarrow",tg,"advshape");var ug=function(a){function b(){a.call(this)}return Uc(b,a),b.pathData={fills:["M0,40C0,17.909,17.866,0,39.905,0c22.04,0,39.905,17.909,39.905,40c0,22.092-17.865,40-39.905,40C17.866,80,0,62.092,0,40L0,40z","M22.964,28.037c0-2.301,1.86-4.167,4.156-4.167c2.295,0,4.157,1.865,4.157,4.167c0,2.302-1.861,4.167-4.157,4.167C24.825,32.204,22.964,30.338,22.964,28.037L22.964,28.037zM48.533,28.037c0-2.301,1.861-4.167,4.157-4.167c2.295,0,4.157,1.865,4.157,4.167c0,2.302-1.862,4.167-4.157,4.167C50.395,32.204,48.533,30.338,48.533,28.037L48.533,28.037z"],strokes:["M22.964,28.037c0-2.301,1.86-4.167,4.156-4.167c2.295,0,4.157,1.865,4.157,4.167c0,2.302-1.861,4.167-4.157,4.167C24.825,32.204,22.964,30.338,22.964,28.037L22.964,28.037z M48.533,28.037c0-2.301,1.861-4.167,4.157-4.167c2.295,0,4.157,1.865,4.157,4.167c0,2.302-1.862,4.167-4.157,4.167C50.395,32.204,48.533,30.338,48.533,28.037L48.533,28.037z","M18.276,57.443c14.419,9.928,28.822,9.928,43.208,0","M0,40C0,17.909,17.866,0,39.905,0c22.04,0,39.905,17.909,39.905,40c0,22.092-17.865,40-39.905,40C17.866,80,0,62.092,0,40L0,40z"],width:82,height:82},b}(eg);Ke.register("smileyface",ug,"advshape");var vg=function(a){function b(){a.call(this)}return Uc(b,a),b.pathData={paths:["M0 0L100 0L100 80 Q75 80,50 92T0 93.3Z"],width:100,height:100},b}(eg);Ke.register("textflowchart",vg,"advshape");var wg=function(a){function b(){a.call(this)}return Uc(b,a),b.pathData={fills:["M9.305,37.309c5.139,0,9.305-4.176,9.305-9.328l0,0c0-2.576-2.083-4.664-4.653-4.664c-2.569,0-4.652,2.088-4.652,4.664l0,0V37.309z","M245.494,18.655c5.139,0,9.305-4.176,9.305-9.328c0-5.151-4.166-9.327-9.305-9.327c-5.14,0-9.306,4.176-9.306,9.327l0,0l0,0c0,2.576,2.083,4.664,4.652,4.664c2.57,0,4.653-2.088,4.653-4.664V18.655z","M254.799,9.328c0,5.151-4.166,9.327-9.305,9.327l0,0l0,0V9.328l0,0c0,2.575-2.083,4.664-4.653,4.664c-2.569,0-4.652-2.088-4.652-4.664l0,0l0,0v9.327H9.305l0,0C4.166,18.655,0,22.831,0,27.982l0,0v111.926l0,0c0,5.151,4.166,9.327,9.305,9.327s9.305-4.176,9.305-9.327l0,0v-9.327h226.884l0,0c5.139,0,9.305-4.176,9.305-9.327V9.328z M9.305,37.309c5.139,0,9.305-4.176,9.305-9.328l0,0c0-2.576-2.083-4.664-4.653-4.664c-2.569,0-4.652,2.088-4.652,4.664l0,0V37.309z"],strokes:["M0,27.982c0-5.151,4.166-9.327,9.305-9.327l0,0l0,0h226.883V9.328l0,0c0-5.151,4.166-9.328,9.306-9.328c5.139,0,9.305,4.176,9.305,9.328l0,0l0,0v111.926l0,0c0,5.151-4.166,9.327-9.305,9.327l0,0l0,0H18.61v9.327l0,0c0,5.151-4.166,9.327-9.305,9.327S0,145.059,0,139.908l0,0V27.982z M236.188,18.655h9.306l0,0c5.139,0,9.305-4.176,9.305-9.328 M245.494,18.655V9.328l0,0c0,2.575-2.083,4.664-4.653,4.664c-2.569,0-4.652-2.088-4.652-4.664l0,0 M9.305,37.309v-9.327c0-2.576,2.083-4.664,4.652-4.664c2.57,0,4.653,2.088,4.653,4.664l0,0l0,0C18.61,33.133,14.444,37.309,9.305,37.309S0,33.133,0,27.982l0,0 M18.61,27.982v102.599"],width:257,height:151},b}(rg);Ke.register("tranpaper",wg,"advshape");var xg=function(a,b){if(a in b)return a;a=a.charAt(0).toUpperCase()+a.substr(1);for(var c=(id.join(a+" ")+a).split(" "),d=-1,e=c.length;++d<e;)if((a=c[d])in b)return a;return null},yg=xg("requestAnimationFrame",a),zg=xg("cancelAnimationFrame",a)||xg("cancelRequestAnimationFrame",a),Ag=yg?a[yg]:null,Bg=zg?a[zg]:null,Cg=function(c){function e(){var a=this;c.call(this),this.running=!1,this.paused=!1,this._justActived=!1,this._lastTickTime=0,this._children=[],this.currentTime=0,this.frames=0,this._locked=!1,this._fixTickTime=0,this._nextTickTime=0,this._interval=250,this._originalInterval=1e3/60,this._rafId=null,this._asap=!1,this._usingRaf=!1,this._updateCallback=function(){a.update()}}return Uc(e,c),e.prototype.run=function(){this.running?this.resume():(this.running=!0,this.resume(),this._tick())},e.prototype.resume=function(){!this.paused&&this.running?this._lastTickTime=Date.now():this._justActived=!0,this.paused&&(this.paused=!1)},e.prototype.pause=function(){this.paused||(this.paused=!0)},e.prototype.stop=function(){this.pause(),this.running&&(this.running=!1)},e.prototype.add=function(a){var b=this._children;a&&b.indexOf(a)<0&&(b.push(a),this.interval=this._originalInterval)},e.prototype.remove=function(a){var b=this._children,c=b.indexOf(a);c>=0&&(this._locked?b[c]=null:b.splice(c,1))},e.prototype.update=function(){if(!this.paused){++this.frames,this._asap=!1;var a=Date.now(),b=a-this._lastTickTime;this._lastTickTime=this._fixTickTime=a;var c=b>=this._interval?b-this._interval:0;this._nextTickTime=c>=this._interval?4:this._interval-c,this._justActived&&(b=0,this._justActived=!1),a=this.currentTime+=b,this._locked=!0;for(var d=this._children,e=-1,f=d.length;++e<f;){var g=d[e];g?g.update(a):(d.splice(e--,1),--f)}this._locked=!1,d.length||(this._interval=250),this._tick()}},d(e.prototype,"interval",{set:function(a){if(this._originalInterval=a,this._interval!==a){{this._interval}if(this._interval=a,!this._locked&&null!=this._rafId&&(this._asap?(this._asap=!1,pd(this._rafId),this._rafId=null):this._usingRaf?Bg&&(Bg(this._rafId),this._rafId=null):(ld(this._rafId),this._rafId=null),null==this._rafId)){var b=Date.now()-this._lastTickTime;b>=this._interval?(this._asap=!0,this._rafId=od(this._updateCallback)):(this._fixTime(),this._tick())}}},enumerable:!0,configurable:!0}),e.prototype._fixTime=function(){var a=Date.now(),b=a-this._fixTickTime;
this._fixTickTime=a,a=this._interval;var c=b>=a?b-a:b;this._nextTickTime=c>=a?4:a-c},e.prototype._tick=function(){this.running&&(Ag&&this._interval===1e3/60?(this._usingRaf=!0,this._rafId=Ag(this._updateCallback)):(this._usingRaf=!1,this._rafId=kd(this._updateCallback,this._nextTickTime)))},e.getInstance=function(){if(!this.instance){var c=this.instance=new e,d=xg("hidden",b),f=d?(/H/.test(d)?d.substr(0,d.indexOf("H")):"")+"visibilitychange":null;"onpageshow"in a&&"onpagehide"in a&&a.addEventListener("pageshow",function(){c.stop(),c.run()},!1),d&&f&&b.addEventListener(f,function(){b[d]||(c.stop(),c.run())},!1),c.run()}return this.instance},e.instance=null,e}(Tc);Rc.Ticker=Cg;var Dg=function(a){function c(b,d){a.call(this),this.context=d,this._flags=0,this._accelerate=c.defaultAccelerate,this._deferred=!1,this._x=0,this._y=0,this._tx=0,this._ty=0,this._tz=0,this._sx=1,this._sy=1,this._scaleX=1,this._scaleY=1,this._scaleZ=1,this._rotation=0,this._rotationX=0,this._rotationY=0,this._skewX=0,this._skewY=0,this._p=0,this._originX=.5,this._originY=.5,this._originZ=0,this._dirty=!1,this._originDirty=!1,this._el=b,b[Eg]=this}return Uc(c,a),d(c.prototype,"el",{get:function(){return this._el},enumerable:!0,configurable:!0}),d(c.prototype,"accelerate",{get:function(){return this._accelerate},set:function(a){this._accelerate!==a&&(this._accelerate=a,this.update())},enumerable:!0,configurable:!0}),d(c.prototype,"deferred",{get:function(){return this._deferred},set:function(a){this._deferred!==a&&(this._deferred=a,a||(this._dirty&&this.update(),this._originDirty&&this.updateOrigin()))},enumerable:!0,configurable:!0}),d(c.prototype,"tx",{get:function(){return this._tx},set:function(a){var b=this._tx;b!==a&&(this._tx=a,this.update(),this.notifyPropertyChange("tx",b))},enumerable:!0,configurable:!0}),d(c.prototype,"ty",{get:function(){return this._ty},set:function(a){var b=this._ty;b!==a&&(this._ty=a,this.update(),this.notifyPropertyChange("ty",b))},enumerable:!0,configurable:!0}),d(c.prototype,"tz",{get:function(){return this._tz},set:function(a){var b=this._tz;b!==a&&(this._tz=a,a?this._flags|=16:this._flags&=-17,this.update(),this.notifyPropertyChange("tz",b))},enumerable:!0,configurable:!0}),d(c.prototype,"scaleX",{get:function(){return this._scaleX},set:function(a){var b=this._scaleX;b!==a&&(this._scaleX=a,this.update(),this.notifyPropertyChange("scaleX",b))},enumerable:!0,configurable:!0}),d(c.prototype,"scaleY",{get:function(){return this._scaleY},set:function(a){var b=this._scaleY;b!==a&&(this._scaleY=a,this.update(),this.notifyPropertyChange("scaleY",b))},enumerable:!0,configurable:!0}),d(c.prototype,"scaleZ",{get:function(){return this._scaleZ},set:function(a){var b=this._scaleZ;b!==a&&(this._scaleZ=a,1!==a?this._flags|=2:this._flags&=-3,this.update(),this.notifyPropertyChange("scaleZ",b))},enumerable:!0,configurable:!0}),d(c.prototype,"rotation",{get:function(){return this._rotation},set:function(a){var b=this._rotation;b!==a&&(this._rotation=a,this.update(),this.notifyPropertyChange("rotation",b))},enumerable:!0,configurable:!0}),d(c.prototype,"rotationX",{get:function(){return this._rotationX},set:function(a){var b=this._rotationX;b!==a&&(this._rotationX=a,1!==a?this._flags|=4:this._flags&=-5,this.update(),this.notifyPropertyChange("rotationX",b))},enumerable:!0,configurable:!0}),d(c.prototype,"rotationY",{get:function(){return this._rotationY},set:function(a){var b=this._rotationY;b!==a&&(this._rotationY=a,1!==a?this._flags|=8:this._flags&=-9,this.update(),this.notifyPropertyChange("rotationY",b))},enumerable:!0,configurable:!0}),d(c.prototype,"skewX",{get:function(){return this._skewX},set:function(a){var b=this._skewX;b!==a&&(this._skewX=a,this.update(),this.notifyPropertyChange("skewX",b))},enumerable:!0,configurable:!0}),d(c.prototype,"skewY",{get:function(){return this._skewY},set:function(a){var b=this._skewY;b!==a&&(this._skewY=a,this.update(),this.notifyPropertyChange("skewY",b))},enumerable:!0,configurable:!0}),d(c.prototype,"p",{get:function(){return this._p},set:function(a){var b=this._p;b!==a&&(this._p=a,a?this._flags|=1:this._flags&=-2,this.update(),this.notifyPropertyChange("p",b))},enumerable:!0,configurable:!0}),d(c.prototype,"originX",{get:function(){return this._originX},set:function(a){var b=this._originX;b!==a&&(this._originX=a,this.updateOrigin(),this.notifyPropertyChange("originX",b))},enumerable:!0,configurable:!0}),d(c.prototype,"originY",{get:function(){return this._originY},set:function(a){var b=this._originY;b!==a&&(this._originY=a,this.updateOrigin(),this.notifyPropertyChange("originY",b))},enumerable:!0,configurable:!0}),d(c.prototype,"originZ",{get:function(){return this._originZ},set:function(a){var b=this._originZ;b!==a&&(this._originZ=a,this.updateOrigin(),this.notifyPropertyChange("originZ",b))},enumerable:!0,configurable:!0}),c.prototype.notifyPropertyChange=function(){},c.prototype.update=function(){this._deferred?this._dirty=!0:(this._dirty=!1,this.context&&this.context.onTransformUpdate(),this._el.style[zf]=this._flags&&Cf?c.resolve3d(this):c.resolve2d(this,this._accelerate))},c.prototype.updateOrigin=function(){this._deferred?this._originDirty=!0:(this._originDirty=!1,this._el.style[Af]=100*this._originX+"% "+100*this._originY+"% "+(this._originZ&&Cf?this._originZ+"px":""))},c.prototype.destroy=function(){this._el=this.context=null},c.prototype.clone=function(a){var b=c.KEYWORDS_LIST,d=this._deferred;this.deferred=!0;for(var e=-1,f=b.length;++e<f;){var g=b[e];this[g]=a[g]}return this.deferred=d,this},c.resolve2d=function(a,b){var c=a._x+a._tx,d=a._y+a._ty,e="translate("+c+"px,"+d+"px)";return b&&Cf&&(e+=" translateZ("+a._tz+"px)"),a._rotation%360&&(e+=" rotate("+a._rotation+"deg)"),(a._skewX%360||a._skewY%360)&&(e+=" skew("+a._skewX+"deg,"+a._skewY+"deg)"),c=a._scaleX*a._sx,d=a._scaleY*a._sy,(1!==c||1!==d)&&(e+=" scale("+c+","+d+")"),e},c.resolve3d=function(a){var b=(a._p?"perspective("+a._p+"px)":"")+" translate3d("+(a._x+a._tx)+"px,"+(a._y+a._ty)+"px,"+a._tz+"px)";a._rotationX%360&&(b+=" rotateX("+a._rotationX+"deg)"),a._rotationY%360&&(b+=" rotateY("+a._rotationY+"deg)"),a._rotation%360&&(b+=" rotateZ("+a._rotation+"deg)"),(a._skewX%360||a._skewY%360)&&(b+=" skew("+a._skewX+"deg,"+a._skewY+"deg)");var c=a._scaleX*a._sx,d=a._scaleY*a._sy;return(1!==c||1!==d||1!==a._scaleZ)&&(b+=" scale3d("+c+","+d+","+a._scaleZ+")"),b},c.transform=function(a){var d=a[Eg];if(d)return d;d=a[Eg]=new c(a);var e=wh(a,Af);if(e&&"none"!==e)for(var f=e.split(" "),g=-1,h=f.length;++g<h;){var i=f[g];if(2>g){var j=.5;"%"===i.substr(i.length-1)?j=parseFloat(i)/100:(j=parseFloat(i)/(g?Jd(a):Gd(a)),0===j||j||(j=.5)),g?d._originY=j:d._originX=j}else d._originZ=parseFloat(i)}if(e=wh(a,zf),!e||"none"===e)return d;if(!Gg.test(e)){c._transformEl||(c._transformEl=b.createElement("div"));var k=c._transformEl;k.style.cssText="position:absolute;left:0;top:0;visibility:hidden;width:0;height:0;overflow:hidden;",k.style[zf]=e,b.body.appendChild(k),e=wh(k,"transform"),b.body.removeChild(k),k=null}return c.parse(e,d)},c.parse=function(a,b){a&&"none"!==a||(a="");var d=b._deferred;b._deferred=!0;var e=(a.replace("3d","").match(Fg)||[]).map(function(a){return+a});16===e.length?Eb(e,b):Db(e,b);var f=fe;b.skewY=0;for(var g=c.INNER_KEYWORDS_LIST,h=-1,i=g.length;++h<i;){var j=g[h],k=b[j];b[j]=f>k&&k>-f?0:~~(1e7*k)/1e7}var l=0;return 0!==b._p&&(l=1),1!==b._scaleZ&&(l|=2),0!==b._rotationX&&(l|=4),0!==b._rotationY&&(l|=8),0!==b._tz&&(l|=16),b._flags=l,b._accelerate=!!l||16===e.length,b._deferred=d,b},c.KEYWORDS_LIST="tx ty tz scaleX scaleY scaleZ rotation rotationX rotationY skewX skewY p originX originY originZ".split(" "),c.KEYWORDS=g(c.KEYWORDS_LIST),c.INNER_KEYWORDS_LIST=("_"+c.KEYWORDS_LIST).replace(/ /g," _").split(" "),c.defaultAccelerate=!1,c._transformEl=null,c}(Tc),Eg="__leo_transform__",Fg=/(?:\-|\b)([\d\-\.e]+)/gi,Gg=/^matrix(?:3d)?\([^)]+\)$/,Hg=b.contains?function(a,b){return a.contains(b)}:function(a,b){return!!(16&a.compareDocumentPosition(b))},Ig={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Jg={},Kg=function(a){var b=a.indexOf(":"),c=a;b>=0&&(c=a.substr(0,b),a=a.substr(b+1));var d=Jg;return d.space=Ig[c],d.local=a,d},Lg=function(a,c){var d=Kg(a);a=d.local,d.space&&(c=d.space);var e=c?b.createElementNS(c,a):b.createElement(a);return"svg"===a&&(e.setAttribute("xmlns",d.space),e.setAttribute("xmlns:xlink",Ig.xlink),e.setAttribute("version","1.1")),e},Mg=/^(?:mouse|contextmenu)|click|tap|touch|pointer/,Ng={},Og=function(a,b,c,d){for(var e=b,f=Hb(a),g=Ng[f]||(Ng[f]={}),h=Qg,i=Pg,j=b;e;){var k=i(a,e,c,d);if(g[k])return;var l=h[e];e=null,l&&(l.bind&&(c=l.bind(a,c)),l.type&&(e=b=l.type)),g[k]=c}var m=c;Mg.test(j)&&(m=function(a){var b=a instanceof Ih?a:Ih.delegate(a);c.call(this,b),Ih.recycle(b)},g[k]=m,m[Ug]=c[Ug]),a.addEventListener(b,m,!1)},Pg=function(a,b,c,d){var e,f,g=Ug;return(e=a[g])||(e=a[g]=Tg++),(f=c[g])||(f=c[g]=Tg++),e+"_"+b+"_"+f+(d?"_$":"")},Qg={};"onmouseenter"in hd||Gb({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){Qg[b]={type:a,bind:function(a,c){return function(d){var e=d.relatedTarget;(!e||e!==a&&!Hg(a,e))&&(d._type=b,c.call(a,d))}}}}),"keypress keydown keyup".replace(/\w+/g,function(a){Qg[a]={bind:function(a,b){return function(c){var d=c instanceof Hh?c:Hh.delegate(c);b.call(a,d),Hh.recycle(d)}}}}),hd.onmousewheel===c&&(Qg.mousewheel={type:"wheel",bind:function(a,b){return function(c){c.wheelDeltaY=c.wheelDelta=c._originalEvent.deltaY>0?-120:120,c._type="mousewheel",b.call(a,c)}}});var Rg=function(a,b,c,d){if(a[Ug]&&c[Ug]){var e,f=Hb(a),g=b,h=Ng[f],i=Qg,j=Pg;if(h){for(;g;){if(!(e=j(a,g,c,d)))return;var k=i[g];if(g=null,!h[e])return;k&&(k.unbind&&k.unbind(a,c),k.type&&(g=b=k.type)),c=h[e],delete h[e]}Kc(h)&&delete Ng[f],a.removeEventListener(b,c,!1)}}},Sg=function(a,b){var c=a[Ug];if(c&&Ng[c]){var d=Ng[c],e=function(){},f=Ug,g=Rg;for(var h in d){var i=h.split("_"),j=i[1];e[f]=i[2],i[3]||b&&b!==j||g(a,j,e)}}},Tg=1,Ug="__event_guid__",Vg=function(a,b,c){var d=function(d){Rg(a,b,c),c.call(a,d)},e=Ug;c[e]||(c[e]=Tg++),d[e]=c[e],Og(a,b,d)};if(yf){var Wg={};Gb({tapstart:["mousedown","touchstart"],tapmove:["mousemove","touchmove"],tapend:["mouseup","touchend"],tapcancel:["mouseleave","touchcancel"]},function(a,b){var c=a[1],d=a[0];Qg[c]={bind:function(a,b){return function(c){return b.call(a,Ib(a,c))}}},Qg[b]={type:d,bind:function(a,d){var e=function(c){c._type=b,d.call(a,c)};return Jb(a,c,Pg(a,b,d),e),e},unbind:function(a,d){Kb(a,c,Pg(a,b,d))}}}),Qg.tap={type:"tapstart",timeThreshold:500,bind:function(a,b){function c(a){i&&a.preventDefault(),j&&a.stopPropagation(),i=!1,j=!1}var d,e,f,g=!1,h=Qg.tap.timeThreshold,i=!1,j=!1;Wg[Pg(a,"tap-click",b)]=c,Og(a,"click",c,!0);var k=Pg(a,"tap-tapend",b),l=function(c){Kb(a,"tapend",k),c.tapStartTime||(c.tapStartTime=d,c.tapStartX=e,c.tapStartY=f);var l=c.timeStamp-d;h>=l&&(c._type="tap",b.call(a,c),j=c._isPropagationStopped,i=c._defaultPrevented),c.tapStartTime=null,g=!1};return function(b){d=event.timeStamp,e=b.pageX,f=b.pageY,g||(g=!0,Og(a,"tapend",Wg[k]=l,!0))}},unbind:function(a,b){Kb(a,"tapend",Pg(a,"tap-tapend",b)),Kb(a,"click",Pg(a,"tap-click",b))}},Qg.doubletap={type:"tap",timeThreshold:500,pixelThreshold:10,bind:function(a,b){var c,d,e,f=0,g=Qg.doubletap.timeThreshold,h=Qg.doubletap.pixelThreshold;return function(i){var j,k,l,m;f>0&&(j=i.tapStartX-d,k=i.tapStartY-e,l=i.tapStartTime-c,m=Math.sqrt(j*j+k*k),(l>g||m>h)&&(f=0)),0===f&&(c=i.tapStartTime,d=i.tapStartX,e=i.tapStartY),f++,2===f&&(f=0,i._type="doubletap",b.call(a,i))}}}}else{var Xg=navigator.msPointerEnabled||navigator.pointerEnabled,Yg=navigator.pointerEnabled?"":"ms";Gb({tapstart:Xg?Yg+"pointerdown":"mousedown",tapmove:Xg?Yg+"pointermove":"mousemove",tapend:Xg?Yg+"pointerup":"mouseup",tap:"click",doubletap:"dblclick"},function(a,b){Qg[b]={type:a,bind:function(a,c){return function(d){d._type=b,c.call(a,d)}}}})}var Zg=function(a,b,c){gh.test(b)||ih.test(b)?Cb(a).appendChild(nh(b,c)):a.innerHTML=b};if(function(){var a=Lg("svg");return a.innerHTML="<rect width='1' height='1' />",!(a.firstChild&&"rect"===(a.firstChild.tagName+"").toLocaleLowerCase())}()){var $g=function(a,b){if(a.childNodes)for(var c=a.childNodes,d=0,e=c.length;e>d;++d){var f=c[d];if(f&&f.tagName){for(var g=Lg("svg:"+f.tagName.toLowerCase),h=f.attributes,i=0,j=h.length;j>i;++i){var k=h[d];k&&g.setAttribute(k.name,k.value)}b.appendChild($g(f,g))}}return b};Object.defineProperties(SVGElement.prototype,{outerHTML:{enumerable:!0,configurable:!0,get:function(){return(new XMLSerializer).serializeToString(this)},set:function(a){var c=this.tagName.toLowerCase(),d=this.parentNode,e=nh(a);"svg"===c?d.insertBefore(e,this):d.insertBefore($g(e,b.createDocumentFragment()),this),d.removeChild(this)}},innerHTML:{enumerable:!0,configurable:!0,get:function(){return this.outerHTML.replace(new RegExp("<"+this.nodeName+'\\b(?:(["\'])[^"]*?(\\1)|[^>])*>',"i"),"").replace(new RegExp("</"+this.nodeName+">$","i"),"")},set:function(a){$g(nh(a),Cb(this))}}})}var _g=hd.matches||hd[xg("matchesSelector",hd)],ah=function(a,b){return _g.call(b,a)},bh=function(a){var b={left:0,top:0},c=a.ownerDocument;if(!c)return b;var d=c.defaultView||c.parentWindow,e=c.documentElement;if(!Hg(e,a))return b;if(a.getBoundingClientRect){var f=a.getBoundingClientRect();b.top=f.top,b.left=f.left}return{top:b.top+d.pageYOffset-e.clientTop,left:b.left+d.pageXOffset-e.clientLeft}},ch=function(a){for(var b=a.offsetParent||hd;b&&"HTML"!==b.tagName&&"static"===wh(b,"position");)b=b.offsetParent;return b||hd},dh=b.createElement("script"),eh=b.createRange(),fh=b.createDocumentFragment(),gh=/<script/i,hh=/<([\w:]+)/,ih=/<(?:tb|td|tf|th|tr|col|opt|leg|cap|area)/,jh=g(["text/javascript"]),kh={"*":b.createElement("div"),option:b.createElement("select"),thead:b.createElement("table"),td:b.createElement("tr"),aera:b.createElement("map"),tr:b.createElement("tbody"),col:b.createElement("colgroup"),legend:b.createElement("fieldset")};kh.optgroup=kh.option,kh.tbody=kh.tfoot=kh.colgroup=kh.caption=kh.thead,kh.th=kh.td;var lh,mh,nh=function(a,c){if(a=(""+a).trim(),eh.createContextualFragment&&!ih.test(a)&&!gh.test(a)){var d=b.createRange();return d.selectNodeContents(hd),d.createContextualFragment(a)}var e=fh.cloneNode(!1),f=(hh.exec(a)||["",""])[1].toLowerCase();kh[f]||(f="*");var g=kh[f];g.innerHTML=a;var h=g.getElementsByTagName("script");if(h.length)for(var i=0,j=h.length;j>i;++i){var k=h[i];if(k&&(!k.type||jh[k.type]))if(c)k.parentNode.removeChild(k);else{var l=dh.cloneNode(!1);Array.prototype.forEach.call(k.attributes,function(a){a&&(l[a.name]=a.value)}),l.text=k.text,k.parentNode.replaceChild(l,k)}}for(var m;m=g.firstChild;)e.appendChild(m);return e},oh=function(a){var b={left:0,top:0};if("fixed"===wh(a,"position"))var c=a.getBoundingClientRect();else{var d=ch(a),c=bh(a);"HTML"!==d.tagName&&(b=bh(d)),b.top+=wh(d,"borderTopWidth",!0),b.left+=wh(d,"borderLeftWidth",!0)}return{top:c.top-b.top-wh(a,"marginTop",!0),left:c.left-b.left-wh(a,"marginLeft",!0)}},ph={BODY:"block"},qh={style:!0,script:!0},rh={br:!0,hr:!0},sh=/^\s$/,th=a.getComputedStyle,uh=function(a){function b(b,c){a.call(this),this.context=c,this._deferred=!1,this._blur=0,this._brightness=1,this._contrast=1,this._grayscale=0,this._hueRotate=0,this._invert=0,this._saturate=1,this._sepia=0,this._dropShadow="",this._dirty=!1,this._el=b,b[vh]=this}return Uc(b,a),d(b.prototype,"el",{get:function(){return this._el},enumerable:!0,configurable:!0}),d(b.prototype,"deferred",{get:function(){return this._deferred},set:function(a){this._deferred!==a&&(this._deferred=a,a||this._dirty&&this.update())},enumerable:!0,configurable:!0}),d(b.prototype,"blur",{get:function(){return this._blur},set:function(a){var b=this._blur;0>a&&(a=0),b!==a&&(this._blur=a,this.update(),this.notifyPropertyChange("blur",b))},enumerable:!0,configurable:!0}),d(b.prototype,"brightness",{get:function(){return this._brightness},set:function(a){var b=this._brightness;b!==a&&(this._brightness=a,this.update(),this.notifyPropertyChange("brightness",b))},enumerable:!0,configurable:!0}),d(b.prototype,"contrast",{get:function(){return this._contrast},set:function(a){var b=this._contrast;0>a&&(a=0),b!==a&&(this._contrast=a,this.update(),this.notifyPropertyChange("contrast",b))},enumerable:!0,configurable:!0}),d(b.prototype,"grayscale",{get:function(){return this._grayscale},set:function(a){var b=this._grayscale;a=Math.max(0,Math.min(1,a)),b!==a&&(this._grayscale=a,this.update(),this.notifyPropertyChange("grayscale",b))},enumerable:!0,configurable:!0}),d(b.prototype,"hueRotate",{get:function(){return this._hueRotate},set:function(a){var b=this._hueRotate;b!==a&&(this._hueRotate=a,this.update(),this.notifyPropertyChange("hueRotate",b))},enumerable:!0,configurable:!0}),d(b.prototype,"invert",{get:function(){return this._invert},set:function(a){var b=this._invert;a=Math.max(0,Math.min(1,a)),b!==a&&(this._invert=a,this.update(),this.notifyPropertyChange("invert",b))},enumerable:!0,configurable:!0}),d(b.prototype,"saturate",{get:function(){return this._saturate},set:function(a){var b=this._saturate;0>a&&(a=0),b!==a&&(this._saturate=a,this.update(),this.notifyPropertyChange("saturate",b))},enumerable:!0,configurable:!0}),d(b.prototype,"sepia",{get:function(){return this._sepia},set:function(a){var b=this._sepia;a=Math.max(0,Math.min(1,a)),b!==a&&(this._sepia=a,this.update(),this.notifyPropertyChange("sepia",b))},enumerable:!0,configurable:!0}),d(b.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(a){var b=this._dropShadow;a!==b&&(this._dropShadow=a,this.update(),this.notifyPropertyChange("dropShadow",b))},enumerable:!0,configurable:!0}),b.prototype.notifyPropertyChange=function(){},b.prototype.update=function(){this._deferred?this._dirty=!0:(this._el.style.webkitFilter=b.resolve(this),this._dirty=!1)},b.prototype.reset=function(){this.blur=0,this.brightness=1,this.contrast=1,this.grayscale=0,this.hueRotate=0,this.invert=0,this.saturate=1,this.sepia=0,this.dropShadow=""},b.prototype.destroy=function(){this._el=this.context=null},b.resolve=function(a){var b=a._blur?"blur("+a._blur+"px)":"";return 1!==a._brightness&&(b+=" brightness("+a._brightness+")"),1!==a._contrast&&(b+=" contrast("+a._contrast+")"),a._grayscale&&(b+=" grayscale("+a._grayscale+")"),a._hueRotate&&(b+=" hue-rotate("+a._hueRotate+"deg)"),a._invert&&(b+=" invert("+a._invert+")"),1!==a._saturate&&(b+=" saturate("+a._saturate+")"),a._sepia&&(b+=" sepia("+a._sepia+")"),a._dropShadow&&(b+=" drop-shadow("+a._dropShadow+")"),b},b.filter=function(a){var c=a[vh];return c?c:b.parse(wh(a,"webkitFilter"),a[vh]=new b(a))},b.parse=function(a,b){a&&"none"!==a||(a="");var c=b._deferred;b._deferred=!0;for(var d=Oc(a," ",!0),e=-1,f=d.length;++e<f;){var g=d[e],h=g.indexOf("(");if(h>=0){var i=g.substr(0,h);"hue-rotate"===i&&(i="hueRotate");var j=g.substr(h+1,g.length-1);"drop-shadow"===i?b.dropShadow=j:(i="_"+i,b[i]="%"===j.charAt(j.length-1)?parseFloat(j)/100:parseFloat(j))}}return b._deferred=c,b},b.KEYWORDS_LIST="blur brightness contrast grayscale hueRotate invert saturate sepia dropShadow".split(" "),b.KEYWORDS=g(b.KEYWORDS_LIST),b}(Tc),vh="__leo_filters__",wh=function(a,b,c){var d,e=yh[b];return b=wf(b)||b,d=e&&e.get?e.get(a,b):Wb(a,b),c?parseFloat(d)||0:d},xh=g("columnCount,order,fillOpacity,fontWeight,lineHeight,opacity,orphans,widows,zIndex,zoom".split(",")),yh={opacity:{get:function(a){var b=Wb(a,"opacity");return b?b:"1"}},width:{get:function(a){var b=Wb(a,"width")||"";return/px$/.test(b)?b:Gd(a)+"px"}},height:{get:function(a){var b=Wb(a,"height")||"";return/px$/.test(b)?b:Jd(a)+"px"}}};"top,left".replace(/\w+/g,function(a){yh[a]={get:function(b){var c=Wb(b,a)||"";return/px$/.test(c)?c:oh(b)[a]+"px"}}});var zh=function(a,b,c){var d=yh[b];!c&&0!==c||!isFinite(c)||xh[b]||(c+="px"),d&&d.set?d.set(a,c,b):a.style[wf(b)||b]=c+""},Ah=function(a,b,c){var d=yh[b];d&&d.set?d.set(a,c,b):a.style[b]=c+""},Bh=function(a,b,c){if(!(arguments.length<3))return"boolean"==typeof c?wh(a,b,c):void zh(a,b,c);if("string"==typeof b)return wh(a,b,!1);for(var d in b)zh(a,d,b[d])};Dg.KEYWORDS_LIST.forEach(function(a){yh[a]={get:function(b){var c=Dg.transform(b);return c[a]},set:function(b,c){var d=Dg.transform(b),e=+c;(0===e||e)&&(d[a]=e)}}}),Xb(xh,Dg.KEYWORDS);var Ch=function(a){function b(b,c,d){"undefined"==typeof c&&(c=!1),"undefined"==typeof d&&(d=!1),a.call(this),this.data=null,this.reinitialize(b,c,d)}return Uc(b,a),d(b.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),d(b.prototype,"bubbles",{get:function(){return this._bubbles},enumerable:!0,configurable:!0}),d(b.prototype,"cancelable",{get:function(){return this._cancelable},enumerable:!0,configurable:!0}),d(b.prototype,"timeStamp",{get:function(){return this._timeStamp},enumerable:!0,configurable:!0}),d(b.prototype,"eventPhase",{get:function(){return this._eventPhase},enumerable:!0,configurable:!0}),d(b.prototype,"currentTarget",{get:function(){return this._currentTarget},enumerable:!0,configurable:!0}),b.prototype._setCurrentTarget=function(a){this._currentTarget=a},d(b.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),b.prototype.isDefaultPrevented=function(){return this._defaultPrevented},b.prototype.preventDefault=function(){this._cancelable&&(this._defaultPrevented=!0)},b.prototype.isPropagationStopped=function(){return this._isPropagationStopped},b.prototype.stopPropagation=function(){this._bubbles&&(this._isPropagationStopped=!0)},b.prototype.isImmediatePropagationStopped=function(){return this._isImmediatePropagationStopped},b.prototype.stopImmediatePropagation=function(){this._bubbles&&(this._isImmediatePropagationStopped=!0)},b.prototype.reinitialize=function(a,b,c){this._type=a,this._bubbles=b,this._cancelable=c,this._defaultPrevented=!1,this._isPropagationStopped=!1,this._isImmediatePropagationStopped=!1,this._target=null,this._currentTarget=null,this._eventPhase=2,this._timeStamp=Date.now()},b.prototype.destructor=function(){this._target=null,this._currentTarget=null,this.data=null},b.getEventInstance=function(a,b,c,d,e){"undefined"==typeof c&&(c=!1),"undefined"==typeof d&&(d=!1),a.getPooled||oi.addPoolingTo(a,oi.THREE_ARGUMENTS);var f=a.getPooled(b,c,d);return null!=e&&(f.data=e),f},b.dispatchEvent=function(a,c,d,e){"undefined"==typeof d&&(d=!1);var f=b.getEventInstance(b,c,d,!1,e),g=a.dispatchEvent(f);return b.recycle(f),g},b}(Tc),Dh=function(a){function b(b,c,d){a.call(this,b,c,d),this.ctrlKey=!1,this.shiftKey=!1,this.altKey=!1,this.which=null,this.relatedTarget=null,this.srcElement=null,this._originalEvent=null}return Uc(b,a),d(b.prototype,"originalEvent",{get:function(){return this._originalEvent},enumerable:!0,configurable:!0}),b.prototype.preventDefault=function(){a.prototype.preventDefault.call(this),this._originalEvent.preventDefault()},b.prototype.stopPropagation=function(){a.prototype.stopPropagation.call(this),this._originalEvent.stopPropagation()},b.prototype.stopImmediatePropagation=function(){a.prototype.stopImmediatePropagation.call(this),this._originalEvent.stopImmediatePropagation&&this._originalEvent.stopImmediatePropagation()},b.prototype.destructor=function(){a.prototype.destructor.call(this),this._originalEvent=null,this.relatedTarget=null,this.srcElement=null},b._injectProperties=function(a,b){return a.ctrlKey=b.ctrlKey,a.shiftKey=b.shiftKey,a.altKey=b.altKey,a._target=b.target,a._setCurrentTarget(b.currentTarget),a.which=b.which,a.relatedTarget=b.relatedTarget,a.srcElement=b.srcElement,a._originalEvent=b,a},b.dispatchDOMEvent=function(a,c,d){var e=b.delegate(c,d),f=a.dispatchEvent(e);return b.recycle(e),f},b.delegate=function(a,b){var c=this.getEventInstance(this,a.type,a.bubbles,a.cancelable,b);return this._injectProperties(c,a)},b}(Ch),Eh=function(){function a(){}return a.TAP="tap",a.TAP_START="tapstart",a.TAP_MOVE="tapmove",a.TAP_END="tapend",a.TAP_CANCEL="mouseleave",a.DOUBLE_TAP="doubletap",a.MOUSE_ENTER="mouseenter",a.MOUSE_LEAVE="mouseleave",a.MOUSE_SCROLL="mousewheel",a.KEY_DOWN="keydown",a.KEY_PRESS="keypress",a.KEY_UP="keyup",a}(),Fh=g("mousemove mousedown mouseup click dblclick contextmenu touchstart touchend touchmove touchcancel");Object.keys(Eh).forEach(function(a){Fh[Eh[a]]=!0});var Gh=function(){function a(){}return a.CHILD_ADDED="childAdd",a.CHILD_REMOVED="childRemove",a.ENTER_STAGE="enterStage",a.LEAVE_STAGE="leaveStage",a}(),Hh=function(a){function b(b,c,d){a.call(this,b,c,d),this.char=null,this.charCode=null,this.key=null,this.keyCode=null,this.keyName=null}return Uc(b,a),b.keyName=function(a){return this.keyMap[a]||String.fromCharCode(a)},b._injectProperties=function(a,b){return a=Dh._injectProperties(a,b),a.char=b.char,a.charCode=b.charCode,a.key=b.key,a.keyCode=b.keyCode,null==a.which&&(a.which=null!=a.charCode?a.charCode:a.keyCode),a.keyName=this.keyName(a.which),a},b.keyMap={8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",27:"ESCAPE",32:"SPACE",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN"},b}(Dh),Ih=function(a){function b(b,c,d){a.call(this,b,c,d),this.pageX=0,this.pageY=0,this.clientX=0,this.clientY=0,this.wheelDelta=0,this.wheelDeltaY=0,this.button=-1,this.toElement=null}return Uc(b,a),b.prototype.destructor=function(){a.prototype.destructor.call(this),this.toElement=null,this.button=-1},b._injectProperties=function(a,b){return a=Dh._injectProperties(a,b),a.wheelDelta=b.wheelDelta,a.wheelDeltaY=b.wheelDeltaY,a.pageX=b.pageX,a.pageY=b.pageY,a.clientX=b.clientX,a.clientY=b.clientY,a.button=b.button,a.toElement=b.toElement,a},b}(Dh),Jh=function(a){function b(b,c,d){a.call(this,b,c,d),this.oldValue=null}return Uc(b,a),b.getInstance=function(a,c){var d=b.getEventInstance(b,a,!1,!1);return d.oldValue=c,d},b.dispatchPropertyChangeEvent=function(a,c,d){if(a.hasEventListener(c+="Change")){var e=b.getInstance(name,d);e._setCurrentTarget(e._target=a),a.dispatchEvent(e),b.recycle(e)}},b}(Ch),Kh=function(a){function b(){a.call(this),this._packages=[],this._packageMap={},this.paused=!1,this._currentPackage=null,this._handler=null}return Uc(b,a),b.prototype.load=function(a,b,c,d){return d=this._add(a,b,c,d,0),this._load(),d},d(b.prototype,"current",{get:function(){return this._currentPackage&&this._currentPackage.id},enumerable:!0,configurable:!0}),b.prototype.contains=function(a){return null!=this._packageMap[a]||this.current===a},b.prototype.remove=function(a){if(this.current===a)this._currentPackage=null,this._load();else if(this.contains(a)){var b=this._packageMap[a],c=this._packages.indexOf(this._packageMap[a]);return c>=0&&this._packages.splice(c,1),delete this._packageMap[a],b}return null},b.prototype.push=function(a,b,c,d){var d=this._add(a,b,c,d,this._packages.length);return this._currentPackage||this._load(),d},b.prototype.pause=function(){return this.paused||(this.paused=!0,this._handler&&(nd(this._handler),this._handler=null)),this},b.prototype.resume=function(){return this.paused&&(this.paused=!1,this._startLoading()),this},b.prototype._pack=function(a,b,c,d){return{id:d,next:0,loaded:0,error:0,total:a.length,cells:a,oncomplete:b,onprogress:c}},b.prototype._add=function(a,b,c,d,e){d=d||w(),this.contains(d)&&this.remove(d);var f={id:d,next:0,loaded:0,error:0,total:a.length,cells:a,oncomplete:b,onprogress:c};return this._packages.splice(e,0,this._packageMap[f.id]=f),d},b.prototype._load=function(){var a=this._currentPackage;this._currentPackage=this._packages[0],this._currentPackage?(delete this._packageMap[this._currentPackage.id],this._packages.splice(0,1),a&&this._packages.splice(0,0,this._packageMap[a.id]=a)):this._currentPackage=a,this._startLoading()},b.prototype._startLoading=function(){var a=this;this._handler&&(nd(this._handler),this._handler=null),this._currentPackage&&(this.dispatchSimpleEvent("start",this._currentPackage),this._handler=md(function(){var c=a._currentPackage;c.next<c.total&&c.next-c.loaded<b.THRESHOLD?a._loadCell(c.next++):c.loaded===c.total&&a._oncomplete()},b.INTERVAL))},b.prototype._loadCell=function(){},b.prototype._oncomplete=function(){var a=this._currentPackage;this._currentPackage=null,this._load(),a.oncomplete&&a.oncomplete.call(null,a),this.dispatchSimpleEvent("complete",a)},b.INTERVAL=16.667,b.THRESHOLD=60,b}(Vc),Lh=function(a){function b(){a.call(this)}return Uc(b,a),b.prototype._loadCell=function(a){var b=this,c=this._currentPackage,d=c.cells[a],e=d.target,f=function(){e.removeEventListener("load",f,e),++c.loaded,4===e.readyState&&++c.error,c.onprogress&&c.onprogress.call(null,c),b.dispatchSimpleEvent("progress",c)};e.addEventListener("load",f,e),e.readyState?e.readyState>=2&&f():e.load(d.data)},b.getInstance=function(){return b.instance||(b.instance=new b),b.instance},b.instance=null,b}(Kh),Mh=function(){function a(b){this._progress=0,this._animations=new Array(2),this._state=0,this._showHideAnimation=null,this.isStarted=!1,this.options=Xb({},a.DEFAULT_OPTIONS,b);this.options.container;this._wrapper=bi("div").addClass("leo-progress-wrapper"),this._bar=ci("<div class='leo-progress-bar'><div class='leo-progress-bar--inner'></div></div>").appendTo(this._wrapper)[0],this._spin=ci("<div class='leo-progress-spin'><div class='leo-progress-spin--inner'></div></div>").appendTo(this._wrapper)[0]}return a.prototype.setContainer=function(a){ai(a).append(this._bar).append(this._spin)},d(a.prototype,"progress",{get:function(){return this._progress},set:function(a){this._progress=a,this.render(a)},enumerable:!0,configurable:!0}),a.prototype.render=function(a){this._bar.style.width=100*a+"%"},a.prototype.destroy=function(){this._animations.forEach(function(a){a&&a.destroy()}),this._animations=null,this._showHideAnimation&&(this._showHideAnimation.destroy(),this._showHideAnimation=null),this._wrapper.remove(),this._wrapper=null,this._bar=null,this._spin=null,this.options=null},a.prototype._showHide=function(a){var b=this,c=this._state;(a&&2>c||!a&&c>1)&&(this._showHideAnimation&&this._showHideAnimation.stop(!1,!0),a&&!c&&this._wrapper.appendTo(this.options.container).style({display:"none",opacity:0}),this._state=a?2:1,this._showHideAnimation=ad.to(this._wrapper[0],400,{display:a?"":"none",opacity:a?1:0}),this._showHideAnimation.addEventListener("end",function(){b._showHideAnimation=null,b._state=a?3:0,a||(b._stopSpin(),b.isStarted=!1,b._progress=0,b._wrapper.remove())},null))},a.prototype.start=function(){return this.isStarted||(this.isStarted=!0,this._showHide(!0),2&this.options.type&&this._startSpin(),this.trikle()),this},a.prototype.restart=function(){return this.start(),this.set(0,!0)},a.prototype._animateBarTo=function(a){var b=this,c=this._animations;c[0]&&c[0].stop(!1,!0),c[0]=ad.to(this,this.options.speed,{progress:yc(a,0,1)},{easing:"swing"}),c[0].addEventListener("end",function(){b._animations[0]=null,1===b._progress?b.options.autoDone&&b.done():b.isStarted&&b.trikle()},null)},a.prototype._startSpin=function(){this._animations[1]||(this._animations[1]=ad.to(this._spin,400,{rotation:"+=360"},{repeat:-1,easing:"linear"}))},a.prototype._stopSpin=function(){this._animations[1]&&(this._animations[1].destroy(),this._animations[1]=null)},a.prototype.set=function(a,b){return this._progress!==a&&(this._showHide(!0),2&this.options.type&&this._startSpin(),(b||!this.options.onlyForward||this._progress<a)&&this._animateBarTo(a)),this},a.prototype.inc=function(a){return this.set(yc(this._progress+this._getAmount(a),0,.994))},a.prototype._getAmount=function(a){var b=this._progress;if(null==a)var a=(1-b)*yc(Math.random(),.1,.95);return a},a.prototype.trikle=function(){return this.options.trikleRatio?this.inc(Math.random()*this.options.trikleRatio):this},a.prototype.done=function(){var a=this;if(this._state){if(1!==this._progress){this._animateBarTo(1);var b=this._animations;if(b[0])return void b[0].addEventListener("end",function(){a._showHide(!1)},null,-1/0)}this._showHide(!1)}},a.DEFAULT_OPTIONS={speed:200,trikleRatio:.02,autoDone:!0,onlyForward:!0,container:"body",type:3},a
}(),Nh=function(a){function b(b,c,d,e,f,g){"undefined"==typeof b&&(b=1),"undefined"==typeof c&&(c=0),"undefined"==typeof d&&(d=0),"undefined"==typeof e&&(e=1),"undefined"==typeof f&&(f=0),"undefined"==typeof g&&(g=0),a.call(this),this.a=b,this.b=c,this.c=d,this.d=e,this.tx=f,this.ty=g}return Uc(b,a),b.prototype.append=function(a,b,c,d,e,f){var g=this.a,h=this.b,i=this.c,j=this.d;return(1!==a||0!==b||0!==c||1!==d)&&(this.a=g*a+i*b,this.b=h*a+j*b,this.c=g*c+i*d,this.d=h*c+j*d),this.tx+=g*e+i*f,this.ty+=h*e+j*f,this},b.prototype.appendMatrix=function(a){return this.append(a.a,a.b,a.c,a.d,a.tx,a.ty)},b.prototype._multiplyTransform=function(a,b,c,d,e,f,g,h,i){var j=1,k=0;if(e%360){var l=e*de;j=Math.cos(l),k=Math.sin(l)}(h||i)&&(this.tx+=h,this.ty+=i);var m=j*c,n=k*c,o=-k*d,p=j*d;if(f||g){f*=de,g*=de;var q=Math.tan(f),r=Math.tan(g);m-=k*r*c,n+=j*r*c,o+=j*q*d,p+=k*q*d}a+=-m*h-o*i,b+=-n*h-p*i,this.append(m,n,o,p,a,b)},b.prototype.appendTransform=function(a,b,c,d,e,f,g,h,i){return this._multiplyTransform(a,b,c,d,e,f,g,h,i,!1),this},b.prototype.transformPoint=function(a){var b=a.x,c=a.y;return a.x=this.a*b+this.c*c+this.tx,a.y=this.b*b+this.d*c+this.ty,a},b.prototype.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},b.prototype.invert=function(){var a=this.a,b=this.b,c=this.c,d=this.d,e=this.tx,f=a*d-b*c;return this.a=d/f,this.b=-b/f,this.c=-c/f,this.d=a/f,this.tx=(c*this.ty-e*d)/f,this.ty=-(a*this.ty-e*b)/f,this},b.identity=new b(1,0,0,1,0,0),b}(Tc),Oh=function(a){function b(b,c,d,e){"undefined"==typeof b&&(b=0),"undefined"==typeof c&&(c=0),"undefined"==typeof d&&(d=0),"undefined"==typeof e&&(e=0),a.call(this),this.x=b,this.y=c,this.width=d,this.height=e}return Uc(b,a),d(b.prototype,"right",{get:function(){return this.x+this.width},set:function(a){this.width=a-this.x},enumerable:!0,configurable:!0}),d(b.prototype,"left",{get:function(){return this.x},set:function(a){this.x=a},enumerable:!0,configurable:!0}),d(b.prototype,"bottom",{get:function(){return this.y+this.height},set:function(a){this.height=a-this.y},enumerable:!0,configurable:!0}),d(b.prototype,"top",{get:function(){return this.y},set:function(a){this.y=a},enumerable:!0,configurable:!0}),b.prototype.set=function(a,b,c,d){return this.x=a,this.y=b,this.width=c,this.height=d,this},b.prototype.clone=function(){return new b(this.x,this.y,this.width,this.height)},b.identity=new b(0,0,0,0),b}(Tc),Ph=function(a){function b(b,c){a.call(this),this._canceler=null,this.loaded=0,this.onload=null,this._node=this._createNode(),this._node.setAttribute("preload","true"),this.controlable=!0,c&&c.appendChild(this._node),b&&(this.src=b)}return Uc(b,a),b.prototype._createNode=function(){return null},d(b.prototype,"node",{get:function(){return this._node},enumerable:!0,configurable:!0}),d(b.prototype,"controlable",{get:function(){return null!=this._node.getAttribute("controls")},set:function(a){a?this._node.setAttribute("controls","true"):this._node.removeAttribute("controls")},enumerable:!0,configurable:!0}),b.prototype.resume=function(){this._node.play&&this._node.play()},b.prototype.pause=function(){this._node.pause&&this._node.pause()},d(b.prototype,"support",{get:function(){return!1},enumerable:!0,configurable:!0}),b.prototype.getType=function(a){return a},b.prototype.stop=function(){this.pause()},b.prototype.replay=function(){this.currentTime=0,this.resume()},d(b.prototype,"src",{get:function(){return this._node.src},set:function(a){if(this.src!==a){this.loaded=0,this.support||(this._addEvents(),this._node.src=a);var b=this.getType(a);b?(this._node.setAttribute("type",b),this._addEvents()):this._addEvents(0),this._node.src=a}},enumerable:!0,configurable:!0}),b.prototype._addEvents=function(a){var c=this;"undefined"==typeof a&&(a=b.TIMEOUT),this._removeEvents();var d=this._node,e=function(){c._onload(!1)},f=function(){c._onload(!0)},g=this.support;g&&(d.addEventListener("canplaythrough",e,!1),d.addEventListener("stalled",e,!1),d.addEventListener("error",f,!1)),g||(a=0);var h=kd(f,a);this._canceler=function(){g&&(d.removeEventListener("canplaythrough",e,!1),d.removeEventListener("stalled",e,!1),d.removeEventListener("error",f,!1)),ld(h),d=f=e=null}},b.prototype._removeEvents=function(){this._canceler&&(this._canceler(),this._canceler=null)},b.prototype._onload=function(a){this._removeEvents(),this.loaded=a?-1:1,this.onload&&this.onload()},d(b.prototype,"paused",{get:function(){return!!this._node.paused},enumerable:!0,configurable:!0}),d(b.prototype,"muted",{get:function(){return!!this._node.muted},set:function(a){this.muted!==a&&(this._node.muted=a)},enumerable:!0,configurable:!0}),d(b.prototype,"volume",{get:function(){return this._node.volume||0},set:function(a){this.volume!==a&&(this._node.volume=a)},enumerable:!0,configurable:!0}),d(b.prototype,"currentTime",{get:function(){return this._node.currentTime||0},set:function(a){if(this.currentTime!==a)try{this._node.currentTime=a}catch(b){}},enumerable:!0,configurable:!0}),d(b.prototype,"duration",{get:function(){try{return this._node.duration||0}catch(a){return 0}},enumerable:!0,configurable:!0}),b.prototype.destroy=function(){this._node.pause(),Mb(this._node),this._node=null,this._removeEvents()},b.TIMEOUT=12345,b}(Tc),Qh=function(a){function b(){a.apply(this,arguments)}return Uc(b,a),b.prototype._createNode=function(){return Lg("audio")},d(b.prototype,"support",{get:function(){return b.support},enumerable:!0,configurable:!0}),b.prototype.getType=function(a){var c=a.substr(a.lastIndexOf(".")+1);return b.typeTable[c]},b.typeTable={mp3:"audio/mpeg;",ogg:"audio/ogg; codecs='vorbis'",wav:"audio/wav; codecs='1'",m4a:"audio/x-m4a;",acc:"audio/aac;"},b.supportTypes={},b.support=!1,b}(Ph);!function(){var a=Lg("audio"),b=Qh.supportTypes;Qh.support=!!a.canPlayType;try{Qh.support&&(b.ogg=!!a.canPlayType("audio/ogg; codecs='vorbis'").replace(/^no$/,""),b.mp3=!!a.canPlayType("audio/mpeg;").replace(/^no$/,""),b.wav=!!a.canPlayType("audio/wav; codecs='1'").replace(/^no$/,""),b.m4a=!!(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(c){}}();var Rh={_cache:[],_counter:0,get:function(){return this._cache.length?this._cache.pop():wd+this._counter++},add:function(a){this._cache.push(a)}},Sh=function(a){function b(){a.apply(this,arguments)}return Uc(b,a),b.prototype._createNode=function(){var a=Lg("video");return a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.textContent="Your browser does not support the HTML5 video.",a},d(b.prototype,"support",{get:function(){return b.support},enumerable:!0,configurable:!0}),b.prototype.getType=function(a){var c=a.substr(a.lastIndexOf(".")+1);return b.typeTable[c]},b.typeTable={mp4:"video/mp4; codecs='avc1.42E01E'",ogg:"video/ogg; codecs='theora'",ogv:"video/ogg; codecs='theora'",webm:"video/webm; codecs='vp8, vorbis'"},b.supportTypes={},b.support=!1,b}(Ph);!function(){var a=Lg("video"),b=Sh.supportTypes;Sh.support=!!a.canPlayType;try{Sh.support&&(b.ogg=!!a.canPlayType("video/ogg; codecs='theora'").replace(/^no$/,""),b.h264=!!a.canPlayType("video/mp4; codecs='avc1.42E01E'").replace(/^no$/,""),b.webm=!!a.canPlayType("video/webm; codecs='vp8, vorbis'").replace(/^no$/,""))}catch(c){}}();var Th=function(b){function c(a,c){b.call(this),this._src="",this._url="",this._eventAdds=!1,this._timer=null,this.loaded=0,this.onload=null,this._canceler=null,this._paused=!0,this._muted=!1,this._originalVolume=1,this._volume=1,this._currentTime=0,this._duration=0;var d=this._node=Lg("iframe");d.setAttribute("webkitallowfullscreen",""),d.setAttribute("mozallowfullscreen",""),d.setAttribute("allowfullscreen",""),d.setAttribute("frameborder","0"),d.setAttribute("width","100%"),d.setAttribute("height","100%"),d.id=this.playerId=wd+w(),c&&c.appendChild(this._node),a&&(this.src=a)}return Uc(c,b),d(c.prototype,"node",{get:function(){return this._node},enumerable:!0,configurable:!0}),d(c.prototype,"src",{get:function(){return this._src},set:function(a){this.src!==a&&(this._src=a,this.loaded=0,this._paused=!0,Uh?(this._countDown(c.TIMEOUT,!0),this._eventAdds||this._listenMessages(),this._node.src=this._url=Hc(c.pattern,this),this._url=this._url.split("?")[0]):this._countDown(0,!0))},enumerable:!0,configurable:!0}),c.prototype._clearTimer=function(){this._timer&&(ld(this._timer),this._timer=null)},c.prototype._countDown=function(a,b){var c=this;this._clearTimer(),this._timer=kd(function(){c._onload(b)},a)},c.prototype._onload=function(a){this._clearTimer(),this.loaded=a?-1:1,a?this._post("unload"):(this._addEvents(),this._post("getDuration")),this.onload&&this.onload()},c.prototype._listenMessages=function(){var b=this;this._eventAdds=!0;var c=function(a){return b._onmessage(a)};a.addEventListener("message",c,!1),this._canceler=function(){a.removeEventListener("message",c,!1),c=null}},c.prototype._addEvents=function(){this._removeEvents(),this._post("addEventListener","pause"),this._post("addEventListener","play"),this._post("addEventListener","playProgress"),this._post("addEventListener","seek")},c.prototype._removeEvents=function(){this._post("removeEventListener","pause"),this._post("removeEventListener","play"),this._post("removeEventListener","playProgress"),this._post("removeEventListener","seek")},c.prototype._onmessage=function(a){var b=a.data;if(b){var c=JSON.parse(b);if(this.playerId===c.player_id)if(c.event)switch(c.event){case"ready":this.loaded||this._onload(!1);break;case"pause":this._paused=!0;break;case"play":this._paused=!1;break;case"seek":case"playProgress":this._currentTime=+c.seconds}else if(c.method)switch(c.method){case"getDuration":this._duration=+c.value}}},c.prototype._post=function(a,b){if(Uh&&1===this.loaded){var c={method:a};null!=b&&(c.value=b);var d=this._node.contentWindow;d&&d.postMessage(JSON.stringify(c),this._url)}},c.prototype.resume=function(){this.paused&&this._post("play")},c.prototype.pause=function(){this.paused||this._post("pause")},c.prototype.stop=function(){this.pause()},c.prototype.replay=function(){this.currentTime=0,this.resume()},d(c.prototype,"paused",{get:function(){return this._paused},enumerable:!0,configurable:!0}),d(c.prototype,"muted",{get:function(){return this._muted},set:function(a){this.muted!==a&&(this._muted=a,a?(this._originalVolume=this.volume,this._post("setVolume",0)):this.volume=this._originalVolume)},enumerable:!0,configurable:!0}),d(c.prototype,"volume",{get:function(){return this._muted?this._originalVolume:this._volume},set:function(a){this._originalVolume=a,this.volume!==a&&this._post("setVolume",a)},enumerable:!0,configurable:!0}),d(c.prototype,"currentTime",{get:function(){return this._currentTime},set:function(a){this.currentTime!==a&&this._post("seekTo",a)},enumerable:!0,configurable:!0}),d(c.prototype,"duration",{get:function(){return this._duration},enumerable:!0,configurable:!0}),c.prototype.destroy=function(){this.loaded&&(this._post("unload"),this._removeEvents()),this._canceler&&(this._canceler(),this._canceler=null),Mb(this._node),this._clearTimer(),this._node=null},c.TIMEOUT=12345,c.pattern="http://player.vimeo.com/video/{src}?wmode=opaque&api=1&player_id={playerId}&portrait=0",c}(Tc),Uh=!!a.postMessage,Vh=function(b){function c(a,c){b.call(this),this._src="",this._timer=null,this._playerReady=0,this._handlers={onReady:"",onError:"",onStateChange:""},this.loaded=0,this.onload=null;var d=this._node=Lg("iframe");d.setAttribute("webkitallowfullscreen",""),d.setAttribute("mozallowfullscreen",""),d.setAttribute("allowfullscreen",""),d.setAttribute("frameborder","0"),d.setAttribute("width","100%"),d.setAttribute("height","100%"),this.player=null,c&&c.appendChild(this._node),a&&(this.src=a)}return Uc(c,b),d(c.prototype,"node",{get:function(){return this._node},enumerable:!0,configurable:!0}),d(c.prototype,"src",{get:function(){return this._src},set:function(a){if(this.src!==a){this._src=a,this.loaded=0;var b=Wh.getInstance();this.player||this._playerReady||b.contains(this)||b.add(this),b=null,1===this._playerReady?this._load():-1===this._playerReady&&this._countDown(0,!0)}},enumerable:!0,configurable:!0}),c.prototype._clearTimer=function(){this._timer&&(ld(this._timer),this._timer=null)},c.prototype._countDown=function(a,b){var c=this;this._clearTimer(),this._timer=kd(function(){c._onload(b)},a)},c.prototype.onApiReady=function(){var b=this;a[this._handlers.onReady=Rh.get()]=function(){b.onPlayerReady()},this._node.src=Hc(c.pattern,this),this.player=new a.YT.Player(this._node,{}),this._timer=kd(function(){b.onPlayerError()},12345),this.player.addEventListener("onReady",this._handlers.onReady)},c.prototype.onApiError=function(){this._playerReady=-1,this._countDown(0,!0)},c.prototype.onPlayerReady=function(){this._clearEvents(),this._playerReady=1,this._load()},c.prototype.onPlayerError=function(){this._removeEvents(),this._playerReady=-1;try{this.player.destroy()}catch(a){}this.player=null,this._onload(!0)},c.prototype._load=function(){var b=this;this._clearEvents(),a[this._handlers.onError=Rh.get()]=function(a){a&&a.data&&b._onload(!0)},a[this._handlers.onStateChange=Rh.get()]=function(a){!a||1!==a.data&&5!==a.data||b._onload(!1)},this.player.addEventListener("onStateChange",this._handlers.onStateChange),this.player.addEventListener("onError",this._handlers.onError),this._countDown(c.TIMEOUT,!0),this.player.cueVideoById(this.src,0)},c.prototype._onload=function(a){this._clearEvents(),this.loaded=a?-1:1,a&&1===this._playerReady&&this.player.stopVideo(),this.onload&&this.onload()},c.prototype._removeEvents=function(){var b=this._handlers,c=this.player;for(var d in b){var e=b[d];e&&(a[e]=td,c&&c.removeEventListener&&c.removeEventListener(d,e),Rh.add(e),b[d]="")}},c.prototype._clearEvents=function(){this._clearTimer(),this._removeEvents()},c.prototype.resume=function(){1===this._playerReady&&this.player.playVideo()},c.prototype.pause=function(){1===this._playerReady&&this.player.pauseVideo()},c.prototype.stop=function(){1===this._playerReady&&this.player.stopVideo()},c.prototype.replay=function(){this.currentTime=0,this.resume()},d(c.prototype,"paused",{get:function(){if(1===this._playerReady){var a=this.player.getPlayerState();return 1!==a&&3!==a}return!1},enumerable:!0,configurable:!0}),d(c.prototype,"muted",{get:function(){return!(1!==this._playerReady||!this.player.isMuted())},set:function(a){this.muted!==a&&1===this._playerReady&&(a?this.player.mute():this.player.unMute())},enumerable:!0,configurable:!0}),d(c.prototype,"volume",{get:function(){return 1===this._playerReady?this.player.getVolume()/100:1},set:function(a){this.volume!==a&&1===this._playerReady&&this.player.setVolume(~~(100*a))},enumerable:!0,configurable:!0}),d(c.prototype,"currentTime",{get:function(){return 1===this._playerReady?this.player.getCurrentTime():0},set:function(a){this.currentTime!==a&&1===this._playerReady&&this.player.seekTo(a,!0)},enumerable:!0,configurable:!0}),d(c.prototype,"duration",{get:function(){return 1===this._playerReady?this.player.getDuration():0},enumerable:!0,configurable:!0}),c.prototype.destroy=function(){if(Wh.instance&&Wh.getInstance().remove(this),this._clearEvents(),this.player){1===this._playerReady&&this.player.stopVideo();try{this.player.destroy()}catch(a){}this.player=null}this._playerReady=-1,Mb(this._node),this._node=null},c.pattern=function(){var a="https://www.youtube.com/embed/{src}?wmode=opaque&enablejsapi=1&portrait=0";return/^http/.exec(location.protocol)?a+"&origin="+location.origin:a}(),c.TIMEOUT=12345,c}(Tc),Wh=function(){function c(){this.ready=0,this.loading=!1,this._queue=[]}return c.prototype.load=function(){var c=this;if(!this.ready&&!this.loading){this.loading=!0;var d,e=a.onYouTubeIframeAPIReady,f=null,g=function(b){return function(){null!=f&&ld(f),a.onYouTubeIframeAPIReady=null,d.onerror=null,d=null,c.onready(b),e&&(e.call(a),e=null)}};a.onYouTubeIframeAPIReady=g(!0);var h=g(!1);d=Lg("script"),d.onerror=h,d.src="https://www.youtube.com/iframe_api";var i=function(){var a=b.body;a?(a.appendChild(d),f=kd(h,12345)):kd(i,500),a=null};i()}},c.prototype.onready=function(a){this.ready=a?1:-1,this.loading=!1;for(var b=this._queue;b.length;){var c=b.shift();c&&(a?c.onApiReady():c.onApiError())}},c.prototype.contains=function(a){return this._queue.indexOf(a)>=0},c.prototype.add=function(a){return this.ready?this.ready>0?a.onApiReady():a.onApiError():(this.load(),this._queue.push(a)),this},c.prototype.remove=function(a){var b=this._queue.indexOf(a);return b>=0&&this._queue.splice(b,1),this},c.getInstance=function(){var a=c;return a.instance||(a.instance=new a),a.instance},c}(),Xh={_classes:{},register:function(a,b){b.pluginType=a,Xh._classes[a]=b},create:function(a,b,c){try{var d=new Xh._classes[a](c,b);return d}catch(e){return null}}},Yh=function(a){function b(b){a.call(this),this.app=b,this._timer=null,this._init()}return Uc(b,a),b.prototype._init=function(){this._progressBar=new Mh({container:this.app.container,trikleRatio:.01}),this._setLoadEvents(!0)},b.prototype._setLoadEvents=function(a){var b=this.app,c=a?"addEventListener":"removeEventListener";b[c]("preloadStart",this._start,this),b[c]("preloadProgress",this._onPreloadProgress,this),b[c]("preloadEnd",this._done,this),b[c]("loadStart",this._start,this),b[c]("loadProgress",this._onLoadProgress,this),b[c]("loadEnd",this._done,this)},b.prototype._clearTimer=function(){null!=this._timer&&(ld(this._timer),this._timer=null)},b.prototype._start=function(){var a=this;this._clearTimer(),this._timer=kd(function(){a._clearTimer(),a._progressBar.start()},150)},b.prototype._done=function(){this._clearTimer(),this._progressBar.done()},b.prototype._onPreloadProgress=function(a){var b=a.data,c=~~(b.loadedNumScenes*(1/b.targetNumScenes)),d=b.loaded/b.total/b.targetNumScenes;this._timer&&(this._clearTimer(),this._start()),this._progressBar.set(c+d)},b.prototype._onLoadProgress=function(a){var b=a.data;b.sceneIndex===this.app.current&&this._progressBar.set(b.loaded/b.total)},b.prototype.destroy=function(){a.prototype.destroy.call(this),this._setLoadEvents(!1),this._clearTimer(),this._progressBar.destroy(),this._progressBar=null},b}(Vc);Xh.register("progressBar",Yh);var Zh=function(){},$h=Zh.prototype=[];$h.__leoS__=1;var _h=function(a){return si(a,$h)},ai=function(a){return _h(a.nodeType?[a]:sd("string"==typeof a?b.querySelectorAll(a):a))};$h.addClass=function(a){return this.classed(a,1)},$h.append=function(a){if(a.nodeType)return ai(this[0].appendChild(a));if("function"==typeof a)return this.select(function(b){return this.appendChild(a.call(this,b))});for(var b=ai(a),c=this[0],d=-1,e=b.length;++d<e;)c.appendChild(b[d]);return b},$h.appendTo=function(a){if("function"==typeof a)return this.each(function(b){a.call(this,b).appendChild(this)});var b=ai(a)[0];return b?this.each(function(){b.appendChild(this)}):this},$h.at=function(a){return _h([this[a]])},$h.attr=function(a,b){if(arguments.length<2){if("string"==typeof a){var c=this[0],d=Kg(a);return d.space?c.getAttributeNS(d.space,d.local):c.getAttribute(a)}for(var e in a)this.each(jc(e,a[e]));return this}return this.each(jc(a,b))},$h.bind=function(a,b){var c=Og;return this.each(arguments.length<2?function(){for(var b in a)c(this,b,a[b])}:function(){c(this,a,b)})},$h.children=function(a){for(var b="function"==typeof a?a:a?function(){return ah(a,this)}:function(){return!0},c=[],d=-1,e=this.length;++d<e;){var f=this[d];if(f&&(1===f.nodeType||9===f.nodeType))for(var g=f.children,h=-1,i=g.length;++h<i;)f=g[h],f&&1===f.nodeType&&b.call(f,h,d)&&c.push(f)}return _h(c)},$h.classed=function(a,b){if(arguments.length<2){if("string"==typeof a){var c=this[0],d=a.split(/^|\s+/),e=d.length,f=-1,g=c.classList;if(g){for(;++f<e;)if(!g.contains(d[f]))return!1}else for(var h=" "+c.className+" ";++f<e;)if(h.indexOf(" "+d[f])<0)return!1;return!0}for(var i in a)this.each(kc(i,a[i]));return this}return this.each(kc(a,b))},$h.clone=function(a){var b=this;return a&&(b=this.filter(a)),b.select(function(){return Fb(this)})},$h.each=function(a){for(var b=-1,c=this.length;++b<c;)a.call(this[b],b);return this},$h.el=function(a){var b=mc(a);return this.select(function(a){return this.appendChild(b.call(this,a))})};var bi=ai.el=function(a){return ai(Lg(a))};$h.filter=function(a){for(var b="function"==typeof a?a:function(){return ah(a,this)},c=[],d=-1,e=this.length;++d<e;){var f=this[d];f&&b.call(f,d)&&c.push(f)}return _h(c)},$h.hasClass=function(a){return this.classed(a)},$h.html=function(a,b){return 0===arguments.length?this[0].innerHTML:(b=!!b,this.each("function"==typeof a?function(c){Zg(this,a.call(this,c),b)}:function(){Zg(this,a,b)}))},$h.insert=function(a,b){var c=b;if("function"!=typeof b){var d=ai(b)[0];c=function(){return d}}if(a.nodeType)return ai(this[0].insertBefore(a,c.call(this[0],0)));if("function"==typeof a)return this.select(function(b){return this.insertBefore(a.call(this,b),c.call(this,b))});for(var e=ai(a),f=this[0],g=-1,h=e.length;++g<h;)f.insertBefore(e[g],c.call(f,g));return e},$h.parent=function(){return this.select(function(){var a=this.parentNode;return a&&11!==a.nodeType?a:null})};var ci=function(a,b){return ai(nh(a,b).childNodes)};ai.parse=ci,$h.prepend=function(a){return this.insert(a,function(){return this.firstChild})},$h.prependTo=function(a){if("function"==typeof a)return this.each(function(b){var c=a.call(this,b);c.insertBefore(this,c.firstChild||null)});var b=ai(a)[0];return b?this.each(function(){b.insertBefore(this,b.firstChild||null)}):this},$h.prop=function(a,b){if(arguments.length<2){if("string"==typeof a)return"value"===a?this.val():this[0][a];var c="value"in a;c&&this.val(a.value);for(var d in a)c&&"value"===d||this.each(nc(d,a[d]));return this}return"value"===a?this.val(b):this.each(nc(a,b))},$h.range=function(a,b){return _h(this.slice(a,b))},$h.remove=function(){return this.each(function(){Mb(this)})},$h.removeClass=function(a){return this.classed(a,0)},$h.select=function(a){for(var b="function"==typeof a?a:function(){return this.querySelectorAll(a)},c=[],d=-1,e=this.length;++d<e;){var f=this[d],g=b.call(f,d);if(g)if(g.nodeType&&!g.length)c.push(g);else for(var h=sd(g),i=-1,j=h.length;++i<j;)(f=h[i])&&c.push(f)}return _h(c)},$h.style=function(a,b){if(arguments.length<2){if("string"==typeof a)return wh(this[0],a);for(var c in a)this.each(oc(c,a[c]));return this}return this.each(oc(a,b))},$h.text=function(a){if(0===arguments.length)return this[0].innerHTML;var b;return"function"==typeof a?b=function(b){this.textContent=a.call(this,b)}:(a=""+a,b=function(){this.textContent=a}),this.each(b)},$h.toggleClass=function(a){return this.classed(a,2)},$h.traverse=function(a,b){var c="function"==typeof b?b:b?function(){return ah(b,this)}:function(){return!0};return this.each(function(){for(var b=[this];b.length;){var d=b.pop();if(1===d.nodeType){c.call(d)&&a.call(d);for(var e=d.children,f=-1,g=e.length;++f<g;)b.push(e[f])}}})},$h.unbind=function(a,b){var c=Rg;return this.each(arguments.length<2?function(){for(var b in a)c(this,b,a[b])}:function(){c(this,a,b)})},$h.unbindAll=function(a){var b=Sg;if(arguments.length<1)return this.each(function(){b(this)});var c=a.split(" ");return this.each(function(){for(var a=-1,d=c.length;++a<d;){var e=c[a];e&&b(this,e)}})},$h.val=function(a){if(0===arguments.length){var b=this[0];if(1===b.nodeType)return(b.value||"").replace(/\r/g,"")}var c="function"==typeof a;return this.each(function(b,d){if(1===this.nodeType){var e;e=c?a.call(this,b,d):a,this.value=e}})},$h.wrap=function(a,b){b=!!b;var c=typeof a;if("function"===c)return this.each(function(b){$b(this,a.call(this,b))});var d="string"===c?nh(a,b):a;return this.each(function(){$b(this,d.cloneNode(!0))})};var di,ei=function(a){function b(b,c,d,e){a.call(this),this._currentActionName="",this._currentActionIndex=0,this._currentFrame=0,this._currentSrc="",this.element=Lg("div"),this.loaded=0,this._imgs=null,this.onload=null,b&&b.appendChild(this.element),this._init(c,d,e)}return Uc(b,a),b.prototype._init=function(a,b,c){this._srcset=a||[],this._frames=b||[],this._actions=c||{},this._load()},d(b.prototype,"srcset",{get:function(){return this._srcset},set:function(a){this._srcset=a||[],this._load()},enumerable:!0,configurable:!0}),d(b.prototype,"frames",{get:function(){return this._frames},set:function(a){this._frames=a||[],this._currentActionName?this._setCurrentActionIndex(this._currentActionIndex,!0):this._setCurrentFrame(0,!0)},enumerable:!0,configurable:!0}),b.prototype.getAction=function(a){return this._actions[a]},b.prototype.containsAction=function(a){return this._actions.hasOwnProperty(a)},d(b.prototype,"actions",{set:function(a){this._actions=a||{},this._currentActionName&&this.containsAction(this._currentActionName)?this._setCurrentActionIndex(this._currentActionIndex,!1):this.currentActionName=""},enumerable:!0,configurable:!0}),b.prototype.addAction=function(a,b){this._actions[a]=b},b.prototype.removeAction=function(a){this.containsAction(a)&&delete this._actions[a]},d(b.prototype,"currentActionName",{get:function(){return this._currentActionName},set:function(a){this._currentActionName!==a&&(this._currentActionName=this.containsAction(a)?a:"",this.currentActionIndex=0)},enumerable:!0,configurable:!0}),d(b.prototype,"currentActionIndex",{get:function(){return this._currentActionIndex},set:function(a){this._setCurrentActionIndex(a,!1)},enumerable:!0,configurable:!0}),d(b.prototype,"numFramesOfCurrentAction",{get:function(){return this.getNumFramesOfAction(this._currentActionName)},enumerable:!0,configurable:!0}),b.prototype.getNumFramesOfAction=function(a){return a&&this.containsAction(a)?this._actions[a].length:0},b.prototype._setCurrentActionIndex=function(a,b){var c=this.numFramesOfCurrentAction;return c?(a>=c?a=c-1:0>a&&(a=0),this._currentActionIndex=a,void this._setCurrentFrame(this._actions[this._currentActionName][a],b)):(this._currentActionIndex=0,void this._setCurrentFrame(0,b))},d(b.prototype,"currentFrame",{get:function(){return this._currentFrame},set:function(a){this._setCurrentFrame(a,!1)},enumerable:!0,configurable:!0}),b.prototype._setCurrentFrame=function(a,b){var c=this._frames.length;a>=c&&(a=c-1),0>a&&(a=0),(b||this._currentFrame!==a)&&this.update(a,b)},d(b.prototype,"currentSrc",{get:function(){return this._currentSrc},enumerable:!0,configurable:!0}),b.prototype._setCurrentSrc=function(a,b,c,d){if(d||this._currentSrc!==a){this._currentSrc=a;var e=this.element.style;e.backgroundImage=a?"url("+a+")":"none",e.width=b+"px",e.height=c+"px",this._onSizeChange(b,c)}},b.prototype.update=function(a,b){var c=this._currentFrame;if(this._currentFrame=a,this.loaded){var d=this._frames,e=this.element.style;if(!d.length)return void this._setCurrentSrc("",0,0,b);var f=d[a];if(this._setCurrentSrc(this._srcset[f[0]],f[3],f[4],b),c!==a){var g=d[c];(g[3]!==f[3]||g[4]!==f[4])&&(e.width=f[3]+"px",e.height=f[4]+"px",this._onSizeChange(f[3],f[4])),(g[1]!==f[1]||g[2]!==f[2])&&(e.backgroundPosition=-f[1]+"px "+-f[2]+"px")}else e.backgroundPosition=-f[1]+"px "+-f[2]+"px"}},b.prototype._load=function(){function a(){this.onload=this.onerror=null,--d||f._onload(!!e)}function b(){this.onload=this.onerror=null,++e,--d||f._onload(!0)}if(this._clearLoad(),this._currentFrame=0,this._srcset.length){var c=this._srcset;this._imgs||(this._imgs=[]);for(var d=c.length,e=0,f=this,g=(this.element,this._imgs),h=-1,i=c.length;++h<i;){var j=g[h]=Lg("img");j.onload=a,j.onerror=b,j.src=c[h]}}else this._onload(!0)},b.prototype._clearLoad=function(){this._imgs&&(this._imgs.forEach(function(a){a.onload=a.onerror=null,a.src=qd}),this._imgs.length=0),this.loaded=0},b.prototype._onload=function(a){this.loaded=a?-1:1,this.update(this._currentFrame,!0),this.onload&&this.onload()},b.prototype._onSizeChange=function(a,b){this.onSizeChange&&this.onSizeChange(a,b)},b.prototype.destroy=function(){this._clearLoad(),this._imgs=null,this._actions=null,this._srcset=null,this._frames=null,this.element&&Mb(this.element),this.element=null},b}(Tc),fi=function(a){function b(b,c){a.call(this),this.context=c,this.deep=!1,this._family="",this._size=16,this._color="#000",this._bold=!1,this._el=b}return Uc(b,a),d(b.prototype,"el",{get:function(){return this._el},enumerable:!0,configurable:!0}),d(b.prototype,"family",{get:function(){return this._family},set:function(a){if(this._family!==a){var b=this._family;this._family=a,this._set(function(){this.style.fontFamily=a}),this.notifyPropertyChange("family",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"size",{get:function(){return this._size},set:function(a){if(this._size!==a){var b=this._size;this._size=a;var c=a+"px";this._set(function(){this.style.fontSize=c}),this._onSizeChange(b),this.notifyPropertyChange("size",b)}},enumerable:!0,configurable:!0}),b.prototype._onSizeChange=function(){},d(b.prototype,"color",{get:function(){return this._color},set:function(a){if(this._color!==a){var b=this._color;this._color=a,this._set(function(){this.style.color=a}),this.notifyPropertyChange("color",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"bold",{get:function(){return this._bold},set:function(a){if(this._bold!==a){this._bold=a;var b=a?"400":"100";this._set(function(){this.style.fontWeight=b}),this.notifyPropertyChange("bold",!a)}},enumerable:!0,configurable:!0}),b.prototype._set=function(a,b){this.deep?this._el.traverse(a,b):a.call(this._el[0])},b.prototype.notifyPropertyChange=function(a,b){this.context&&this.context.notifyPropertyChange("textFormat."+a,b)},b.prototype.destroy=function(){this._el=this.context=null},b.compatProperty=function(a){return b._compatTable[a]},b._compatTable={color:"textFormat.color",family:"textFormat.family",bold:"textFormat.bold",size:"textFormat.size"},b}(Tc),gi=function(a){function b(b,c){a.call(this,b,c),this.context=c,this._align="left",this._letterSpacing=0,this._leading=0}return Uc(b,a),d(b.prototype,"align",{get:function(){return this._align},set:function(a){if(this._align!==a){var b=this._align;this._align=a,this._set(function(){this.style.textAlign=a},function(){return"p"===this.nodeName.toLowerCase()}),this.notifyPropertyChange("align",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(a){if(this._letterSpacing!==a){var b=this._letterSpacing;this._letterSpacing=a;var c=a+"px";this._set(function(){this.style.letterSpacing=c}),this.notifyPropertyChange("letterSpacing",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"leading",{get:function(){return this._leading},set:function(a){if(this._leading!==a){var b=this._leading;this._leading=a;var c=this.size+a+"px";this._set(function(){this.style.lineHeight=c},function(){return"p"===this.nodeName.toLowerCase()}),this.notifyPropertyChange("leading",b)}},enumerable:!0,configurable:!0}),b.prototype._onSizeChange=function(){this._el[0].style.lineHeight=this.size+this._leading+"px"},b.compatProperty=function(a){return fi._compatTable[a]||b._compatTable[a]},b._compatTable={align:"textFormat.align",letterSpacing:"textFormat.letterSpacing",leading:"textFormat.leading"},b}(fi),hi=tc(rc,"fatal"),ii=tc(qc,"warn"),ji=tc(pc,"log"),ki=sc(hi),li=sc(ii),mi=sc(ji),ni=function(){function a(){}return a.timeStampEnabled=!0,a.fatal=vc(uc(wc(ki,hi,xc))),a.warning=vc(uc(wc(li,ii,xc))),a.log=vc(uc(wc(mi,ji,xc))),a}(),oi=function(){function a(){}return a.addPoolingTo=function(b,c){"undefined"==typeof c&&(c=a.DEFAULT),b.instancePool=[],b.getPooled=c,b.poolSize||(b.poolSize=a.DEFAULT_SIZE),b.recycle=a.DEFAULT_RECYCLER},a.DEFAULT_RECYCLER=function(a){var b=this;a.destructor&&a.destructor(),b.instancePool.length<b.poolSize&&b.instancePool.push(a)},a.DEFAULT=function(a){var b=this;if(b.instancePool.length){var c=b.instancePool.pop();return c.reinitialize&&c.reinitialize(a),c}return new b(a)},a.TWO_ARGUMENTS=function(a,b){var c=this;if(c.instancePool.length){var d=c.instancePool.pop();return d.reinitialize&&d.reinitialize(a,b),d}return new c(a,b)},a.THREE_ARGUMENTS=function(a,b,c){var d=this;if(d.instancePool.length){var e=d.instancePool.pop();return e.reinitialize&&e.reinitialize(a,b,c),e}return new d(a,b,c)},a.FOUR_ARGUMENTS=function(a,b,c,d){var e=this;
if(e.instancePool.length){var f=e.instancePool.pop();return f.reinitialize&&f.reinitialize(a,b,c,d),f}return new e(a,b,c,d)},a.FIVE_ARGUMENTS=function(a,b,c,d,e){var f=this;if(f.instancePool.length){var g=f.instancePool.pop();return g.reinitialize&&g.reinitialize(a,b,c,d,e),g}return new f(a,b,c,d,e)},a.DEFAULT_SIZE=10,a}(),pi={"<":"lt",">":"gt","&":"amp"},qi=/\{([^\}]+)\}/g,ri=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,si=("l"+(Math.random()+"").substr(3,5),Object.setPrototypeOf||{}.__proto__===Object.prototype?function(a,b){return a.__proto__=b,a}:function(a,b){for(var c in b)a[c]=b[c];return a}),ti=function(a){function b(b){a.call(this,b),this._initialWidth=this.options.initialWidth,this._initialHeight=this.options.initialHeight}return Uc(b,a),b.prototype._afterInit=function(){this.resize(this._initialWidth,this._initialHeight)},b.prototype.play=function(){return this.start(),this.current=0,this.resume()},b.prototype.reset=function(){return this.pause(),this.current=-1,this},b.prototype.replay=function(){return this.reset(),this.play()},b.prototype.initLayout=function(){this._app=this._container},b.prototype.initStage=function(){a.prototype.initStage.call(this),this.stage.overflowMode="visible"},b.prototype.destroyLayout=function(){},b.prototype.resize=function(b,c){this._initialized?a.prototype.resize.call(this,b,c):(this._initialWidth=b,this._initialHeight=c)},b}(je);a.hiSliderFactory=Pc,Xb(Rc,{RootTimeline:_c,Tween:ad,Animation:Wc,Timeline:Yc})}(this,document);